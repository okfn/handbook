(dp0
S'4310'
p1
(dp2
S'wp_author'
p3
S'Michael Bauer'
p4
sS'userid'
p5
S'2191'
p6
sS'excerpt'
p7
S''
p8
sS'wp_page_parent_id'
p9
I2889
sS'mt_allow_comments'
p10
I1
sS'text_more'
p11
g8
sS'custom_fields'
p12
(lp13
sS'wp_author_id'
p14
S'2191'
p15
sS'title'
p16
S'Cleaning spending data with Open Refine'
p17
sS'wp_password'
p18
g8
sS'wp_page_parent_title'
p19
S'Recipes'
p20
sS'page_id'
p21
I4310
sS'wp_slug'
p22
S'cleaning-spending-data-open-refine'
p23
sS'wp_page_order'
p24
I0
sS'permaLink'
p25
S'http://schoolofdata.org/handbook/recipes/cleaning-spending-data-open-refine/'
p26
sS'description'
p27
V<div class="content">  <div class="section" id="cleaning-spending-data-with-open-refine">   <p>In this tutorial - you will learn how to turn data, laid out for human consumption into something suitable for importing into a database such as <a class="reference external" href="http://openspending.org/">OpenSpending</a> and to make in computer-friendly for in-depth analysis.</p> <p>You will need to download this <a class="reference external" href="http://datahub.io/en/dataset/sample-spending-data-for-school-of-data-tutorial/resource/9aa6bae4-bcf6-4a24-93a8-b3577f6b7673">sample data</a> to start.</p> <p>Before beginning the tutorial - open this file in a spreadsheet programme - do you see how it is laid out with lots of white space to make it easier for humans to read? This isn\u2019t ideal for a database, so we need to give it a structure databases can understand more easily. Do you spot anything else odd about the data?</p> <img alt="http://farm9.staticflickr.com/8263/8664674833_e08e71758f.jpg" src="http://farm9.staticflickr.com/8263/8664674833_e08e71758f.jpg"> <p>Many problems in formatting financial data can be time-consuming to solve. Luckily, there is a very powerful tool - Open Refine (previously, Google Refine) - which can drastically speed up data cleansing. This tutorial shows you how to use the tool to clear up key issues with the data.</p> <div class="section" id="getting-set-up"> <h2>Getting set up</h2> <p>Install Refine</p> <p>First step is to install Open Refine by following the instructions here:</p> <p><a class="reference external" href="http://code.google.com/p/google-refine/wiki/Downloads">http://code.google.com/p/google-refine/wiki/Downloads</a></p> <p>Open Refine will be an application on your computer that will open up and run in your web browser.</p> <p><strong>Note:</strong> Many users who have Windows as an operating system run Google Refine directly from a Zip File. We strongly advise against this and would suggest extracting the application into a dedicated directory.</p> </div> <div class="section" id="create-project"> <h2>Create Project</h2> <p>Now you need to upload your data to Refine. After you start Refine, it will open a browser and present its landing page. If the page does not appear automatically, you can try to open it by accessing <a class="reference external" href="http://localhost:3333">http://localhost:3333</a> in your browser (simply type this into the URL bar). On the landing page, create a project, choose files and hit \u2018Next\u2019.</p> <p>Before you start editing there are a couple of changes we suggest you make to your data:</p> <p>Character encoding - select either \u201cISO 8859-1\u201d or \u2018UTF-8\u201d - this ensures any special characters or diacritics will be displayed correctly. Parse cell text into numbers, dates, \u2026 - we suggest de-selecting this option as it can often cause errors to occur (e.g. confusion between American and British date formats).</p> </div> <div class="section" id="tricks-and-tips"> <h2>Tricks and Tips</h2> <p>Google Refine is like a spreadsheet editor built for bulk data analysis and processing. It takes a bit of getting used to and unfortunately does not share many commands with familiar programmes such as Excel, however, certain elements are very simple to use.</p> </div> <div class="section" id="getting-familiar-with-facets-and-filters"> <h2>Getting Familiar with Facets and Filters</h2> <p>You will use both facets and filters very often in Refine. Try creating a text facet to understand what they do:</p> <p>Click on the dropdown arrow selecting:</p> <blockquote> <div>Header &gt; Facet &gt; Text Facet</div></blockquote> <p>You will see a box appear which groups all identical cell contents and provides a count for the number of times they appear in that column in your dataset. This is useful for several reasons:</p> <ul> <li><p class="first"><strong>Spotting typos</strong> - for example, creating a text facet gives you an overview of all the unique cells in a column. This means you can easily scroll through them to review. E.g. it could show that some of your cells contain \u201cRroceeds from global taxes\u201d rather than \u201cProceeds from global taxes\u201d - you want to correct the former, so click edit by the facet result and edit it directly. This changes all of the cells with typos.</p> </li> <li><p class="first"><strong>Spotting blank columns</strong>. Think a column is blank and preparing to delete it? Check quickly that there is nothing in it by performing a text facet. If the column is empty, you should get only one result (blank). You can then delete this column by clicking:</p> <p>Dropdown &gt; Edit Column &gt; Remove this Column</p> </li> </ul> <p>Note: Facets only work up to a few thousand unique entries, so if you have a very large dataset and want to find specific values in a column with many distinct values, it may be best to use a filter to search for that item individually. Select this from the column dropdown menu as before.</p> </div> <div class="section" id="fill-down"> <h2>Fill Down</h2> <p>It is not uncommon for data to be produced in a way which is easy for humans to read, but not for machines. Look at the \u2018Head-Account\u2019 Column in the example below:</p> <p>We can see that there is a relationship between the Head-account column and Sub-account. The head account value which is present in the second row should also \u2018fill-down\u2019 numerous rows, as all the sub-accounts fall under this category. Google Refine has a tool to copy the results of a cell down until it meets another entry, in this case, the next value for head account:</p> <div class="highlight-python"><pre>Dropdown &gt; Edit Cells &gt; Fill Down</pre> </div> <p>Check your results have provided the right results by performing some text facets. In this case, you will see that the cell in the top row is blank as there was nothing to fill down from, this will have to be corrected manually.</p> <p>Result:</p> <img alt="http://farm9.staticflickr.com/8259/8664674943_88d552aa20.jpg" src="http://farm9.staticflickr.com/8259/8664674943_88d552aa20.jpg"> <div class="section" id="delete-empty-columns"> <h3>Delete Empty Columns</h3> <p>Use the techniques above to show a column is genuinely empty, then:</p> <div class="highlight-python"><pre>Dropdown &gt; Edit Column &gt; Remove this Column.</pre> </div> </div> <div class="section" id="rename-columns"> <h3>Rename Columns</h3> <p>Like so:</p> <div class="highlight-python"><pre>Dropdown &gt; Edit Column &gt; Rename this Column</pre> </div> </div> <div class="section" id="removing-pseudo-rows"> <h3>Removing Pseudo Rows</h3> <p>You will notice that some of the rows in the data do not actually contain any data. See row 2 in the example below which contains no data for budgeted / actual amounts for either 2008 or 2009:</p> <img alt="http://farm9.staticflickr.com/8257/8665776260_4d370fda87.jpg" src="http://farm9.staticflickr.com/8257/8665776260_4d370fda87.jpg"> <p>This is because it was simply a placeholder row in the original document. There are many like this in the data. To find these, we perform a text facet on the four columns 2008 Budget, 2008 Actual, 2009 Budget and 2009 Actual and in each one, select only the blank cells.</p> <p>When you are done, go to the dropdown in the All column:</p> <blockquote> <div>Dropdown &gt; Edit rows &gt; Remove all matching rows</div></blockquote> </div> </div> <div class="section" id="removing-numbers-in-brackets"> <h2>Removing numbers in brackets</h2> <p>You will notice that in the Head Account and Sub-Account columns, a number appears after the Description. If these do not add any additional value over the head-account description, you can remove them to tidy up the appearance:</p> <div class="highlight-python"><pre>Dropdown &gt; Edit cells &gt; Transform</pre> </div> <p>You will be taken to a screen which will ask you to input some functions in Open Refine code. You can refer to the Help section of the dialogue box for more functions and transformations, we cover just the necessary here:</p> <img alt="http://farm9.staticflickr.com/8265/8664673857_f85a156945.jpg" src="http://farm9.staticflickr.com/8265/8664673857_f85a156945.jpg"> <p>Don\u2019t worry if you don\u2019t understand exactly what is going on here, if you are just trying to tackle exactly the same issue as here, you can simply copy the code here:</p> <div class="highlight-python"><div class="highlight"><pre><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"("</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>\u000a</pre></div> </div> <p>Don\u2019t be afraid of these commands - they are very powerful but you won\u2019t break anything. Experiment with changing the functionality by tweaking the command - you won\u2019t break anything, but tweaking is the best way to learn and understand how these commands work.</p> </div> <div class="section" id="transposing-columns"> <h2>Transposing columns</h2> <p>As you will remember from the documentation on how to format your data, one row must contain one logical piece of information. As you can see from this data, we have 4 columns which correspond to time: ===========  ===========  ===========  =========== 2008 Budget  2008 Actual  2009 Budget  2009 Actual ===========  ===========  ===========  ===========</p> <p>This is additionally complicated as each of these column headers contains multiple pieces of information - (1) budget vs actual spending and (2) which year the entry relates to. This is a key element of the data, rather than the metadata - so should actually be in the main body of the data. We need to split these elements out so that we can filter by them individually later on.</p> <div class="section" id="step-1-transpose"> <h3>Step 1 - Transpose</h3> <p>Like so:</p> <div class="highlight-python"><pre>Dropdown &gt; Transpose &gt; Transpose Cells Across Columns into Rows</pre> </div> <p>You will then be presented with a dialogue box which will look something like this:</p> <img alt="http://farm9.staticflickr.com/8251/8665776420_5e98d89039.jpg" src="http://farm9.staticflickr.com/8251/8665776420_5e98d89039.jpg"> <ul class="simple"> <li>In the From Column and To Column selectors, you need to select the range of the columns you would like to transpose (literally - flip by 90 degrees). We\u2019re taking these four column headings and inserting</li> <li>From is the furthest column left of the range you are selecting, To is the furthest right.</li> <li>In this case you are interested in two new columns, one which will contain what were previously the contents of the header row and another to contain the contents of the cells (the amount). Put a name to describe the original column headers in the Key column field, and a name to describe the original cell contents in the Value column field.</li> <li>You should also select \u2018Fill down in other columns\u2019 to ensure that the data from the existing rows is correctly replicated down the table.</li> </ul> <p>As a result, you should end up with something like this:</p> <img alt="http://farm9.staticflickr.com/8258/8664675137_04cb2b07df.jpg" src="http://farm9.staticflickr.com/8258/8664675137_04cb2b07df.jpg"> <p>As you can see, the cells in the year column still contain information for both a) the year and b) whether the amount is budgeted or actual, so we need to split these out.</p> </div> </div> <div class="section" id="splitting-one-column-into-multiple-columns"> <h2>Splitting one column into multiple columns::</h2> <blockquote> <div>Dropdown &gt; Edit column &gt; Split into several columns</div></blockquote> <p>In the Dialogue box, you will be asked where the column should split, i.e. what the separator is. The column cell contents are all of the format: [YYYY][Space][Budget/Actual], so you want to simply hit the spacebar to enter that as the character you want to separate by (obviously, you can\u2019t see that here).</p> <p>You may choose to deselect \u2018Guess Cell Type\u2019 but it\u2019s not critical here. Then hit OK.</p> <p>You will end up with something which looks like this. You will need to rename the new column.</p> <p>Again, it is a good idea to run a text facet over the new cells just to check that nothing has gone wrong.</p> <p>Rename your columns.</p> </div> <div class="section" id="removing-blank-cells"> <h2>Removing blank cells</h2> <p>As you can see - some cells still contain dashes as there is no data for that year. OpenSpending will not accept these, so they must be removed. IMPORTANT: In general - you should have a policy to distinguish between null values (absence of data) and zero values (a value that is genuinely zero) - this is very important to your calculations.</p> <p>Simply filter the column for dashes:</p> <div class="highlight-python"><pre>Dropdown &gt; Text Filter</pre> </div> <p>Enter your search term. This will bring up all of the empty columns. Remove them by selecting the dropdown in the All column.</p> <blockquote> <div>Dropdown &gt; Edit rows &gt; Remove all matching rows</div></blockquote> <p>Clear your filter ([x]) and you will see your cleaned data.</p> </div> <div class="section" id="removing-commas-in-numbers"> <h2>Removing commas in numbers</h2> <p>OpenSpending requires numbers to not have any delimiters besides a dot to designate decimals and optionally a minus sign. In many datasets, however commas or spaces are present in numbers as separators. With Open Refine, these are easy to remove. This uses an approach very similar to \u2018Removing numbers in brackets\u2019 however, where before, the command was split, here the command we run is replace.</p> <p>Dropdown &gt; Edit cells &gt; Transform</p> <p>In the input screen:</p> <div class="highlight-python"><div class="highlight"><pre><span class="n">value</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">","</span><span class="p">,</span><span class="s">""</span><span class="p">)</span>\u000a</pre></div> </div> <p>The contents of the first double quotation marks tell the program what is being replaced, while the contents of the second tell it what to replace it with. Because we are telling it to replace with nothing (\u201c\u201d) - the commas are simply stripped out.</p> </div> <div class="section" id="stripping-whitespace"> <h2>Stripping Whitespace</h2> <p>The final step will not show any results which are immediately visible to the human eye in Refine, however it is important to strip off any remaining spaces from the ends of cells. Here\u2019s why:</p> <p>Many databases, such as OpenSpending, group identical items and produces aggregates, so:</p> <p>Fiscal revenue</p> <p>and</p> <p>Fiscal revenue[space]</p> <p>could be perceived as different things and grouped separately. We remove the whitespace on all of the columns as a precaution:</p> <div class="highlight-python"><pre>Dropdown &gt; Edit cells &gt; Common transforms &gt; Trim leading and trailing whitespace</pre> </div> </div> <div class="section" id="final-fill"> <h2>Final fill</h2> <p>Once you have done this - make sure to fill down the columns so that they are all filled in!</p> </div> <div class="section" id="results"> <h2>Results</h2> <p>When you\u2019ve finished, you should end up with something like this:</p> <img alt="http://farm9.staticflickr.com/8257/8664705849_94e9159674_z.jpg" src="http://farm9.staticflickr.com/8257/8664705849_94e9159674_z.jpg"> <p>Note: You\u2019ll notice that the first two cells in the first two columns are blank. Once you have the correct data for them, you can simply click \u2018edit\u2019 in the fields them and add the data to the fields individually.</p> <p>Both datasets from start and end of this recipe can be found on the <a class="reference external" href="http://datahub.io/dataset/sample-spending-data-for-school-of-data-tutorial">DataHub</a>:</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p28
sS'dateCreated'
p29
(ixmlrpclib
DateTime
p30
(dp31
S'value'
p32
S'20130423T12:06:02'
p33
sbsS'wp_author_display_name'
p34
S'Michael Bauer'
p35
sS'link'
p36
S'http://schoolofdata.org/handbook/recipes/cleaning-spending-data-open-refine/'
p37
sS'page_status'
p38
S'publish'
p39
sS'categories'
p40
(lp41
sS'wp_page_template'
p42
S'default'
p43
sS'mt_allow_pings'
p44
I0
sS'date_created_gmt'
p45
(ixmlrpclib
DateTime
p46
(dp47
g32
S'20130423T10:06:02'
p48
sbssS'1062'
p49
(dp50
S'wp_author'
p51
S'Sam Smith'
p52
sS'userid'
p53
S'1134'
p54
sS'excerpt'
p55
g8
sS'wp_page_parent_id'
p56
I0
sS'mt_allow_comments'
p57
I0
sS'text_more'
p58
g8
sS'custom_fields'
p59
(lp60
sS'wp_author_id'
p61
S'1134'
p62
sS'title'
p63
S'Home 2'
p64
sS'wp_password'
p65
g8
sS'wp_page_parent_title'
p66
g8
sS'page_id'
p67
I1062
sS'wp_slug'
p68
S'home'
p69
sS'wp_page_order'
p70
I0
sS'permaLink'
p71
S'http://schoolofdata.org/'
p72
sS'description'
p73
V<section class="coloured banner">\u000a<div class="container">\u000a<div class="row">\u000a<div class="span6">\u000a<div class="well">\u000a<h1>Welcome!</h1>\u000a<p>School of Data works to empower <strong>civil society organizations</strong>, <strong>journalists</strong> and <strong>citizens</strong> with the skills they need to use data effectively &ndash; evidence is power!</p>\u000a\u000a<p> <a href="http://schoolofdata.org/learn/">Get started with School of Data today!</a> </p> \u000a\u000a</div>\u000a</div>\u000a<div class="span6">\u000a<div class="padder">\u000a<h1>Join School of Data</h1>\u000a<p>  \u000aOur courses are for everyone: whether you\u2019re a data-newbie or a pro looking for inspiration, there\u2019s something for you!\u000a\u000aGet updates and new courses from the School of Data in your inbox. \u000a\u000a<form method="post" action="http://lists.okfn.org/mailman/subscribe/school-of-data-announce"> \u000a\u000a<input onfocus="this.value=''" type="text" font color="#D3D3D3" name="email" size="15" value="Your email"><br />\u000a \u000a<input type="submit" border="black" padding="3px" name="email-button" value="Subscribe" target="_blank">\u000a \u000a</form>\u000a\u000a</p>\u000a</div>\u000a</div>\u000a</div>\u000a</div>\u000a</section>\u000a<section id="blog">\u000a<div class="container">\u000a<div class="row" style="background-image:url(http://schoolofdata.org/files/2012/12/blog.png); background-repeat:no-repeat; background-position:right center; padding-top:10px;">\u000a<div class="span8">\u000a<div class="padder text-right">\u000a<h2>Check out our blog!</h2>\u000a<p class="intro">Send in your data stories</p>\u000a<p>Have you done something cool with data? Have you recently discovered a new tool, or found a way to work through a tricky problem? Pop us a note to schoolofdata [@] okfn.org. Read our blogging <a href="http://schoolofdata.org/blog/blogging-guidelines/">guidelines</a>.</p>\u000a</div>\u000a</div>\u000a<a href="http://schoolofdata.org/blog" class="span4" style="display: inline-block; height: 192px;"></a>\u000a</div>\u000a<h3 class="latest">latest <span>{</span></h3>\u000a[latest_posts postnumber="2"]\u000a<div class="row">\u000a<div class="span8 offset4">\u000a<div class="padder">\u000a<strong><a href="blog/">Go to blog &raquo;</a></strong>\u000a</div>\u000a</div>\u000a</div>\u000a</div>\u000a</section>\u000a<section id="about">\u000a<div class="container">\u000a<div class="row" style="background-image:url(http://schoolofdata.org/files/2012/12/network.png); background-repeat: no-repeat; background-position:left 40px;">\u000a<div class="span8 offset4">\u000a<div class="padder">\u000a<h2>About School of Data</h2>\u000a\u000aSchool of Data works to empower civil society organizations, journalists and citizens with the skills they need to use data effectively in their efforts to create more equitable and effective societies.\u000a\u000aThere is huge potential to use data and open data to improve the lives of citizens around the world, especially in increasing the transparency and accountability of government.\u000a\u000aHowever, many of the groups who are closest to the problems - NGOs, journalists, and citizens - currently lack the skills to use data effectively -- and even an awareness of the potential of data for their work.\u000a\u000aSchool of Data's mission is to teach people how to gain powerful insights and create compelling stories using data.\u000a\u000a</div>\u000a<div class="padder">\u000a<strong><a href="/get-involved/">Get Involved &raquo;</a></strong>\u000a</div>\u000a</div>\u000a</div>\u000a</div>\u000a</section>\u000a<section id="contact">\u000a<div class="container">\u000a<div class="row">\u000a<div class="span1">\u000a<a href="https://twitter.com/SchoolOfData" style="display: block; margin-top: 24px;"><img src="http://schoolofdata.org/files/2012/12/twitter.png"/></a>\u000a</div>\u000a<div class="span7">\u000a<div class="tweet"></div>\u000a</div>\u000a<div class="span4">\u000a<div class="padder get-in-touch">\u000a<h4>Get in touch</h4>\u000a<p>@SchoolOfData<br />\u000aschoolofdata@okfn.org</p>\u000a</div>\u000a</div>\u000a</div>\u000a</div>\u000a</section>\u000a</div>\u000a<style>\u000a.padder {padding:10px;}\u000asection.banner {padding:5px 0px 20px 0px;}\u000a.banner > .container {padding-top:10px;}\u000a.banner .padder h1 {margin-top:10px;}\u000a.banner .padder .btn {margin-top:10px;}\u000a.text-right {text-align:right;}\u000asection#blog .latest {float:left; line-height:51px; text-align:right; width:235px; color:#c9c9c9;}\u000asection#blog .latest span {font-family: 'helvetica neue'; font-size: 83px; font-weight: 200; margin-top: -18px; vertical-align: middle; display:inline-block;}\u000asection#blog .latest-posts {text-align: right;}\u000asection#blog .latest-posts li {display: inline-block; width: 327px; margin-left:40px; vertical-align: top; text-align:left;}\u000asection#blog .latest-posts li:first-of-type {margin-left:0px;}\u000asection#blog .latest-posts li .box {border:none;}\u000asection#blog .latest-posts li .image {border:solid 3px #dbdbdb; height: 60px; width: 60px;}\u000asection#blog .latest-posts li h4 {margin-top:3px;}\u000asection#contact .tweet_list {height:100px;}\u000asection#contact .get-in-touch h4 {margin:10px 0px 2px 0px; color:#0db1db;}\u000a</style>
p74
sS'dateCreated'
p75
(ixmlrpclib
DateTime
p76
(dp77
g32
S'20121221T10:50:09'
p78
sbsS'wp_author_display_name'
p79
S'Sam Smith'
p80
sS'link'
p81
S'http://schoolofdata.org/'
p82
sS'page_status'
p83
S'publish'
p84
sS'categories'
p85
(lp86
sS'wp_page_template'
p87
S'fluid.php'
p88
sS'mt_allow_pings'
p89
I0
sS'date_created_gmt'
p90
(ixmlrpclib
DateTime
p91
(dp92
g32
S'20121221T10:50:09'
p93
sbssS'5470'
p94
(dp95
S'wp_author'
p96
S'Michael Bauer'
p97
sS'userid'
p98
S'2191'
p99
sS'excerpt'
p100
g8
sS'wp_page_parent_id'
p101
I2889
sS'mt_allow_comments'
p102
I1
sS'text_more'
p103
g8
sS'custom_fields'
p104
(lp105
(dp106
S'value'
p107
S'1502066507'
p108
sS'id'
p109
S'47555'
p110
sS'key'
p111
S'dsq_thread_id'
p112
sasS'wp_author_id'
p113
S'2191'
p114
sS'title'
p115
S'Scraping multiple Pages using the Scraper Extension and Refine'
p116
sS'wp_password'
p117
g8
sS'wp_page_parent_title'
p118
S'Recipes'
p119
sS'page_id'
p120
I5470
sS'wp_slug'
p121
S'scraping-multiple-pages-with-refine-and-scraper'
p122
sS'wp_page_order'
p123
I0
sS'permaLink'
p124
S'http://schoolofdata.org/handbook/recipes/scraping-multiple-pages-with-refine-and-scraper/'
p125
sS'description'
p126
V<div class="content">  <div class="section" id="scraping-multiple-pages-using-the-scraper-extension-and-refine">   <p>Many times you\u2019ll not have one single page to scrape. For example the Chilean Government has a very nice <a class="reference external" href="http://www.gobiernotransparentechile.cl/directorio/entidad">transparency site</a> and offers the income statistics for many departments - let\u2019s get them all!</p> <p>To complete this recipe you\u2019ll need:</p> <ol class="arabic simple"> <li>The <a class="reference external" href="(https://chrome.google.com/webstore/detail/scraper/mbigbapnjcgaffohmbkdlecaccepngjd?hl=en">Scraper Extension for Chrome</a></li> <li>A Google Account</li> <li><a class="reference external" href="http://openrefine.org">Refine</a></li> <li>If you haven\u2019t yet: Look at the Recipe <a class="reference external" href="http://schoolofdata.org/handbook/recipes/scraper-extension-for-chrome/">Scraping websites using the Scraper Extension</a></li> </ol> <p>To extract information out of multiple web-pages we\u2019ll use a two step procedure: First we\u2019ll get all the URLs for the web-pages with the scraper extension, then we will extract the Information out of these web-pages using Refine. To do this effectively, we rely on all the web-pages to be generated with similar structure. As you\u2019ll see in this Recipe, it is not always the case.</p> <div class="section" id="walkthrough-getting-a-list-of-urls-with-scraper-extension"> <h2>Walkthrough: Getting a list of URLs with scraper extension</h2> <ol class="arabic"> <li><p class="first">Open <a class="reference external" href="http://www.gobiernotransparentechile.cl/directorio/entidad">http://www.gobiernotransparentechile.cl/directorio/entidad</a> - the list of government departments in Chile.</p> </li> <li><p class="first">Mark one department, right click and select  \u201cscrape similar...\u201d as in <a class="reference external" href="http://schoolofdata.org/handbook/recipes/scraper-extension-for-chrome/">Scraping websites using the Scraper Extension</a></p> </li> <li><p class="first">Depending on your selection you might have slightly different results.</p> </li> <li><p class="first">Now pay attention to the left side of the scraper console - on the top you\u2019ll see a text entry saying XPATH</p> <img alt="http://farm6.staticflickr.com/5532/9292783948_4886366d07_o_d.png" src="http://farm6.staticflickr.com/5532/9292783948_4886366d07_o_d.png"> </li> <li><p class="first">The XPATH tells the computer where to find things. The text refers to html tags in the page - let\u2019s modify this to make it work nicely for the page: First remove the <cite>[1]</cite> behind the second div. This will give you all the texts on the page.</p> </li> <li><p class="first">Now let\u2019s extract the links from the page. Go back to the page and \u201cinspect\u201d one of the links</p> <img alt="http://farm8.staticflickr.com/7446/9292783960_e180a05f1b_b_d.jpg" src="http://farm8.staticflickr.com/7446/9292783960_e180a05f1b_b_d.jpg"> </li> <li><p class="first">See how the links are within an &lt;a&gt; element underneath the &lt;li&gt; element? Let\u2019s add this to our xpath.</p> <img alt="http://farm4.staticflickr.com/3683/9290007049_490a8d3b2c_o_d.png" src="http://farm4.staticflickr.com/3683/9290007049_490a8d3b2c_o_d.png"> </li> <li><p class="first">We have a column now with the names - if you look closely in the inspected element the &lt;a&gt; tag has two attributes: class and href. Href is the URL and class says something about the category the link belongs to. Let\u2019s extract both.</p> </li> <li><p class="first">To do so we\u2019ll add more columns to the column list on the second page, do so by clicking the green <cite>+</cite> next to the one existing column</p> </li> <li><p class="first">The scraper console wants two things: An Xpath and a name: enter <cite>./@href</cite> to the xpath and <cite>URL</cite> as a name</p> <img alt="http://farm8.staticflickr.com/7339/9290007057_9d7ef76e7e_o_d.png" src="http://farm8.staticflickr.com/7339/9290007057_9d7ef76e7e_o_d.png"> </li> <li><p class="first">Now let\u2019s do the same for the class. Enter <cite>./@class</cite> and <cite>Class</cite></p> <img alt="http://farm4.staticflickr.com/3820/9292784000_e861d194e9_o_d.png" src="http://farm4.staticflickr.com/3820/9292784000_e861d194e9_o_d.png"> </li> <li><p class="first">Perfect - click on Scrape (or press enter) to see how your list will look like. Nice isn\u2019t it?</p> </li> <li><p class="first">Now save it to google docs.</p> </li> </ol> <p>Once we have the list of URLs let\u2019s go to Refine to scrape the salary pages we can find easily.</p> </div> <div class="section" id="walkthrough-scraping-multiple-pages-using-refine"> <h2>Walkthrough: Scraping multiple pages using Refine</h2> <ol class="arabic"> <li><p class="first">Download the Spreadsheet as <cite>CSV</cite> from google spreadsheets</p> </li> <li><p class="first">Open Refine - it will open a browser window at <a class="reference external" href="http://127.0.0.1:3333">http://127.0.0.1:3333</a></p> </li> <li><p class="first">Now select <cite>Create Project</cite> and <cite>this Computer</cite></p> </li> <li><p class="first">Click on Choose Files and select the file you just downloaded.</p> </li> <li><p class="first">Click <cite>Next</cite> - this will open the Preview in Refine</p> <img alt="http://farm4.staticflickr.com/3728/9292784110_d46ec1f9a7_b_d.jpg" src="http://farm4.staticflickr.com/3728/9292784110_d46ec1f9a7_b_d.jpg"> </li> <li><p class="first">Refine should parse the file correctly - name your project on the top right and click <cite>Create Project</cite></p> </li> <li><p class="first">If the special characters in the file look garbled - select <cite>UTF-8</cite> as a Character Encoding.</p> </li> <li><p class="first">You\u2019ll see the data view of Refine. It looks very much like a spreadsheet - and works quite similar.</p> </li> <li><p class="first">Let\u2019s clean our data and only get the links we\u2019re interested in - the secondary category links</p> </li> <li><p class="first">Create a filter for the Class column: click on the small triangle next to the column and select <cite>Facet -&gt; Text Facet</cite></p> <img alt="http://farm4.staticflickr.com/3762/9290007199_6c34392969_o_d.png" src="http://farm4.staticflickr.com/3762/9290007199_6c34392969_o_d.png"> </li> <li><p class="first">This will open a Facet window in the left column that displays all the unique values found within the Class column, along with a count of how many times each of them appear in the column.</p> <img alt="http://farm6.staticflickr.com/5488/9290007183_e13832f56c_o_d.png" src="http://farm6.staticflickr.com/5488/9290007183_e13832f56c_o_d.png"> </li> <li><p class="first">Let\u2019s remove everything but <cite>secondaryCat</cite>. Select <cite>secondaryCat</cite> in the filter and then click on the small <cite>invert</cite> label on the top right of the facet.</p> </li> <li><p class="first">Now let\u2019s remove the rows that are not <cite>secondaryCat</cite> - for this select the options in the <cite>All</cite> column and select <cite>edit rows - remove all matching rows</cite></p> <img alt="http://farm3.staticflickr.com/2835/9292784184_e879b099df_o_d.png" src="http://farm3.staticflickr.com/2835/9292784184_e879b099df_o_d.png"> </li> <li><p class="first">Perfect - now we can delete the <cite>Class</cite> Column, since we\u2019re not going to use it anymore.</p> </li> <li><p class="first">Do this with the <cite>Edit columns -&gt; re-order/remove columns</cite> options in the <cite>All</cite> menu</p> </li> <li><p class="first">Now let\u2019s scrape the pages. If you look at the page structure, the salary information is often in: <cite>/per_planta/Ao-2013</cite> relative to the URL we scraped with the scraper extension.</p> </li> <li><p class="first">Let\u2019s import the pages - do so by selecting the options of the URL column, and <cite>edit column -&gt; add column by fetching URLs</cite></p> <img alt="http://farm6.staticflickr.com/5462/9290007265_a26a484e3e_o_d.png" src="http://farm6.staticflickr.com/5462/9290007265_a26a484e3e_o_d.png"> </li> <li><p class="first">This will open an <cite>add column</cite> menu. We have to transform our cells so that we get the url we want to be fetching.</p> </li> <li><p class="first">Let\u2019s write our first expression in Refine: we want to append <cite>/per_planta/Ao-2013</cite> to each url, so our expression will be value+`/per_planta/Ao-2013` - this appends to the value in the current row.</p> <img alt="http://farm8.staticflickr.com/7303/9292784300_7ba3ae6970_o_d.png" src="http://farm8.staticflickr.com/7303/9292784300_7ba3ae6970_o_d.png"> </li> <li><p class="first">The throttle delay sets the rate at which OpenRefine will request the pages from the webserver they live on. If we try to grab too many pages in a short period of time, the server may lock us out. Requesting 1 or 2 pages a second (throttle delay of 1000 or 500 milliseconds) should be okay in this case. Just be respectful:-). We also need to give the column we\u2019re creating for the scraped data a name - put  <cite>Page</cite> into the column name.</p> </li> <li><p class="first">click OK - refine will now download the webpages and give you a progress indicator, how it is doing. If you multiply the throttle delay by the number of rows in your dataset, you should get an estimate of the amount of time the download is likely to take.</p> </li> <li><p class="first">Wooha, this quickly filled our document with HTML code - don\u2019t be intimidated you don\u2019t need to understand or read it - the computer will do this for you.</p> </li> <li><p class="first">Now let\u2019s first remove all the rows that didn\u2019t get a page (because there is none...) (we could also go and investigate and see whether there\u2019s information we missed - but for the sake of simplicity let\u2019s just delete them).</p> </li> <li><p class="first">Create a text facet on the <cite>Page</cite> column, select <cite>blank</cite> and remove all matching rows as we\u2019ve done above.</p> </li> <li><p class="first">Close the text facet again to continue working, Now let\u2019s extract the table rows out of each page. Do so by selecting the options of the <cite>Page</cite> column and <cite>edit column -&gt; add column based on this column</cite></p> </li> <li><p class="first">Name the new column <cite>Rows</cite></p> </li> <li><p class="first">The expression for this is slightly more complicated: first we tell refine that this is an html document we do so by starting with <cite>value.parseHtml()</cite>.</p> </li> <li><p class="first">Then we append <cite>.select(\u201ctable\u201d)[0]</cite> - this will select the first table from it - see how the content in the new column changes?</p> </li> <li><p class="first">Now we select all the rows in this column with <cite>.select(`tr</cite>)` - remember <cite>tr</cite> is the tag for the rows...</p> </li> <li><p class="first">This will result in a list of rows - however refine can\u2019t really handle lists. So we have to <cite>join</cite> the list - so we append <cite>.join(\u201c|\u201d)</cite> to join the list with a <cite>pipe</cite> character \u2013 the vertical line. (I choose this character because it usually doesn\u2019t appear in the text).</p> </li> <li><p class="first">Your expression should now look like this:</p> <img alt="http://farm4.staticflickr.com/3770/9292784338_cdf6535bfe_o_d.png" src="http://farm4.staticflickr.com/3770/9292784338_cdf6535bfe_o_d.png"> </li> <li><p class="first">It looks complicated but is actually very simple - it\u2019s just a row of commands - similar to spreadsheet formulas. If you struggle understanding it: Try to read it from the beginning (go back a couple of steps and try to see how the commands are chained together).</p> </li> <li><p class="first">click <cite>OK</cite> to fill the <cite>Rows</cite> column.</p> </li> <li><p class="first">Now remove the <cite>blank</cite> rows again as we did before.</p> </li> <li><p class="first">Let\u2019s split the <cite>Rows</cite> into actual Rows in refine</p> </li> <li><p class="first">Select <cite>Edit Cells -&gt; Split multi-valued cells</cite> from the <cite>Rows menu</cite></p> <img alt="http://farm6.staticflickr.com/5525/9292784364_d383666794_o_d.png" src="http://farm6.staticflickr.com/5525/9292784364_d383666794_o_d.png"> </li> <li><p class="first">A menu will pop up asking us for what kind of character we want to split at: we want to split at <cite>|</cite></p> </li> <li><p class="first">Now let\u2019s extract the data cells in each row. We do this by <cite>edit column -&gt; add column based on this column</cite> like we did above.</p> </li> <li><p class="first">Well do <cite>value.parseHtml()</cite> again - to tell refine this is HTML. Then we <cite>.select(\u201ctd\u201d)</cite> to select the data cells and we\u2019ll join them again with the <cite>|</cite> character. The expression should look like this:</p> <img alt="http://farm4.staticflickr.com/3775/9292784354_b269c3216b_o_d.png" src="http://farm4.staticflickr.com/3775/9292784354_b269c3216b_o_d.png"> </li> <li><p class="first">Click OK - you\u2019ll notice now we have quite a bit of blank cells - before we remove them we have to make sure we have the department name with each row.  - for this switch back to the column saying <cite>Text</cite> - this is the department names.</p> </li> <li><p class="first">Select <cite>Edit cells -&gt; fill down</cite> from the options menu.</p> </li> <li><p class="first">This will put the thing it finds in the row into each subsequent empty row until it does find a new filled row.</p> </li> <li><p class="first">Now you can delete the blank rows.</p> </li> <li><p class="first">So let\u2019s go back and get the table data out. First we\u2019ll strip the HTML tags from the text, since we don\u2019t need them anymore.</p> </li> <li><p class="first">We can do so by transforming the cell:</p> </li> <li><p class="first">Select <cite>edit cells -&gt; transform</cite> from the options of the <cite>Data</cite> column.</p> </li> <li><p class="first">We want to replace anything between pointy brackets with nothing: the expression for this is <cite>value.replace(/&lt;.*?&gt;/,\u201d\u201d)</cite></p> <img alt="http://farm6.staticflickr.com/5333/9290007389_5d4d6e153d_o_d.png" src="http://farm6.staticflickr.com/5333/9290007389_5d4d6e153d_o_d.png"> </li> <li><p class="first">This has removed the HTML tags. If you look at the data: there is a further problem. A lot of the text has things like &amp;Ntilde; we can parse this automatically</p> </li> <li><p class="first">Select <cite>edit cells -&gt; common transforms -&gt; unescape HTML entities</cite> from the options of the Data column - now let\u2019s split the data in this column into multiple columns</p> </li> <li><p class="first">For this choose <cite>edit column -&gt; split into multiple columns</cite> and add the <cite>|</cite> character as the split character for the columns.</p> </li> <li><p class="first">Now let\u2019s look at what we\u2019ve got: we have multiple columns with the data as presented in the table</p> </li> <li><p class="first">One of the columns contains the amount - as you can see: it\u2019s not always a number: The multiple <cite>.</cite>  make refine think it\u2019s not a number: let\u2019s fix this: we\u2019re transform the column</p> </li> <li><p class="first">The expression for this is <a href="#id2"><span class="problematic" id="id3">`</span></a>value.replace(\u201d.\u201d,\u201d\u201d).toNumber()</p> <img alt="http://farm4.staticflickr.com/3746/9290007969_6f23c84a2e_o_d.png" src="http://farm4.staticflickr.com/3746/9290007969_6f23c84a2e_o_d.png"> </li> <li><p class="first">Wonderful - There is still some things wrong: e.g. the special spanish characters don\u2019t translate well - now you know how to use the replace function to replace them.</p> </li> <li><p class="first">The last thing we do is remove the columns we don\u2019t need anymore: <cite>URL</cite> , <cite>Page</cite> and <cite>Row</cite></p> </li> </ol> <p>#. Congratulations you\u2019ve scraped and cleaned up a large dataset from several pages on the web. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p127
sS'dateCreated'
p128
(ixmlrpclib
DateTime
p129
(dp130
g32
S'20130715T16:21:51'
p131
sbsS'wp_author_display_name'
p132
S'Michael Bauer'
p133
sS'link'
p134
S'http://schoolofdata.org/handbook/recipes/scraping-multiple-pages-with-refine-and-scraper/'
p135
sS'page_status'
p136
S'publish'
p137
sS'categories'
p138
(lp139
sS'wp_page_template'
p140
S'default'
p141
sS'mt_allow_pings'
p142
I0
sS'date_created_gmt'
p143
(ixmlrpclib
DateTime
p144
(dp145
g32
S'20130715T14:21:51'
p146
sbssS'4248'
p147
(dp148
S'wp_author'
p149
S'Michael Bauer'
p150
sS'userid'
p151
S'2191'
p152
sS'excerpt'
p153
g8
sS'wp_page_parent_id'
p154
I2889
sS'mt_allow_comments'
p155
I1
sS'text_more'
p156
g8
sS'custom_fields'
p157
(lp158
(dp159
S'value'
p160
S'1223245127'
p161
sS'id'
p162
S'17894'
p163
sS'key'
p164
S'dsq_thread_id'
p165
sasS'wp_author_id'
p166
S'2191'
p167
sS'title'
p168
S'Scraping websites using the Scraper extension for Chrome'
p169
sS'wp_password'
p170
g8
sS'wp_page_parent_title'
p171
S'Recipes'
p172
sS'page_id'
p173
I4248
sS'wp_slug'
p174
S'scraper-extension-for-chrome'
p175
sS'wp_page_order'
p176
I0
sS'permaLink'
p177
S'http://schoolofdata.org/handbook/recipes/scraper-extension-for-chrome/'
p178
sS'description'
p179
V<div class="content">  <div class="section" id="scraping-websites-using-the-scraper-extension-for-chrome">   <p>If you are using Google Chrome there is a browser extension for scraping web pages. It\u2019s called \u201cScraper\u201d and it is easy to use. It will help you scrape a website\u2019s content and upload the results to google docs.</p> <div class="section" id="walkthrough-scraping-a-website-with-the-scraper-extension"> <h2>Walkthrough: Scraping a website with the Scraper extension</h2> <ol class="arabic"> <li><p class="first">Open Google Chrome and click on Chrome Web Store</p> </li> <li><p class="first">Search for \u201cScraper\u201d in extensions</p> </li> <li><p class="first">The first search result is the \u201cScraper\u201d extension</p> </li> <li><p class="first">Click the add to chrome button.</p> </li> <li><p class="first">Now let\u2019s go back to the listing of UK MPs</p> </li> <li><p class="first">Open <a class="reference external" href="http://www.parliament.uk/mps-lords-and-offices/mps/">http://www.parliament.uk/mps-lords-and-offices/mps/</a></p> </li> <li><p class="first">Now mark the entry for one MP</p> <img alt="http://farm9.staticflickr.com/8490/8264509932_6cc8802992_o_d.png" src="http://farm9.staticflickr.com/8490/8264509932_6cc8802992_o_d.png"> </li> <li><p class="first">Right click and select \u201cscrape similar...\u201d</p> <img alt="http://farm9.staticflickr.com/8200/8264509972_f3a9e5d8e8_o_d.png" src="http://farm9.staticflickr.com/8200/8264509972_f3a9e5d8e8_o_d.png"> </li> <li><p class="first">A new window will appear - the scraper console</p> <img alt="http://farm9.staticflickr.com/8073/8263440961_9b94e63d56_b_d.jpg" src="http://farm9.staticflickr.com/8073/8263440961_9b94e63d56_b_d.jpg"> </li> <li><p class="first">In the scraper console you will see the scraped content</p> </li> <li><p class="first">Click on \u201cSave to Google Docs...\u201d to save the scraped content as a Google Spreadsheet.</p> </li> </ol> </div> <div class="section" id="walkthrough-extended-scraping-with-the-scraper-extension"> <h2>Walkthrough: extended scraping with the Scraper extension</h2> <p>Note: Before beginning this recipe - you may find it useful to understand a bit about HTML. Read our <a class="reference external" href="http://schoolofdata.org/handbook/recipes/introduction-to-html/">HTML primer</a>.</p> <p>Easy wasn\u2019t it? Now let\u2019s do something a little more complicated. Let\u2019s say we\u2019re interested in the roles a specific actress played. The source for all kinds of data on this is the IMDB (You can also search on sites like <a class="reference external" href="http://dbpedia.org">DBpedia</a> or <a class="reference external" href="http://freebase.com">Freebase</a> for this kinds of information; however, we\u2019ll stick to IMDB to show the principle)</p> <ol class="arabic"> <li><p class="first">Let\u2019s say we\u2019re interested in creating a timeline with all the movies the Italian actress Asia Argento ever starred; where do we start?</p> </li> <li><p class="first">The IMDB has a quite comprehensive archive of actors. Asia Argento\u2019s site is: <a class="reference external" href="http://www.imdb.com/name/nm0000782/">http://www.imdb.com/name/nm0000782/</a></p> </li> <li><p class="first">If you open the page you\u2019ll see all the roles she ever played, together with a title and the year - let\u2019s scrape this information</p> </li> <li><p class="first">Try to scrape it like we did above</p> </li> <li><p class="first">You\u2019ll see the list comes out garbled - this is because the list here is structured quite differently.</p> </li> <li><p class="first">Go to the scraper console. Notice the small box on the upper left, saying XPath?</p> </li> <li><p class="first">XPath is a query language for HTML and XML.</p> </li> <li><p class="first">XPath can help you find the elements in the page you\u2019re interested in - all you need to do is find the right element and then write the xpath for it.</p> </li> <li><p class="first">Now let\u2019s assemble our table.</p> </li> <li><p class="first">You\u2019ll see that our current Xpath - the one including the whole information is \u201c//div[3]/div[3]/div[2]/div\u201d</p> <img alt="http://farm9.staticflickr.com/8344/8264510130_ae31697fde_o_d.png" src="http://farm9.staticflickr.com/8344/8264510130_ae31697fde_o_d.png"> </li> <li><p class="first">Xpath is very simple it tells the computer to look at the HTML document and select &lt;div&gt; element number 3, then in this the third one, the second one and then all &lt;div&gt; elements (which if you count down our list, results in exactly where you are right now.</p> </li> <li><p class="first">However, we\u2019d like to have the data separated out.</p> </li> <li><p class="first">To do this use the columns part of the scraper console...</p> </li> <li><p class="first">Let\u2019s find our title first - look at the title using Inspect Element</p> <img alt="http://farm9.staticflickr.com/8355/8263441157_b4672d01b2_o_d.png" src="http://farm9.staticflickr.com/8355/8263441157_b4672d01b2_o_d.png"> </li> <li><p class="first">See how the title is within a &lt;b&gt; tag? Let\u2019s add the tag to our xpath.</p> </li> <li><p class="first">The expression seems to work well: let\u2019s make this our first column</p> </li> <li><p class="first">In the \u201cColumns\u201d section, change the name of the first column to \u201ctitle\u201d</p> </li> <li><p class="first">Now let\u2019s add the XPATH for the title to it</p> </li> <li><p class="first">The xpaths in the columns section are relative, that means \u201c./b\u201d will select the &lt;b&gt; element</p> </li> <li><p class="first">add \u201c./b\u201d to the xpath for the title column and click \u201cscrape\u201d</p> <img alt="http://farm9.staticflickr.com/8357/8263441315_42d6a8745d_o_d.png" src="http://farm9.staticflickr.com/8357/8263441315_42d6a8745d_o_d.png"> </li> <li><p class="first">See how you only get titles?</p> </li> <li><p class="first">Now let\u2019s continue for year? Years are within one &lt;span&gt;</p> </li> <li><p class="first">Create a new column by clicking on the small plus next to your \u201ctitle\u201d column</p> </li> <li><p class="first">Now create the \u201cyear\u201d column with xpath \u201c./span\u201d</p> <img alt="http://farm9.staticflickr.com/8347/8263441355_89f4315a78_o_d.png" src="http://farm9.staticflickr.com/8347/8263441355_89f4315a78_o_d.png"> </li> <li><p class="first">Click on scrape and see how the year is added</p> </li> </ol> <p>#. See how easily we got information out of a less structured webpage? .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p180
sS'dateCreated'
p181
(ixmlrpclib
DateTime
p182
(dp183
g32
S'20130419T15:01:55'
p184
sbsS'wp_author_display_name'
p185
S'Michael Bauer'
p186
sS'link'
p187
S'http://schoolofdata.org/handbook/recipes/scraper-extension-for-chrome/'
p188
sS'page_status'
p189
S'publish'
p190
sS'categories'
p191
(lp192
sS'wp_page_template'
p193
S'default'
p194
sS'mt_allow_pings'
p195
I0
sS'date_created_gmt'
p196
(ixmlrpclib
DateTime
p197
(dp198
g32
S'20130419T13:01:55'
p199
sbssS'4249'
p200
(dp201
S'wp_author'
p202
S'Michael Bauer'
p203
sS'userid'
p204
S'2191'
p205
sS'excerpt'
p206
g8
sS'wp_page_parent_id'
p207
I2889
sS'mt_allow_comments'
p208
I1
sS'text_more'
p209
g8
sS'custom_fields'
p210
(lp211
(dp212
S'value'
p213
S'1222862073'
p214
sS'id'
p215
S'17843'
p216
sS'key'
p217
S'dsq_thread_id'
p218
sasS'wp_author_id'
p219
S'2191'
p220
sS'title'
p221
S'Scraping - Beyond the Basics'
p222
sS'wp_password'
p223
g8
sS'wp_page_parent_title'
p224
S'Recipes'
p225
sS'page_id'
p226
I4249
sS'wp_slug'
p227
S'scraping-beyond-the-basics'
p228
sS'wp_page_order'
p229
I0
sS'permaLink'
p230
S'http://schoolofdata.org/handbook/recipes/scraping-beyond-the-basics/'
p231
sS'description'
p232
V<div class="content">  <div class="section" id="scraping-beyond-the-basics">   <p><em>Section author: Tim McNamara &lt;<a class="reference external" href="mailto:tim.mcnamara%40okfn.org">tim<span>.</span>mcnamara<span>@</span>okfn<span>.</span>org</a>&gt;</em></p> <p>This guide focuses on how you can extract data from web sites and web services. We will go over the various resources at your disposal to find sources which are useful to you.</p> <div class="section" id="extracting-data"> <h2>Extracting Data</h2> <div class="section" id="general-tips"> <h3>General tips</h3> <ul class="simple"> <li>Minimise the pages to scrape. This will save everybody time and resources.<ul> <li>Inspect any AJAX fields. AJAX is generally performed by sending JavaScript objects between the server and the web browser. They are easy to parse and are generally very rich.</li> <li>Try looking for a <cite>sitemap.xml</cite>.</li> <li>Any pages in the <cite>robots.txt</cite> which disallow access are generally where the bulk of the value lies.</li> </ul> </li> <li>Run an evented or multi-threaded system. Once you have gained the confidence of building a few scrapers, learn how to optimise performance. Given that you are using lots of external resources, there will be lots of latency involved. This means that your scraper\u2019s performance increases by using asynchronous programming.</li> </ul> </div> <div class="section" id="types-of-scrapers"> <h3>Types of scrapers</h3> <table class="docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field"><th class="field-name" colspan="2">DOM-based approaches:</th></tr> <tr class="field-odd field"><td></td><td class="field-body"><table class="first docutils field-list" frame="void" rules="none"> <col class="field-name"> <col class="field-body"> <tbody valign="top"> <tr class="field-odd field"><th class="field-name">advantages:</th><td class="field-body"><ul class="first simple"> <li>familiar</li> <li>relatively computationally efficient</li> </ul> </td> </tr> <tr class="field-even field"><th class="field-name">disadvantages:</th><td class="field-body"><ul class="first last simple"> <li>requires parsing the entire document, which can be difficult with messy content</li> <li>prone to breaking when encountering unexpected content</li> <li>can be tricky to handle errors</li> <li>may require learning a new language, <a class="reference external" href="http://en.wikipedia.org/wiki/XPath">XPath</a></li> </ul> </td> </tr> </tbody> </table> <p>This is the most common form of scraper. All the data that you are looking to extract is identified by selecting portions from the DOM.</p> <p>Most modern libraries, such as <a class="reference external" href="http://lxml.de/">lxml</a> accept CSS selectors. So, in Python to extract content from the  <cite>&lt;title&gt;</cite> tag, you do something similar to <cite>page.cssselect(\u2018title\u2019)[0].text</cite>.</p> <dl class="docutils"> <dt><a class="reference external" href="http://en.wikipedia.org/wiki/XPath">XPath</a>, the XML Path Language, is a fuller way to select elements</dt> <dd><p class="first last">from XML and XML-like documents, such as HTML. As with CSS, it uses the structure of the page and tag attributes to be able to select specific elements or groups of elements. XPath expressions can look fairly complex and take some some time to learn.</p> </dd> </dl> </td> </tr> <tr class="field-odd field"><th class="field-name">Template:</th><td class="field-body"><p class="first">Regular expressions to look for common patterns in the text. One of the easiest template extraction systems is <a class="reference external" href="https://github.com/arshaw/scrapemark">scrapemark</a>. While it is not the most computationally efficient, using template systems requires far less manual work to get going with.</p> </td> </tr> <tr class="field-even field"><th class="field-name" colspan="2">Machine-learning:</th></tr> <tr class="field-even field"><td></td><td class="field-body"><p class="first">Machine-learning packages work by training a model of example pages, then asking for matching material.</p> <p class="last">One tool that is very good at removing boilerplate, such as headings from web pages and only leaving the content is called <a class="reference external" href="http://code.google.com/p/boilerpipe/">boilerpipe</a>. It is bundled together with the <a href="#id2"><span class="problematic" id="id3">`Data Science Toolkit`_</span></a> and there is an <a class="reference external" href="http://boilerpipe-web.appspot.com/">demo of boilerpipe\u2019s capabilities is available</a>.</p> </td> </tr> </tbody> </table> </div> <div class="section" id="a-scraping-framework"> <h3>A scraping framework</h3> <p>Let\u2019s demonstrate some of the principles that we have been talking about.</p> <p>We\u2019ll be creating a scraping framework, called <cite>tbd</cite>:</p> <div class="highlight-python"><pre>"""\u000a{{somthing}}.py : a webscraping framework..\u000a"""\u000aimport bsddb\u000aimport pickle\u000aimport urllib2\u000afrom asynchat import fifo\u000a\u000afrom dateutil import parser as date_parser\u000aimport lxml\u000aimport lxml.html\u000a\u000aSTART_URL = 'http://blog.okfn.org/'\u000adb = bsddb.hashopen('okfnblog.db')\u000a\u000a#\u000a# UTILITY FUNCTIONS\u000a#\u000a\u000adef get_clean_page(url):\u000a    page = get_page(url)\u000a    page = lxml.html.tostring(page)\u000a    page = lxml.html.fromstring(page)\u000a    return page\u000a\u000adef get_page(url):\u000a    res = urllib2.urlopen(url)\u000a    page = lxml.html.parse(res)\u000a    page.make_links_absolute()\u000a    return page\u000a\u000adef save_post(post):\u000a    save(post['post_id'], post)\u000a\u000adef save_tag(tag):\u000a    save('tag-%s' % tag['tag'], tag)\u000a\u000adef save_author(author):\u000a    save('author-%s' % author['name'], author)\u000a\u000adef save(key, data):\u000a    db[key] = pickle.dumps(data)\u000a\u000adef extract_created_at_datetime(post):\u000a    date = post.cssselect('span.entry-date')[0].text\u000a    time = post.cssselect('div.entry-meta a')[0].attrib['title']\u000a    return str(date_parser.parse(date + ' ' + time))\u000a\u000adef process_post(url):\u000a    source = get_page(url)\u000a    post = {}\u000a    post['title'] = source.cssselect('h1.entry-title')[0].text\u000a    post['author'] = source.csselect('span.author a')[0].text\u000a    post['content'] = source.cssselect('div.entry-content')[0].text_content()\u000a    post['as_html'] = lxml.html.tostring(source.cssselect('div.entry-content')[0])\u000a    post['created_at'] = extract_created_at_datetime(source)\u000a    post['post_id'] = source.cssselect('div.post')[0].attrib['id']\u000a    post['tags'] = [tag.text for tag in source.cssselect('a[rel~=tag]')]\u000a    post['url'] = url\u000a    yield save_post, post\u000a    yield save_author, dict(name=post['author'])\u000a    for tag in post['tags']\u000a        yield save_tag, dict(tag=tag, post_id=post_id, author_name=post['author'])\u000a\u000adef process_archive(url):\u000a    archive = get_page(url)\u000a    for post in archive.cssselect('.post .entry-meta a'):\u000a        yield process_post, post.attrib['href']\u000a    previous = archive.cssselect('.nav-previous a')\u000a    if previous: #is found\u000a        yield process_archive, previous[0].attrib['href']\u000a\u000adef process_start(url):\u000a    index = get_page(url)\u000a    for anchor in index.cssselect('li#archives-2 a'):\u000a        yield process_archive, anchor.attrib['href']\u000a\u000adef main():\u000a    queue = fifo((process_start, START_URL))\u000a    while 1:\u000a        status, data = queue.pop()\u000a        if status != 1:\u000a            break\u000a        func, args = data\u000a        for newjob in func(args):\u000a            queue.push(newjob[0], newjob[1])\u000adb.sync()</pre> </div> </div> <div class="section" id="dealing-with-javascript"> <h3>Dealing with JavaScript</h3> <p>JavaScript can be a pain for scrapers. JavaScript is often used to alter the DOM on pages after they have been created. This means that the page you see in an Internet browser is different that the page your scrapers see.</p> <p>There are a few different approaches to dealing with this process. We will briefly outline them, then go through the easiest option.</p> <div class="section" id="options"> <h4>Options</h4> <p>There are three broad options when considering how to deal with JavaScript:</p> <blockquote> <div><ul class="simple"> <li><strong>Don\u2019t</strong> Much of the AJAX content could be downloaded directly by your scraper. AJAX is generally sent as JSON, which means it is very easy to parse. You could save yourself a lot of time if you spent some time evaluating the target more closely.</li> <li><strong>Do it offline</strong>  Under this approach, you download the content, send it to a JavaScript interpreter such as <a class="reference external" href="https://developer.mozilla.org/en/SpiderMonkey">SpiderMonkey</a>, then process the results. If this sounds like a lot of manual work, it is. Fortunately for us, other people have struggled with this problem before and have released software to take care of most of the detail. Take a look at <a class="reference external" href="http://simile.mit.edu/wiki/Crowbar">crowbar</a> and <cite>webkitcrawler</cite>.</li> <li><strong>Automate a browser</strong>  This third approach involves relying on a web browser\u2019s handling JavaScript itself. Until recently, this has involved quite a bit of complicated effort. Now, a library called <cite>splinter</cite> has come along to make life much easier.</li> </ul> </div></blockquote> <p>One of the biggest differences between the second and third options is that the second option does not require a monitor. That means, it can be much easier to deploy on a server. However, in general the tasks we\u2019ll be doing are fairly small and can happily run in the background while you\u2019re doing other work.</p> </div> <div class="section" id="path-of-least-resistance-splinter"> <h4>Path of least resistance - splinter</h4> <p>Splinter is Python library that takes all of the trouble out of this process:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">splinter.browser</span> <span class="kn">import</span> <span class="n">Browser</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">br</span> <span class="o">=</span> <span class="n">Browser</span><span class="p">(</span><span class="s">'webdriver.chrome'</span><span class="p">)</span>\u000a</pre></div> </div> <p>As a trivial example, let\u2019s find Auckland\u2019s current weather from <a class="reference external" href="http://www.nzherald.co.nz">the New Zealand Herald</a>. If you visit their homepage without JavaScript enabled on your internet browser, you\u2019ll see nothing. However, with JavaScript, an icon appears</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">br</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="s">'http://www.nzherald.co.nz/'</span><span class="p">)</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">high</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">find_by_css</span><span class="p">(</span><span class="s">'span.high'</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">value</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">low</span>  <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">find_by_css</span><span class="p">(</span><span class="s">'span.low'</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">value</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">high</span><span class="p">,</span> <span class="n">low</span>\u000a<span class="go">'19\u005cxb0', '11\u005cxb0' # \u005cxb0 is the degree sign</span>\u000a</pre></div> </div> </div> </div> <div class="section" id="dealing-with-pdf-content"> <h3>Dealing with PDF content</h3> <p>PDF documents are a pain. Some PDF generators don\u2019t actually have the concept of a word\u2013 every letter is individually placed. This makes it very hard to create a software tool that can combine letters to make words, and combine words to make sentences. However, depending on the source documents, there are possibilities for extracting information from them.</p> <p>The <a href="#id4"><span class="problematic" id="id5">`Data Science Toolkit`_</span></a> is now the best way to get up and running with these kinds of tasks. Its <cite>\u201cFile to Text\u201d tool</cite> takes an image, PDF or MS Word document and returns text to you.</p> <p>If you only have a few documents to process, the website actually allows you to do the processing on their servers.</p> <div class="section" id="extracting-plain-text"> <h4>Extracting plain text</h4> <p>A quick way to extract text from a PDF programmatically is with the Python library, <a href="#id6"><span class="problematic" id="id7">`slate`_</span></a>. Disclaimer: I maintain <cite>slate</cite>. Its philosophy is to have a very low barrier to entry, but only extracts plain text out of the document:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">slate</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'salesreport.pdf'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>\u000a<span class="gp">... </span>   <span class="n">report</span> <span class="o">=</span> <span class="n">slate</span><span class="o">.</span><span class="n">PDF</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>\u000a<span class="gp">...</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>\u000a<span class="go">"2011 ..."</span>\u000a</pre></div> </div> </div> <div class="section" id="digging-deeper"> <h4>Digging deeper</h4> <p>One of the better free tools is called <a href="#id8"><span class="problematic" id="id9">`pdftohtml`_</span></a>. It generates an HTML version of the document, which can then be processed by tools that you are used to. It does a good job of understanding the layout.</p> <p>It is possible to circumvent security measures in PDF documents. The PDF viewer <a href="#id10"><span class="problematic" id="id11">`xpdf`_</span></a> provides this by default. This allows you to print or extract content that may be otherwise prevented through security measures.</p> </div> </div> <div class="section" id="id1"> <h3>General Tips</h3> <div class="section" id="avoiding-being-blocked"> <h4>Avoiding being blocked</h4> <p>It\u2019s possible to use sophisticated techniques to circumvent rate limitations and IP address blocking. However, the best technique for avoiding being blocked is by being a good netizen and adding pauses between your requests.</p> <p>Scrape during the night of the site\u2019s local time. This is very likely to have very few users, meaning the site will have more capacity to serve your scraper.</p> </div> <div class="section" id="be-part-of-the-open-data-community"> <h4>Be part of the open data community</h4> <p>When scraping open data, you should use <cite>ScraperWiki</cite>. ScraperWiki allows people to cooperatively build scrapers. They will also take care of rerunning your scraper periodically so that new data are added.</p> <p>By being part of the community, you increase your profile, learn much more and benefit from people fixing your scraper when it breaks.</p> </div> <div class="section" id="learn-async-programming"> <h4>Learn async programming</h4> <p>Network programming is inherently wasteful in many ways. Your processor is consistently waiting for things to arrive from other parts of the world. Therefore, you can speed up the processing steps of your scrapers significantly if you take the time to learn asynchronous programming.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p233
sS'dateCreated'
p234
(ixmlrpclib
DateTime
p235
(dp236
g32
S'20130419T15:02:45'
p237
sbsS'wp_author_display_name'
p238
S'Michael Bauer'
p239
sS'link'
p240
S'http://schoolofdata.org/handbook/recipes/scraping-beyond-the-basics/'
p241
sS'page_status'
p242
S'publish'
p243
sS'categories'
p244
(lp245
sS'wp_page_template'
p246
S'default'
p247
sS'mt_allow_pings'
p248
I0
sS'date_created_gmt'
p249
(ixmlrpclib
DateTime
p250
(dp251
g32
S'20130419T13:02:45'
p252
sbssS'3805'
p253
(dp254
S'wp_author'
p255
S'Rufus Pollock'
p256
sS'userid'
p257
S'2'
p258
sS'excerpt'
p259
g8
sS'wp_page_parent_id'
p260
I0
sS'mt_allow_comments'
p261
I0
sS'text_more'
p262
g8
sS'custom_fields'
p263
(lp264
sS'wp_author_id'
p265
S'2'
p266
sS'title'
p267
S'Search'
p268
sS'wp_password'
p269
g8
sS'wp_page_parent_title'
p270
g8
sS'page_id'
p271
I3805
sS'wp_slug'
p272
S'search'
p273
sS'wp_page_order'
p274
I0
sS'permaLink'
p275
S'http://schoolofdata.org/search/'
p276
sS'description'
p277
S'<script>\n  (function() {\n    var cx = \'016167360345834759472:xgd5hlcmqj4\';\n    var gcse = document.createElement(\'script\');\n    gcse.type = \'text/javascript\';\n    gcse.async = true;\n    gcse.src = (document.location.protocol == \'https:\' ? \'https:\' : \'http:\') +\n        \'//www.google.com/cse/cse.js?cx=\' + cx;\n    var s = document.getElementsByTagName(\'script\')[0];\n    s.parentNode.insertBefore(gcse, s);\n  })();\n</script>\n<gcse:search overlayResults="false" queryParameterName="q" enableOrderBy="false" autoSearchOnLoad="true" enableAutoComplete="true"></gcse:search>\n\n<!-- extra from rufus to fix the layout of the search box -->\n<style type=\'text/css\'>\n  .gsib_a, .gsib_b {\n    padding-top: 2px;\n    padding-bottom: 0px;\n    margin-top: 0px;\n    border: none;\n  }\n  .gsib_a input, .gsib_a input:focus {\n    box-shadow: none;\n  }\n  .gcsc-branding {\n    display: none;\n  }\n  .gsc-above-wrapper-area-container {\n    padding-bottom: 0;\n    margin-bottom: 0;\n  }\n  .gs-snippet {\n    padding-left: 8px;\n  }\n</style>'
p278
sS'dateCreated'
p279
(ixmlrpclib
DateTime
p280
(dp281
g32
S'20130323T22:01:22'
p282
sbsS'wp_author_display_name'
p283
S'Rufus Pollock'
p284
sS'link'
p285
S'http://schoolofdata.org/search/'
p286
sS'page_status'
p287
S'publish'
p288
sS'categories'
p289
(lp290
sS'wp_page_template'
p291
S'default'
p292
sS'mt_allow_pings'
p293
I0
sS'date_created_gmt'
p294
(ixmlrpclib
DateTime
p295
(dp296
g32
S'20130323T22:01:22'
p297
sbssS'2891'
p298
(dp299
S'wp_author'
p300
S'Michael Bauer'
p301
sS'userid'
p302
S'2191'
p303
sS'excerpt'
p304
g8
sS'wp_page_parent_id'
p305
I2889
sS'mt_allow_comments'
p306
I1
sS'text_more'
p307
g8
sS'custom_fields'
p308
(lp309
(dp310
S'value'
p311
S'1131054521'
p312
sS'id'
p313
S'8944'
p314
sS'key'
p315
S'dsq_thread_id'
p316
sasS'wp_author_id'
p317
S'2191'
p318
sS'title'
p319
S'How to get data'
p320
sS'wp_password'
p321
g8
sS'wp_page_parent_title'
p322
S'Recipes'
p323
sS'page_id'
p324
I2891
sS'wp_slug'
p325
S'howtogetdata'
p326
sS'wp_page_order'
p327
I0
sS'permaLink'
p328
S'http://schoolofdata.org/handbook/recipes/howtogetdata/'
p329
sS'description'
p330
V<div class="content">  <div class="section" id="how-to-get-data">   <p><em>Section author: Tim McNamara &lt;<a class="reference external" href="mailto:tim.mcnamara%40okfn.org">tim<span>.</span>mcnamara<span>@</span>okfn<span>.</span>org</a>&gt;</em></p> <p>This guide focuses on how you can extract data from web sites and web services. We will go over the various resources at your disposal to find sources which are useful to you.</p> <div class="section" id="finding-data"> <h2>Finding data</h2> <div class="section" id="directories"> <h3>Directories</h3> <div class="section" id="search-engines"> <h4>Search Engines</h4> <p>There are a small number of emerging search engines for raw data:</p> <blockquote> <div><ul class="simple"><li><a class="reference external" href="http://www.opendatasearch.org/">opendatasearch.org</a> is a search engine which collects linked data from various directories.</li> <li>The <cite>Open Data Directory</cite> provides wide coverage of many catalogues. At this stage, the directory\u2019s metadata is released under a non-commercial licence.</li> </ul></div></blockquote> </div> <div class="section" id="edited-directories"> <h4>Edited directories</h4> <p>One of the <a class="reference external" href="http://oad.simmons.edu/oadwiki/Data_repositories">largest directories of open data repositories</a> is provided by the <a class="reference external" href="http://oad.simmons.edu/oadwiki/About_OAD">Open Access Directory</a>. Its collection is mostly focused on scientific or research data and is curated by topic area. Topics covered in the directory include archaeology, astronomy, biology, chemistry, computer science, energy, environmental sciences, earth sciences, linguistics, marine sciences, medicine, physics and social sciences.</p> <p><a class="reference external" href="http://ckan.net">CKAN</a> is a directory that largely works through wiki-like edits. Some of the benefits of CKAN are that it has well developed client libraries that enable you to programmatically access information about each of the datasets within its directory. For example, it is easy to ask it to tell you which datasets have been released into the public domain.</p> <p><a class="reference external" href="http://www.quora.com">Quora</a> has actually become a great source of information about where to find data on specific topic areas. It has several questions related to this topic which are being continually updated. Some examples include:</p> <ul class="simple"><li><cite>What are some free, public data sets? &lt;http://www.quora.com/Data/What-are-some-free-public-data-sets&gt;</cite></li> <li><cite>Where can I get large datasets open to the public &lt;http://www.quora.com/Data/Where-can-I-get-large-datasets-open-to-the-public&gt;</cite></li> </ul></div> </div> </div> <div class="section" id="extracting-data"> <h2>Extracting Data</h2> <div class="section" id="scraping"> <h3>Scraping</h3> <p>Remember, the website is the API. If a site provides information full information on its pages, but only offers you a limited access via its search page you can scrape it to release its data.</p> <div class="section" id="structure-of-a-scraper"> <h4>Structure of a scraper</h4> <p>Scrapers are comprised of three core parts:</p> <ol class="arabic simple"><li>A queue of pages to scrape</li> <li>An area for structured data to be stored, such as a database</li> <li>A downloader and parser that adds URLs to the queue and/or structured information to the database.</li> </ol></div> <div class="section" id="useful-clean-up-steps"> <h4>Useful clean up steps</h4> <p>One advantage of scraping data from the web is that you can actually have a better dataset than the original. Because you need to take steps to understand the dataset\u2019s inconsistencies, you can eliminate or at least minimise them. From another perspective, spending time cleaning up messy data can fill the large gaps that your processor will experience when waiting for it to be downloaded from its host.</p> <p>This section provides an example of several useful clean-up operations.</p> <ul class="simple"><li>Cleaning HTML</li> <li>Strip whitespace</li> <li>Converting numbers to number types:</li> <li>Converting Boolean values: <cite>\u2018Yes\u2019 -&gt; True</cite></li> <li>Converting dates to machine-readable formats: <cite>\u201c24 June 2004\u201d -&gt; \u201c2004-06-24\u201d</cite></li> </ul><div class="section" id="clean-the-html"> <h5>Clean the HTML</h5> <p>HTML you find on the web can be atrocious. Here\u2019s a quick function that can help. We make use of the <a class="reference external" href="http://lxml.de/">lxml</a> library. It\u2019s very good at understanding broken HTML and will render a perfectly-formed page for your extractor functions.</p> <p>You may be concerned that this is computationally wasteful. This is true, but it can reduce lots of the irritation of extracting specific information from messy HTML:</p> <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">clean_page</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>\u000a    <span class="sd">"""</span>\u000a<span class="sd">    &gt;&gt;&gt; junk = "some random HTML&lt;P&gt; for you to try to parse&lt;/p&gt;"</span>\u000a<span class="sd">    &gt;&gt;&gt; clean_page(junk)</span>\u000a<span class="sd">    '&lt;div&gt;&lt;p&gt;some random HTML&lt;/p&gt;&lt;p&gt; for you to try to parse&lt;/p&gt;&lt;/div&gt;'</span>\u000a<span class="sd">    &gt;&gt;&gt; print clean_page(junk, pretty_print=True)</span>\u000a<span class="sd">    &lt;div&gt;</span>\u000a<span class="sd">    &lt;p&gt;some random HTML&lt;/p&gt;</span>\u000a<span class="sd">    &lt;p&gt; for you to try to parse&lt;/p&gt;</span>\u000a<span class="sd">    &lt;/div&gt;</span>\u000a<span class="sd">    """</span>\u000a    <span class="kn">from</span> <span class="nn">lxml.html</span> <span class="kn">import</span> <span class="n">fromstring</span>\u000a    <span class="kn">from</span> <span class="nn">lxml.html</span> <span class="kn">import</span> <span class="n">tostring</span>\u000a    <span class="k">return</span> <span class="n">tostring</span><span class="p">(</span><span class="n">fromstring</span><span class="p">(</span><span class="n">html</span><span class="p">),</span> <span class="n">pretty_print</span><span class="o">=</span><span class="n">pretty_print</span><span class="p">)</span>\u000a</pre></div> </div> </div> <div class="section" id="converting-yes-no-to-boolean-values"> <h5>Converting yes/no to Boolean values</h5> <p>Computers are far better at interpreting Boolean values when they are consistently provided. Irrespective of the programming language, normalising these values will make any automatic comparisons much richer:</p> <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">to_bool</span><span class="p">(</span><span class="n">yes_no</span><span class="p">,</span> <span class="n">none_to_false</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>\u000a    <span class="sd">"""</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('')</span>\u000a<span class="sd">    False</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool(None):</span>\u000a<span class="sd">    False</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('y')</span>\u000a<span class="sd">    True</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('yip')</span>\u000a<span class="sd">    True</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('Yes')</span>\u000a<span class="sd">    True</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('nuh')</span>\u000a<span class="sd">    False</span>\u000a<span class="sd">    """</span>\u000a    <span class="n">yes_no</span> <span class="o">=</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>\u000a    <span class="k">if</span> <span class="ow">not</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">and</span> <span class="n">none_to_false</span><span class="p">:</span>\u000a        <span class="k">return</span> <span class="bp">False</span>\u000a    <span class="k">if</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'y'</span><span class="p">):</span>\u000a        <span class="k">return</span> <span class="bp">True</span>\u000a    <span class="k">elif</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'n'</span><span class="p">):</span>\u000a        <span class="k">return</span> <span class="bp">False</span>\u000a</pre></div> </div> </div> <div class="section" id="converting-numbers-to-the-correct-type"> <h5>Converting numbers to the correct type</h5> <p>If you\u2019re extracting numbers from HTML tables, they will each be represented as a <cite>string</cite> or Unicode, even though it would be more sensible to treat as integers or floating point numbers:</p> <div class="highlight-python"><pre>def to_int(number, european=False):\u000a    """\u000a    &gt;&gt;&gt; to_int('32')\u000a    32\u000a    &gt;&gt;&gt; to_int('3,998')\u000a    3998\u000a    &gt;&gt;&gt; to_int('3.998', european=True)\u000a    3998\u000a    """\u000a    if european:\u000a        number = number.replace('.', '')\u000a    else:\u000a        number = number.replace(',', '')\u000a    return int(number)\u000a\u000adef to_float(number, european=False)\u000a    """\u000a    &gt;&gt;&gt; to_float(u'42.1')\u000a    42.1\u000a    &gt;&gt;&gt; to_float(u'32,1', european=True)\u000a    32.1\u000a    &gt;&gt;&gt; to_float('3,132.87')\u000a    3132.87\u000a    &gt;&gt;&gt; to_float('3.132,87')\u000a    3132.87\u000a    &gt;&gt;&gt; to_float('(54.12)')\u000a    -54.12\u000a\u000a    Warning\u000a    -------\u000a\u000a    Incorrectly declaring `european` leads to troublesome results:\u000a\u000a    &gt;&gt;&gt; to_float('54.2', european=True)\u000a    542\u000a    """\u000a    import string\u000a    if european:\u000a        table = string.maketrans(',.','.,')\u000a        number = string.translate(number, table)\u000a    number = number.replace(',', '')\u000a    if number.startswith('(') and number.endswith(')'):\u000a        number = '-' + number[1:-1]\u000areturn float(number)</pre> </div> <p>If you are dealing with numbers from another region consistently, it may be appropriate to call upon the <cite>locale</cite> module. You will then have the advantage of code written in C, rather than Python:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">locale</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">atoi</span><span class="p">(</span><span class="s">'1,000,000'</span><span class="p">)</span>\u000a<span class="go">1000000</span>\u000a</pre></div> </div> </div> <div class="section" id="stripping-whitespace"> <h5>Stripping whitespace</h5> <p>Removing whitespace from a string is built into many languages <cite>string</cite>. Removing left and right whitespace is highly recommended. Your database will be unable to sort data properly which have inconsistent treatment of whitespace:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">u'</span><span class="se">\u005cn\u005ct</span><span class="s">Title'</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>\u000a<span class="go">u'Title'</span>\u000a</pre></div> </div> </div> <div class="section" id="converting-dates-to-a-machine-readable-format"> <h5>Converting dates to a machine-readable format</h5> <p>Python is well blessed with a <a class="reference external" href="http://www.labix.org/python-dateutil">mature date parser</a>, <cite>dateutil</cite>. We can take advantage of this to make light work an otherwise error-prone task.</p> <p><cite>dateutil</cite> can be reluctant to raise exceptions to dates that it doesn\u2019t understand. Therefore, it can be wise to store the original along with the parsed ISO formatted string. This can be used for manual checking if required later.</p> <p>Example code:</p> <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">date_to_iso</span><span class="p">(</span><span class="n">datestring</span><span class="p">):</span>\u000a    <span class="sd">"""</span>\u000a<span class="sd">    Takes a string of a human-readable date and</span>\u000a<span class="sd">    returns a machine-readable date string.</span>\u000a\u000a\u000a<span class="sd">    &gt;&gt;&gt; date_to_iso('20 July 2002')</span>\u000a<span class="sd">    '2002-07-20 00:00:00'</span>\u000a<span class="sd">    &gt;&gt;&gt; date_to_iso('June 3 2009 at 4am')</span>\u000a<span class="sd">    '2009-06-03 04:00:00'</span>\u000a<span class="sd">    """</span>\u000a    <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>\u000a    <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>\u000a    <span class="n">default</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\u000a    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">datestring</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">))</span>\u000a</pre></div> </div> </div> </div> <div class="section" id="general-tips"> <h4>General tips</h4> <ul class="simple"><li>Minimise the pages to scrape. This will save everybody time and resources.<ul><li>Inspect any AJAX fields. AJAX is generally performed by sending JavaScript objects between the server and the web browser. They are easy to parse and are generally very rich.</li> <li>Try looking for a <cite>sitemap.xml</cite>.</li> <li>Any pages in the <cite>robots.txt</cite> which disallow access are generally where the bulk of the value lies.</li> </ul></li> <li>Run an evented or multi-threaded system. Once you have gained the confidence of building a few scrapers, learn how to optimise performance. Given that you are using lots of external resources, there will be lots of latency involved. This means that your scraper\u2019s performance increases by using asynchronous programming.</li> </ul></div> <div class="section" id="types-of-scrapers"> <h4>Types of scrapers</h4> <table class="docutils field-list" frame="void" rules="none"><col class="field-name"><col class="field-body"><tbody valign="top"><tr class="field-odd field"><th class="field-name" colspan="2">DOM-based approaches:</th></tr><tr class="field-odd field"><td></td><td class="field-body"><table class="first docutils field-list" frame="void" rules="none"><col class="field-name"><col class="field-body"><tbody valign="top"><tr class="field-odd field"><th class="field-name">advantages:</th><td class="field-body"><ul class="first simple"><li>familiar</li> <li>relatively computationally efficient</li> </ul></td> </tr><tr class="field-even field"><th class="field-name">disadvantages:</th><td class="field-body"><ul class="first last simple"><li>requires parsing the entire document, which can be difficult with messy content</li> <li>prone to breaking when encountering unexpected content</li> <li>can be tricky to handle errors</li> <li>may require learning a new language, <a class="reference external" href="http://en.wikipedia.org/wiki/XPath">XPath</a></li> </ul></td> </tr></tbody></table><p>This is the most common form of scraper. All the data that you are looking to extract is identified by selecting portions from the DOM.</p> <p>Most modern libraries, such as <a class="reference external" href="http://lxml.de/">lxml</a> accept CSS selectors. So, in Python to extract content from the  <cite>&lt;title&gt;</cite> tag, you do something similar to <cite>page.cssselect(\u2018title\u2019)[0].text</cite>.</p> <dl class="docutils"><dt><a class="reference external" href="http://en.wikipedia.org/wiki/XPath">XPath</a>, the XML Path Language, is a fuller way to select elements</dt> <dd><p class="first last">from XML and XML-like documents, such as HTML. As with CSS, it uses the structure of the page and tag attributes to be able to select specific elements or groups of elements. XPath expressions can look fairly complex and take some some time to learn.</p> </dd> </dl></td> </tr><tr class="field-odd field"><th class="field-name">Template:</th><td class="field-body"><p class="first">Regular expressions to look for common patterns in the text. One of the easiest template extraction systems is <a class="reference external" href="https://github.com/arshaw/scrapemark">scrapemark</a>. While it is not the most computationally efficient, using template systems requires far less manual work to get going with.</p> </td> </tr><tr class="field-even field"><th class="field-name" colspan="2">Machine-learning:</th></tr><tr class="field-even field"><td></td><td class="field-body"><p class="first">Machine-learning packages work by training a model of example pages, then asking for matching material.</p> <p class="last">One tool that is very good at removing boilerplate, such as headings from web pages and only leaving the content is called <a class="reference external" href="http://code.google.com/p/boilerpipe/">boilerpipe</a>. It is bundled together with the <a class="reference external" href="http://www.datasciencetoolkit.org/">Data Science Toolkit</a> and there is an <a class="reference external" href="http://boilerpipe-web.appspot.com/">demo of boilerpipe\u2019s capabilities is available</a>.</p> </td> </tr></tbody></table></div> <div class="section" id="a-scraping-framework"> <h4>A scraping framework</h4> <p>Let\u2019s demonstrate some of the principles that we have been talking about.</p> <p>We\u2019ll be creating a scraping framework, called <cite>tbd</cite>:</p> <div class="highlight-python"><pre>"""\u000a{{somthing}}.py : a webscraping framework..\u000a"""\u000aimport bsddb\u000aimport pickle\u000aimport urllib2\u000afrom asynchat import fifo\u000a\u000afrom dateutil import parser as date_parser\u000aimport lxml\u000aimport lxml.html\u000a\u000aSTART_URL = 'http://blog.okfn.org/'\u000adb = bsddb.hashopen('okfnblog.db')\u000a\u000a#\u000a# UTILITY FUNCTIONS\u000a#\u000a\u000adef get_clean_page(url):\u000a    page = get_page(url)\u000a    page = lxml.html.tostring(page)\u000a    page = lxml.html.fromstring(page)\u000a    return page\u000a\u000adef get_page(url):\u000a    res = urllib2.urlopen(url)\u000a    page = lxml.html.parse(res)\u000a    page.make_links_absolute()\u000a    return page\u000a\u000adef save_post(post):\u000a    save(post['post_id'], post)\u000a\u000adef save_tag(tag):\u000a    save('tag-%s' % tag['tag'], tag)\u000a\u000adef save_author(author):\u000a    save('author-%s' % author['name'], author)\u000a\u000adef save(key, data):\u000a    db[key] = pickle.dumps(data)\u000a\u000adef extract_created_at_datetime(post):\u000a    date = post.cssselect('span.entry-date')[0].text\u000a    time = post.cssselect('div.entry-meta a')[0].attrib['title']\u000a    return str(date_parser.parse(date + ' ' + time))\u000a\u000adef process_post(url):\u000a    source = get_page(url)\u000a    post = {}\u000a    post['title'] = source.cssselect('h1.entry-title')[0].text\u000a    post['author'] = source.csselect('span.author a')[0].text\u000a    post['content'] = source.cssselect('div.entry-content')[0].text_content()\u000a    post['as_html'] = lxml.html.tostring(source.cssselect('div.entry-content')[0])\u000a    post['created_at'] = extract_created_at_datetime(source)\u000a    post['post_id'] = source.cssselect('div.post')[0].attrib['id']\u000a    post['tags'] = [tag.text for tag in source.cssselect('a[rel~=tag]')]\u000a    post['url'] = url\u000a    yield save_post, post\u000a    yield save_author, dict(name=post['author'])\u000a    for tag in post['tags']\u000a        yield save_tag, dict(tag=tag, post_id=post_id, author_name=post['author'])\u000a\u000adef process_archive(url):\u000a    archive = get_page(url)\u000a    for post in archive.cssselect('.post .entry-meta a'):\u000a        yield process_post, post.attrib['href']\u000a    previous = archive.cssselect('.nav-previous a')\u000a    if previous: #is found\u000a        yield process_archive, previous[0].attrib['href']\u000a\u000adef process_start(url):\u000a    index = get_page(url)\u000a    for anchor in index.cssselect('li#archives-2 a'):\u000a        yield process_archive, anchor.attrib['href']\u000a\u000adef main():\u000a    queue = fifo((process_start, START_URL))\u000a    while 1:\u000a        status, data = queue.pop()\u000a        if status != 1:\u000a            break\u000a        func, args = data\u000a        for newjob in func(args):\u000a            queue.push(newjob[0], newjob[1])\u000adb.sync()</pre> </div> </div> <div class="section" id="dealing-with-javascript"> <h4>Dealing with JavaScript</h4> <p>JavaScript can be a pain for scrapers. JavaScript is often used to alter the DOM on pages after they have been created. This means that the page you see in an Internet browser is different that the page your scrapers see.</p> <p>There are a few different approaches to dealing with this process. We will briefly outline them, then go through the easiest option.</p> <div class="section" id="options"> <h5>Options</h5> <p>There are three broad options when considering how to deal with JavaScript:</p> <blockquote> <div><ul class="simple"><li><strong>Don\u2019t</strong> Much of the AJAX content could be downloaded directly by your scraper. AJAX is generally sent as JSON, which means it is very easy to parse. You could save yourself a lot of time if you spent some time evaluating the target more closely.</li> <li><strong>Do it offline</strong>  Under this approach, you download the content, send it to a JavaScript interpreter such as <a class="reference external" href="https://developer.mozilla.org/en/SpiderMonkey">SpiderMonkey</a>, then process the results. If this sounds like a lot of manual work, it is. Fortunately for us, other people have struggled with this problem before and have released software to take care of most of the detail. Take a look at <a class="reference external" href="http://simile.mit.edu/wiki/Crowbar">crowbar</a> and <cite>webkitcrawler</cite>.</li> <li><strong>Automate a browser</strong>  This third approach involves relying on a web browser\u2019s handling JavaScript itself. Until recently, this has involved quite a bit of complicated effort. Now, a library called <cite>splinter</cite> has come along to make life much easier.</li> </ul></div></blockquote> <p>One of the biggest differences between the second and third options is that the second option does not require a monitor. That means, it can be much easier to deploy on a server. However, in general the tasks we\u2019ll be doing are fairly small and can happily run in the background while you\u2019re doing other work.</p> </div> <div class="section" id="path-of-least-resistance-splinter"> <h5>Path of least resistance - splinter</h5> <p>Splinter is Python library that takes all of the trouble out of this process:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">splinter.browser</span> <span class="kn">import</span> <span class="n">Browser</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">br</span> <span class="o">=</span> <span class="n">Browser</span><span class="p">(</span><span class="s">'webdriver.chrome'</span><span class="p">)</span>\u000a</pre></div> </div> <p>As a trivial example, let\u2019s find Auckland\u2019s current weather from <a class="reference external" href="http://www.nzherald.co.nz">the New Zealand Herald</a>. If you visit their homepage without JavaScript enabled on your internet browser, you\u2019ll see nothing. However, with JavaScript, an icon appears</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">br</span><span class="o">.</span><span class="n">visit</span><span class="p">(</span><span class="s">'http://www.nzherald.co.nz/'</span><span class="p">)</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">high</span> <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">find_by_css</span><span class="p">(</span><span class="s">'span.high'</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">value</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">low</span>  <span class="o">=</span> <span class="n">br</span><span class="o">.</span><span class="n">find_by_css</span><span class="p">(</span><span class="s">'span.low'</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="o">.</span><span class="n">value</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">high</span><span class="p">,</span> <span class="n">low</span>\u000a<span class="go">'19\u005cxb0', '11\u005cxb0' # \u005cxb0 is the degree sign</span>\u000a</pre></div> </div> </div> </div> <div class="section" id="dealing-with-pdf-content"> <h4>Dealing with PDF content</h4> <p>PDF documents are a pain. Some PDF generators don\u2019t actually have the concept of a word\u2013 every letter is individually placed. This makes it very hard to create a software tool that can combine letters to make words, and combine words to make sentences. However, depending on the source documents, there are possibilities for extracting information from them.</p> <p>The <a class="reference external" href="http://www.datasciencetoolkit.org/">Data Science Toolkit</a> is now the best way to get up and running with these kinds of tasks. Its <cite>\u201cFile to Text\u201d tool</cite> takes an image, PDF or MS Word document and returns text to you.</p> <p>If you only have a few documents to process, the website actually allows you to do the processing on their servers.</p> <div class="section" id="extracting-plain-text"> <h5>Extracting plain text</h5> <p>A quick way to extract text from a PDF programmatically is with the Python library, <a class="reference external" href="http://pypi.python.org/pypi/slate">slate</a>. Disclaimer: I maintain <cite>slate</cite>. Its philosophy is to have a very low barrier to entry, but only extracts plain text out of the document:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">slate</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'salesreport.pdf'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>\u000a<span class="gp">... </span>   <span class="n">report</span> <span class="o">=</span> <span class="n">slate</span><span class="o">.</span><span class="n">PDF</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>\u000a<span class="gp">...</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">report</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>\u000a<span class="go">"2011 ..."</span>\u000a</pre></div> </div> </div> <div class="section" id="digging-deeper"> <h5>Digging deeper</h5> <p>One of the better free tools is called <a class="reference external" href="http://pdftohtml.sourceforge.net/">pdftohtml</a>. It generates an HTML version of the document, which can then be processed by tools that you are used to. It does a good job of understanding the layout.</p> <p>It is possible to circumvent security measures in PDF documents. The PDF viewer <a class="reference external" href="http://www.foolabs.com/xpdf">xpdf</a> provides this by default. This allows you to print or extract content that may be otherwise prevented through security measures.</p> </div> </div> <div class="section" id="optical-character-recognition"> <h4>Optical Character Recognition</h4> <p>Creating a system for Optical Character Recognition (OCR) can be challenging. In most circumstances, the <cite>Data Science Toolkit</cite> will be able to extract text from files that you are looking for.</p> <p>An excellent free tool is called <a class="reference external" href="http://code.google.com/p/ocrfeeder/">OCRFeeder</a>. It is available in Ubuntu as the <cite>ocrfeeder</cite> package. To get a feel for how to use it, there is a <a class="reference external" href="http://vimeo.com/3760126">5 minute video tutorial</a> on its usage.</p> <div class="section" id="building-an-ocr-pipeline"> <h5>Building an OCR pipeline</h5> <p>OCR involves creating a conveyor belt of programming tools. The whole process can include several steps:</p> <blockquote> <div><ul class="simple"><li>Cleaning the content</li> <li>Understanding the layout</li> <li>Extracting text fragments from pieces of each page, according to the layout of each page</li> <li>Reassembling text fragments into a usable form</li> </ul></div></blockquote> </div> <div class="section" id="cleaning-the-pages"> <h5>Cleaning the pages</h5> <p>This generally involves removing dark splotches left by scanners, straightening pages and adding contrast between the background and the printed text. One of the best free tools for this is <a class="reference external" href="http://unpaper.berlios.de/">unpaper</a>.</p> </div> <div class="section" id="file-type-conversion"> <h5>File type conversion</h5> <p>One thing to note is that many OCR engines only support a small number of input file types. Typically, you will need to convert your images to .ppm files.</p> </div> <div class="section" id="using-an-ocr-engine"> <h5>Using an OCR engine</h5> <p>The three main contenders in the free and open source world are:</p> <ul class="simple"><li>Tesseract OCR</li> <li>Ocropus</li> <li>GNU Ocrad</li> </ul><p>Each of those tools has a long history and is in continuous development. With my Python bias, Ocropus is probably the easiest to get started with.</p> </div> </div> <div class="section" id="crowdsourcing"> <h4>Crowdsourcing</h4> <p>The open source project, <a class="reference external" href="https://bitbucket.org/waj/taskmeup">TaskMeUp</a> is designed to allow you to distribute jobs between hundreds of participants. If you have a project that could benefit from being reviewed by human eyes, this may be an option for you.</p> <p>Alternatively, there are a small number of commercial firms providing this service. The most well known is Amazon\u2019s Mechanical Turk. They providing something of a wholesale service. You may be better off using a service such as Cloudflower or Microtask. Microtask also has the ethical advantage of not providing service below the minimum wage. Instead, they team up with video game sellers to provide in-game rewards.</p> </div> <div class="section" id="id1"> <h4>General Tips</h4> <div class="section" id="avoiding-being-blocked"> <h5>Avoiding being blocked</h5> <p>It\u2019s possible to use sophisticated techniques to circumvent rate limitations and IP address blocking. However, the best technique for avoiding being blocked is by being a good netizen and adding pauses between your requests.</p> <p>Scrape during the night of the site\u2019s local time. This is very likely to have very few users, meaning the site will have more capacity to serve your scraper.</p> </div> <div class="section" id="be-part-of-the-open-data-community"> <h5>Be part of the open data community</h5> <p>When scraping open data, you should use <cite>ScraperWiki</cite>. ScraperWiki allows people to cooperatively build scrapers. They will also take care of rerunning your scraper periodically so that new data are added.</p> <p>By being part of the community, you increase your profile, learn much more and benefit from people fixing your scraper when it breaks.</p> </div> <div class="section" id="learn-async-programming"> <h5>Learn async programming</h5> <p>Network programming is inherently wasteful in many ways. Your processor is consistently waiting for things to arrive from other parts of the world. Therefore, you can speed up the processing steps of your scrapers significantly if you take the time to learn asynchronous programming.</p> </div> </div> </div> </div> </div>   <p><small>Last updated on Apr 17, 2013.</small></p></div>
p331
sS'dateCreated'
p332
(ixmlrpclib
DateTime
p333
(dp334
g32
S'20130202T21:10:50'
p335
sbsS'wp_author_display_name'
p336
S'Michael Bauer'
p337
sS'link'
p338
S'http://schoolofdata.org/handbook/recipes/howtogetdata/'
p339
sS'page_status'
p340
S'publish'
p341
sS'categories'
p342
(lp343
sS'wp_page_template'
p344
S'default'
p345
sS'mt_allow_pings'
p346
I0
sS'date_created_gmt'
p347
(ixmlrpclib
DateTime
p348
(dp349
g32
S'20130202T21:10:50'
p350
sbssS'3599'
p351
(dp352
S'wp_author'
p353
S'Rufus Pollock'
p354
sS'userid'
p355
S'2'
p356
sS'excerpt'
p357
g8
sS'wp_page_parent_id'
p358
I0
sS'mt_allow_comments'
p359
I0
sS'text_more'
p360
g8
sS'custom_fields'
p361
(lp362
sS'wp_author_id'
p363
S'2'
p364
sS'title'
p365
S'Contact'
p366
sS'wp_password'
p367
g8
sS'wp_page_parent_title'
p368
g8
sS'page_id'
p369
I3599
sS'wp_slug'
p370
S'contact'
p371
sS'wp_page_order'
p372
I0
sS'permaLink'
p373
S'http://schoolofdata.org/contact/'
p374
sS'description'
p375
S'You can get in touch with us in various ways:\n\n* Email: schoolofdata [at] okfn.org\n* Mailing list: <http://lists.okfn.org/mailman/listinfo/school-of-data>\n* Twitter: <https://twitter.com/schoolofdata>\n\n[contact-form-7 id="3400" title="Contact form 1"] \n'
p376
sS'dateCreated'
p377
(ixmlrpclib
DateTime
p378
(dp379
g32
S'20130314T18:50:53'
p380
sbsS'wp_author_display_name'
p381
S'Rufus Pollock'
p382
sS'link'
p383
S'http://schoolofdata.org/contact/'
p384
sS'page_status'
p385
S'publish'
p386
sS'categories'
p387
(lp388
sS'wp_page_template'
p389
S'default'
p390
sS'mt_allow_pings'
p391
I0
sS'date_created_gmt'
p392
(ixmlrpclib
DateTime
p393
(dp394
g32
S'20130314T18:50:53'
p395
sbssS'4322'
p396
(dp397
S'wp_author'
p398
S'Michael Bauer'
p399
sS'userid'
p400
S'2191'
p401
sS'excerpt'
p402
g8
sS'wp_page_parent_id'
p403
I2889
sS'mt_allow_comments'
p404
I1
sS'text_more'
p405
g8
sS'custom_fields'
p406
(lp407
sS'wp_author_id'
p408
S'2191'
p409
sS'title'
p410
S'Keeping the data around'
p411
sS'wp_password'
p412
g8
sS'wp_page_parent_title'
p413
S'Recipes'
p414
sS'page_id'
p415
I4322
sS'wp_slug'
p416
S'mirroring'
p417
sS'wp_page_order'
p418
I0
sS'permaLink'
p419
S'http://schoolofdata.org/handbook/recipes/mirroring/'
p420
sS'description'
p421
V<div class="content">  <div class="section" id="keeping-the-data-around">   <p>As you retrieve data from the government (or other sources), it\u2019s easy to just consider the websites it has been released on as a permanent resource. Still, experience has shown that data does go away: whether it is through government re-designing its web sites, new policies that retract transparency rules or simple system failures.</p> <p>At the same time, downloading complete copies of web sites - a process called mirroring - is a fairly well-established technique that can easily be deployed by civil society organisations. Mirroring involves an automated computer program (for a list see: <a class="reference external" href="http://en.wikipedia.org/wiki/Web_crawler">http://en.wikipedia.org/wiki/Web_crawler</a>) harvesting all the web pages from a specified web page, e.g. a ministry home page. In most cases, it is also possible to find old versions of web sites via the Internet Archive\u2019s Wayback machine (<a class="reference external" href="http://archive.org/web/web.php">http://archive.org/web/web.php</a>), a project that aims to create up-to-date copies of all public web sites and archive them forever... raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p422
sS'dateCreated'
p423
(ixmlrpclib
DateTime
p424
(dp425
g32
S'20130423T12:17:13'
p426
sbsS'wp_author_display_name'
p427
S'Michael Bauer'
p428
sS'link'
p429
S'http://schoolofdata.org/handbook/recipes/mirroring/'
p430
sS'page_status'
p431
S'publish'
p432
sS'categories'
p433
(lp434
sS'wp_page_template'
p435
S'default'
p436
sS'mt_allow_pings'
p437
I0
sS'date_created_gmt'
p438
(ixmlrpclib
DateTime
p439
(dp440
g32
S'20130423T10:17:13'
p441
sbssS'4242'
p442
(dp443
S'wp_author'
p444
S'Michael Bauer'
p445
sS'userid'
p446
S'2191'
p447
sS'excerpt'
p448
g8
sS'wp_page_parent_id'
p449
I2889
sS'mt_allow_comments'
p450
I1
sS'text_more'
p451
g8
sS'custom_fields'
p452
(lp453
(dp454
S'value'
p455
S'1225143021'
p456
sS'id'
p457
S'18084'
p458
sS'key'
p459
S'dsq_thread_id'
p460
sasS'wp_author_id'
p461
S'2191'
p462
sS'title'
p463
S'A short introduction to HTML'
p464
sS'wp_password'
p465
g8
sS'wp_page_parent_title'
p466
S'Recipes'
p467
sS'page_id'
p468
I4242
sS'wp_slug'
p469
S'introduction-to-html'
p470
sS'wp_page_order'
p471
I0
sS'permaLink'
p472
S'http://schoolofdata.org/handbook/recipes/introduction-to-html/'
p473
sS'description'
p474
V<div class="content">  <div class="section" id="a-short-introduction-to-html">   <p>Getting data from websites might seem a little complicated at first - but rest assured, once you\u2019ve done it a couple of times it will be similar. To extract data from websites we need to peek under the hood and look at the underlying HTML code. Don\u2019t worry you don\u2019t need to understand every detail of it just to be able to do so.</p> <p>HTML is the acronym for Hypertext Markup Language and is the language used to describe (markup) web pages. It is the underlying language to structure web-page content. HTML itself does not determine the way things look - it only helps to classify and structure content. So let\u2019s peek at some websites.</p> <div class="section" id="walkthrough-exploring-html-with-google-chrome"> <h2>Walkthrough: Exploring HTML with Google Chrome</h2> <ol class="arabic"> <li><p class="first">Open the website listing all MPs for the UK Parliament at <a class="reference external" href="http://www.parliament.uk/mps-lords-and-offices/mps/">http://www.parliament.uk/mps-lords-and-offices/mps/</a> in Chrome</p> </li> <li><p class="first">Scroll down to the list of MPs</p> </li> <li><p class="first">Right click on one of the entries</p> </li> <li><p class="first">Select \u201cInspect Element\u201d</p> <img alt="http://farm9.staticflickr.com/8059/8163611876_c4f6fe8b57_o_d.png" src="http://farm9.staticflickr.com/8059/8163611876_c4f6fe8b57_o_d.png"> </li> <li><p class="first">Chrome will open a second area on the bottom of the page showing the underlying HTML code - focussed on the element you clicked</p> <img alt="http://farm8.staticflickr.com/7280/8163577887_778ca2b7a6_o_d.png" src="http://farm8.staticflickr.com/7280/8163577887_778ca2b7a6_o_d.png"> </li> <li><p class="first">The pointy brackets are the HTML tags.</p> </li> <li><p class="first">Now move your mouse up and down and notice how chrome tells you which element is which</p> </li> <li><p class="first">You can expand and collapse certain sections by clicking on the triangles</p> </li> <li><p class="first">Did you notice something? Every row in the long list of MPs is within one &lt;tr&gt;&lt;/tr&gt; section. &lt;tr&gt; indicates a table row.</p> </li> <li><p class="first">The names and the constituency are in &lt;td&gt;&lt;/td&gt; tags - td indicates table data. So we\u2019re dealing with a table here?</p> </li> <li><p class="first">If you scroll up the list you\u2019ll notice a &lt;table&gt; element, followed by a &lt;tbody&gt; element - so yes this is a proper HTML table.</p> <img alt="http://farm8.staticflickr.com/7266/8163611962_0b8a8c977a_o_d.png" src="http://farm8.staticflickr.com/7266/8163611962_0b8a8c977a_o_d.png"> </li> <li><p class="first">Go ahead and explore!</p> </li> </ol> <p>HTML is no mystery. If you want to know more about it and how to build webpages with it - visit the <a class="reference external" href="https://p2pu.org/en/schools/school-of-webcraft/">School of Webcraft</a> for a gentle introduction.</p> </div> <div class="section" id="other-browsers"> <h2>Other browsers</h2> <p>To do the same thing in other browsers, try the following approaches.</p> <ul class="simple"> <li>Firefox: Install Firebug plugin (<a class="reference external" href="http://getfirebug.com/">http://getfirebug.com/</a>)</li> <li>Safari: Preferences &gt; Advanced &gt; Show Develop Menu &gt; Show Web Inspector</li> <li>Internet Explorer 7: Install Developer toolbar</li> </ul> </div> <div class="section" id="html-elements"> <h2>HTML Elements</h2> <p>Elements are identified by \u2018tags\u2019, their name. They can have an inner text and \u201cattributes\u201d (named properties): &lt;tag attribute=\u201dvalue\u201d&gt;text&lt;/tag&gt;</p> <ul class="simple"> <li>&lt;html&gt; - the whole document</li> <li>&lt;body&gt; - the human-readable part of the web page</li> <li>&lt;table&gt; - the frame of a table element</li> <li>&lt;tr&gt; - a row in a table</li> <li>&lt;td&gt; - a cell of content inside a row</li> <li>&lt;th&gt; - a table header cell inside a row</li> </ul> </div> <div class="section" id="python-code-elements-for-scraping"> <h2>Python code elements for scraping</h2> <ul class="simple"> <li>name = expression - assign a name to the output of a computation</li> <li>from lxml import html - import html component form a \u201clibrary\u201d</li> <li>doc = html.parse(\u2018<a class="reference external" href="http://">http://</a>....\u2019) - download and analyze a web page.</li> <li>doc.findall(\u2018//tag\u2019) - find all occurrences of a tag in the whole document</li> <li>element.findall(\u2018childtag\u2019) - find all othertags within element</li> <li>element.find(\u2018highlander\u2019) - find a single highlander within element</li> <li>for name in list-of-things: - run code on each element of the list, assign the item to name</li> <li>list-name[n] - get the nth element from a list.</li> <li>scraperwiki.save(unique_keys=[], data={\u2018field\u2019: value, \u2018field2\u2019: value} - see <a class="reference external" href="https://scraperwiki.com/docs/python/python_datastore_guide/">https://scraperwiki.com/docs/python/python_datastore_guide/</a></li> </ul> <div class="well"><p><strong>Task:</strong> Pick a website and look at the HTML code using Inspect Element. Did you find something interesting?</p> </div>.. raw:: html  <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p475
sS'dateCreated'
p476
(ixmlrpclib
DateTime
p477
(dp478
g32
S'20130419T14:57:01'
p479
sbsS'wp_author_display_name'
p480
S'Michael Bauer'
p481
sS'link'
p482
S'http://schoolofdata.org/handbook/recipes/introduction-to-html/'
p483
sS'page_status'
p484
S'publish'
p485
sS'categories'
p486
(lp487
sS'wp_page_template'
p488
S'default'
p489
sS'mt_allow_pings'
p490
I0
sS'date_created_gmt'
p491
(ixmlrpclib
DateTime
p492
(dp493
g32
S'20130419T12:57:01'
p494
sbssS'316'
p495
(dp496
S'wp_author'
p497
S'Michael Bauer'
p498
sS'userid'
p499
S'2191'
p500
sS'excerpt'
p501
g8
sS'wp_page_parent_id'
p502
I0
sS'mt_allow_comments'
p503
I1
sS'text_more'
p504
g8
sS'custom_fields'
p505
(lp506
(dp507
S'value'
p508
S'955940950'
p509
sS'id'
p510
S'651'
p511
sS'key'
p512
S'dsq_thread_id'
p513
sasS'wp_author_id'
p514
S'2191'
p515
sS'title'
p516
S'Datasources'
p517
sS'wp_password'
p518
g8
sS'wp_page_parent_title'
p519
g8
sS'page_id'
p520
I316
sS'wp_slug'
p521
S'datasources'
p522
sS'wp_page_order'
p523
I0
sS'permaLink'
p524
S'http://schoolofdata.org/datasources/'
p525
sS'description'
p526
S'<iframe width="100%" height="750px" frameborder="0" src="http://okfnlabs.org/listify/embed.html?url=https://docs.google.com/spreadsheet/ccc?key=0AlgwwPNEvkP7dDRxLXIxUzY1VGt0N0dyY0NMUWNiU3c#gid=0"></iframe>\n\n<iframe src="https://docs.google.com/spreadsheet/embeddedform?formkey=dDRxLXIxUzY1VGt0N0dyY0NMUWNiU3c6MQ" width="100%" height="1000" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>'
p527
sS'dateCreated'
p528
(ixmlrpclib
DateTime
p529
(dp530
g32
S'20121108T13:34:20'
p531
sbsS'wp_author_display_name'
p532
S'Michael Bauer'
p533
sS'link'
p534
S'http://schoolofdata.org/datasources/'
p535
sS'page_status'
p536
S'publish'
p537
sS'categories'
p538
(lp539
sS'wp_page_template'
p540
S'default'
p541
sS'mt_allow_pings'
p542
I1
sS'date_created_gmt'
p543
(ixmlrpclib
DateTime
p544
(dp545
g32
S'20121108T13:34:20'
p546
sbssS'1126'
p547
(dp548
S'wp_author'
p549
S'Michael Bauer'
p550
sS'userid'
p551
S'2191'
p552
sS'excerpt'
p553
g8
sS'wp_page_parent_id'
p554
I0
sS'mt_allow_comments'
p555
I1
sS'text_more'
p556
g8
sS'custom_fields'
p557
(lp558
(dp559
S'value'
p560
S'1016106025'
p561
sS'id'
p562
S'3468'
p563
sS'key'
p564
S'dsq_thread_id'
p565
sasS'wp_author_id'
p566
S'2191'
p567
sS'title'
p568
S'Data Explorer Mission... '
p569
sS'wp_password'
p570
g8
sS'wp_page_parent_title'
p571
g8
sS'page_id'
p572
I1126
sS'wp_slug'
p573
S'datamooc'
p574
sS'wp_page_order'
p575
I0
sS'permaLink'
p576
S'http://schoolofdata.org/datamooc/'
p577
sS'description'
p578
V<a title="Crypto-gears by okfn, on Flickr" href="http://www.flickr.com/photos/okfn/8364602336/"><img src="http://farm9.staticflickr.com/8368/8364602336_facaa10cdf_o.png" alt="Crypto-gears" width="100%" /></a><small>Image CC-By-SA <a href="http://www.flickr.com/photos/brewbooks/3303763084/">J Brew on Flickr</a></small>\u000a\u000a<a class="btn btn-large blue centred" style="color: #0db1db;" href="https://docs.google.com/a/okfn.org/forms/d/18KoPEkN6uSBZ1PUg7y8uZ0r0ab9gkmav-2ZvXWm6VtQ/viewform?sid=4cee5cb1e352914a&amp;token=ApnZsz0BAAA.1Rib7UiJrtzVEmZ7-YDqFw.xVsrddcb3vBUz85O6igcmA">Enrol in the Mission...</a>\u000a\u000a## Your Mission: Tell Stories with Data\u000a\u000aLearn how to tinker with, refine and tell a story with data in this 4-week course. Each week you'll be commissioned to work with others on a project that will hone your data-wrangling skills. Lessons will be pulled from Open Knowledge Foundation and Tactical Tech with help from Peer 2 Peer University. <strong>At the end of the course, you will have finessed, wrangled, cleaned and visualized a data set and shared it with the world.</strong>\u000a\u000a## What to Expect\u000a\u000a<strong>The course will run April 15 to May 3</strong>, and each week your team will receive weekly \u201cMissions\u201d from Mission Control over email. You\u2019ll work together on those projects, including a 30-minute Google Hangout each week. Each \u201cMission\u201d will lead up to your final project. For each skill you master in the course, you can earn a Badge to show your mastery and to get feedback to further your talents.\u000a\u000a<h2>The Topic</h2>\u000a\u000aThe topic of this first mission is Carbon Emissions. Don't worry if you don't know anything about them at the moment, you don't need to be a topic expert and the data skills you will learn will be very transferrable to other areas! \u000a\u000a<h2>The Level</h2> \u000a\u000aThis mission will cater for beginners to spreadsheets and working with data. If you're more advanced, you are also welcome to join us to hone your skills, and the only limit on what you can learn is your imagination - so if you're prepared to push yourselves on the project front the data-skills-bucket is your oyster! \u000a\u000a## About the Mechanical MOOC\u000a\u000aA massive open online course (MOOC), and an experiment in how people can learn online.\u000aRather than trying to create a platform that structures the end-to-end learning experience, as recent MOOCs have done, we\u2019re taking the best OKFN and Tactical Tech have to offer, and open content from the web, and joining them with a robot sherpa to coordinate learner activity and engagement and make sure you make it to the end.\u000a\u000aInstead of a professor or university organizing the class, our e-mail scheduler and your small groups will do so--that\u2019s why it\u2019s called "mechanical".
p579
sS'dateCreated'
p580
(ixmlrpclib
DateTime
p581
(dp582
g32
S'20130109T12:46:33'
p583
sbsS'wp_author_display_name'
p584
S'Michael Bauer'
p585
sS'link'
p586
S'http://schoolofdata.org/datamooc/'
p587
sS'page_status'
p588
S'publish'
p589
sS'categories'
p590
(lp591
sS'wp_page_template'
p592
S'default'
p593
sS'mt_allow_pings'
p594
I1
sS'date_created_gmt'
p595
(ixmlrpclib
DateTime
p596
(dp597
g32
S'20130109T12:46:33'
p598
sbssS'4179'
p599
(dp600
S'wp_author'
p601
S'Michael Bauer'
p602
sS'userid'
p603
S'2191'
p604
sS'excerpt'
p605
g8
sS'wp_page_parent_id'
p606
I2889
sS'mt_allow_comments'
p607
I1
sS'text_more'
p608
g8
sS'custom_fields'
p609
(lp610
(dp611
S'value'
p612
S'1217656522'
p613
sS'id'
p614
S'17059'
p615
sS'key'
p616
S'dsq_thread_id'
p617
sasS'wp_author_id'
p618
S'2191'
p619
sS'title'
p620
S'Geocoding Data in a Google Docs Spreadsheet'
p621
sS'wp_password'
p622
g8
sS'wp_page_parent_title'
p623
S'Recipes'
p624
sS'page_id'
p625
I4179
sS'wp_slug'
p626
S'geocoding'
p627
sS'wp_page_order'
p628
I0
sS'permaLink'
p629
S'http://schoolofdata.org/handbook/recipes/geocoding/'
p630
sS'description'
p631
V<div class="content">  <div class="section" id="geocoding-data-in-a-google-docs-spreadsheet">   <p>A very common need is to geocode data in a Google Spreadsheet (for example, in creating TimeMaps with the <a class="reference external" href="http://timeliner.okfnlabs.org/">Timeliner</a> project). There are several options here:</p> <p>By hand \u2013 use a Geocoding service (see the <a class="reference external" href="http://schoolofdata.org/handbook/courses/geocoding/">course</a> on geocoding) and then copy and paste by hand. Use the ImportXML (or ImportCSV) formulae to grab data from a geocoding service \u2013 great but with limitations on the number of rows you can code at one time (~50). Use a Google App Script \u2013 the most powerful but requires installation of an App Script in your spreadsheet. In this tutorial I\u2019m going to cover the latter two automated options and specifically focus on option 2.</p> <p>Using Formulas All of the following is illustrated live in this <a class="reference external" href="https://docs.google.com/a/okfn.org/spreadsheet/ccc?key=0AqR8dXc6Ji4JdHBhY25yQkpHWF9NcEt1d3hrU0JWcUE#gid=0">google spreadsheet</a>.</p> <p>We start with a formula like the following:</p> <div class="highlight-python"><pre>=ImportXML("http://open.mapquestapi.com/nominatim/v1/search?format=xml&amp;q=London", "//place[1]/@lat")</pre> </div> <p>This formula uses the ImportXML function to look up XML data from the <a class="reference external" href="http://open.mapquestapi.com/nominatim/">Mapquest Nominatim geocoding service</a> (see the previous tutorial for more about geocoding services). The first argument to ImportXML is the URL to fetch (in this case the results from querying the geocoding service) and the second part is an XPath expression to select data from that returned XML. In this case, the XPath looks up the first place object in the results: place[1] and then gets the lat (latitude) attribute. To understand this more clearly, here\u2019s the XML returned by that XML query:</p> <img alt="http://i.imgur.com/9ZCchXY.png" src="http://i.imgur.com/9ZCchXY.png"> <p>In reality we want both latitude and longitude, so let\u2019s change it to:</p> <div class="highlight-python"><pre>=ImportXML("http://open.mapquestapi.com/nominatim/v1/search?format=xml&amp;q=London", "//place[1]/@lat | //place[1]/@lon")</pre> </div> <p>This uses an \u201cor\u201d || expression in XPath and the result will now be an array of results that Google Docs will put in 2 cells (one below another). You can see this in Column C of the example spreadsheet.</p> <p>What happens if we wanted the data in just one cell, with the two values separated by commas, for example? We could use the JOIN function:</p> <div class="highlight-python"><pre>=JOIN(",", ImportXML("http://open.mapquestapi.com/nominatim/vi/search?format=xml&amp;q=London", "//place[1]/@lat | //place[1]/@lon"))</pre> </div> <p>Lastly, we\u2019d like to geocode based on a place name in an another cell in the spreadsheet. To do this we just need to add the place name to our API request to MapQuest\u2019s Nominatim service using the CONCATENATE function (this example assures the value is in cell A2):</p> <div class="highlight-python"><pre>=ImportXML(CONCATENATE("http://open.mapquestapi.com/nominatim/v1/search?format=xml&amp;q=", A2), "//place[1]/@lat")\u000a\u000a=JOIN(",", ImportXML(CONCATENATE("http://open.mapquestapi.com/nominatim/v1/search?format=xml&amp;q=",A2), "//place[1]/@lat | //place[1]/@lon"))</pre> </div> <div class="section" id="app-script"> <h2>App Script</h2> <p>If you want an even more powerful approach you can use a Google App Script. In particular, Development Seed\u2019s <a class="reference external" href="http://developmentseed.org/">MapBox</a> team have prepared a great ready-made Google AppScript that will do geocoding for you.</p> <p>Find the <a class="reference external" href="https://github.com/mapbox/geo-googledocs">script plus instructions</a> online.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p632
sS'dateCreated'
p633
(ixmlrpclib
DateTime
p634
(dp635
g32
S'20130417T12:55:48'
p636
sbsS'wp_author_display_name'
p637
S'Michael Bauer'
p638
sS'link'
p639
S'http://schoolofdata.org/handbook/recipes/geocoding/'
p640
sS'page_status'
p641
S'publish'
p642
sS'categories'
p643
(lp644
sS'wp_page_template'
p645
S'default'
p646
sS'mt_allow_pings'
p647
I0
sS'date_created_gmt'
p648
(ixmlrpclib
DateTime
p649
(dp650
g32
S'20130417T10:55:48'
p651
sbssS'3048'
p652
(dp653
S'wp_author'
p654
S'Lucy Chambers'
p655
sS'userid'
p656
S'239'
p657
sS'excerpt'
p658
g8
sS'wp_page_parent_id'
p659
I2889
sS'mt_allow_comments'
p660
I1
sS'text_more'
p661
g8
sS'custom_fields'
p662
(lp663
(dp664
S'value'
p665
S'1121375754'
p666
sS'id'
p667
S'7820'
p668
sS'key'
p669
S'dsq_thread_id'
p670
sasS'wp_author_id'
p671
S'239'
p672
sS'title'
p673
S'Walkthrough: Downloading Data from the World Bank'
p674
sS'wp_password'
p675
g8
sS'wp_page_parent_title'
p676
S'Recipes'
p677
sS'page_id'
p678
I3048
sS'wp_slug'
p679
S'getting-data-from-world-bank'
p680
sS'wp_page_order'
p681
I0
sS'permaLink'
p682
S'http://schoolofdata.org/handbook/recipes/getting-data-from-world-bank/'
p683
sS'description'
p684
V<div class="content">  <p>In Data Fundamental, we address the question of how healthcare spending affects life expectancy around the world. This is one of the answers we can find looking at data from the World Bank.</p> <div class="section" id="walkthrough-downloading-data-from-the-world-bank">   <ol class="arabic"> <li><p class="first">Open the World Bank data portal: it lives in <a class="reference external" href="http://data.WorldBank.org">http://data.WorldBank.org</a></p> </li> <li><p class="first">Select <tt class="docutils literal"><span class="pre">Data</span> <span class="pre">Catalog</span></tt> from the menu on the top.</p> <img alt="http://farm9.staticflickr.com/8180/8051105884_f23e200bae_o_d.jpg" src="http://farm9.staticflickr.com/8180/8051105884_f23e200bae_o_d.jpg"> </li> <li><p class="first">In the long list on the bottom find \u201cWorld Development Indicators\u201d</p> </li> <li><p class="first">Click on the blue <tt class="docutils literal"><span class="pre">databank</span></tt> button next to it.</p> <img alt="http://farm9.staticflickr.com/8454/8051105990_7a7467bf79_o_d.png" src="http://farm9.staticflickr.com/8454/8051105990_7a7467bf79_o_d.png"> </li> <li><p class="first">You\u2019ll find a very different site: The Databank - The databank is an interface to the World Bank database. You can select what data you want to see from which countries for what period of time.</p> </li> <li><p class="first">First select the countries. We\u2019re interested in all the countries click on <tt class="docutils literal"><span class="pre">select</span> <span class="pre">all</span></tt> in the country view and then on <tt class="docutils literal"><span class="pre">next</span></tt></p> <img alt="http://farm9.staticflickr.com/8181/8051106310_86ffe90bdc_b_d.jpg" src="http://farm9.staticflickr.com/8181/8051106310_86ffe90bdc_b_d.jpg"> </li> <li><p class="first">Now you\u2019ll see a long list of data series you can export. We\u2019ll need a few of them.</p> </li> <li><p class="first">First we are interested in healthcare expenditure so type \u201cHealth\u201d in the little search box on the top of the list and click <tt class="docutils literal"><span class="pre">Go</span></tt></p> </li> <li><p class="first">Select \u201cHealth expenditure, private (% GDP)\u201d, \u201cHealth expenditure, public (% GDP)\u201d and \u201cHealth expenditure, total (% GDP)\u201d. And click on <tt class="docutils literal"><span class="pre">Select</span></tt></p> <img alt="http://farm9.staticflickr.com/8033/8051099651_aeec6d8ec3_b_d.jpg" src="http://farm9.staticflickr.com/8033/8051099651_aeec6d8ec3_b_d.jpg"> </li> <li><p class="first">Since the expenditure is in % of GDP we\u2019ll need to get the GDP as well. Since we want to compare countries directly we\u2019ll need GDP in US$. To do this type GDP into the search box and find the entry \u201cGDP (current US$)\u201d</p> </li> <li><p class="first">If we want to see how healthcare expenditure affects the life expectancy we need to add life expectancy to the data.</p> </li> <li><p class="first">Now let\u2019s add one more thing: Population - like this we can calculate how much is spent by and on an average person. Search for \u201cPopulation\u201d and select \u201cPopulation, total\u201d.</p> </li> <li><p class="first">Bring GDP and Population to the top with the arrows on the side of the list, your selection should now look like this:</p> <img alt="http://farm9.staticflickr.com/8451/8051099565_9274f466e7_b_d.jpg" src="http://farm9.staticflickr.com/8451/8051099565_9274f466e7_b_d.jpg"> </li> <li><p class="first">Click on <tt class="docutils literal"><span class="pre">Next</span></tt> to select the years we are interested in.</p> </li> <li><p class="first">To keep things simple, select the years 2000-2012 (you can do multiple selections by either pressing <tt class="docutils literal"><span class="pre">ctrl</span></tt> or <tt class="docutils literal"><span class="pre">shift</span></tt>). And click <tt class="docutils literal"><span class="pre">next</span></tt>,</p> </li> <li><p class="first">You\u2019ll see an overview screen now on the top left there is a rough layout of how your downloaded file will look like. You\u2019ll see \u201ctime\u201d in the columns bit and \u201cseries\u201d in the rows bit - this influences how the spreadsheet will look like.</p> <img alt="http://farm9.staticflickr.com/8462/8051106168_62d3a4032a_o_d.png" src="http://farm9.staticflickr.com/8462/8051106168_62d3a4032a_o_d.png"> </li> <li><p class="first">While this might be great for some people: The data is a lot easier to handle if all of our \u201cseries\u201d are in columns and the years are different rows. So let\u2019s change this.</p> </li> <li><p class="first">Simply drag the \u201ctime\u201d from columns to \u201crows\u201d and the \u201cseries\u201d from rows to columns</p> </li> <li><p class="first">Your arranged organization diagram should look like this:</p> <img alt="http://farm9.staticflickr.com/8317/8051099813_f707789d17_o_d.png" src="http://farm9.staticflickr.com/8317/8051099813_f707789d17_o_d.png"> </li> <li><p class="first">Now let\u2019s go and <tt class="docutils literal"><span class="pre">Export</span></tt></p> </li> <li><p class="first">If you click on the <tt class="docutils literal"><span class="pre">Export</span></tt> button a pop up will appear asking you for the format. Select <tt class="docutils literal"><span class="pre">CSV</span></tt>.</p> </li> </ol> <p>#. You will then be able to download a file - store and name it in a folder so you remember where it comes from and what it is for. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p685
sS'dateCreated'
p686
(ixmlrpclib
DateTime
p687
(dp688
g32
S'20130209T14:15:07'
p689
sbsS'wp_author_display_name'
p690
S'Lucy Chambers'
p691
sS'link'
p692
S'http://schoolofdata.org/handbook/recipes/getting-data-from-world-bank/'
p693
sS'page_status'
p694
S'publish'
p695
sS'categories'
p696
(lp697
sS'wp_page_template'
p698
S'default'
p699
sS'mt_allow_pings'
p700
I0
sS'date_created_gmt'
p701
(ixmlrpclib
DateTime
p702
(dp703
g32
S'20130209T12:15:07'
p704
sbssS'5066'
p705
(dp706
S'wp_author'
p707
S'Michael Bauer'
p708
sS'userid'
p709
S'2191'
p710
sS'excerpt'
p711
g8
sS'wp_page_parent_id'
p712
I0
sS'mt_allow_comments'
p713
I1
sS'text_more'
p714
g8
sS'custom_fields'
p715
(lp716
(dp717
S'value'
p718
S'1398759829'
p719
sS'id'
p720
S'38335'
p721
sS'key'
p722
S'dsq_thread_id'
p723
sasS'wp_author_id'
p724
S'2191'
p725
sS'title'
p726
S'Get started as a Community Mentor at the School of Data'
p727
sS'wp_password'
p728
g8
sS'wp_page_parent_title'
p729
g8
sS'page_id'
p730
I5066
sS'wp_slug'
p731
S'get-started-as-a-community-mentor'
p732
sS'wp_page_order'
p733
I0
sS'permaLink'
p734
S'http://schoolofdata.org/get-started-as-a-community-mentor/'
p735
sS'description'
p736
S'Got data skills to share? Member of a community that wants to turn data into information? The School of Data needs you! We are currently broadening our efforts to spread data skills around the world - people like you are crucial in this effort: new learners need guidance and people to help them along the way. Stand out and become a community mentor!\n\nAs a community mentor you will:\n<ul>\n<li>Offer constructive feedback for learners on projects (often within your own language region)</li>\n<li>Help to answer questions by learners on forums/mailinglists (in your own language)</li>\n<li>Organize data expeditions and hands-on workshops</li>\n</ul>\n\nWe will connect you with other community mentors and coordinating organizations in your language group - this will help you find your path. You\'ll get training, help and support from the School of Data team, and good karma (priceless)!\n\n## Want to become a community mentor? Sign up below!\n\n<iframe src="https://docs.google.com/a/okfn.org/forms/d/1k4eTSMfGN-tul4XPWHl2wUbN3vr7JPbWdN9HW5AxBFw/viewform" width="650px" height="800px" frameBorder="0"></iframe>'
p737
sS'dateCreated'
p738
(ixmlrpclib
DateTime
p739
(dp740
g32
S'20130613T16:46:15'
p741
sbsS'wp_author_display_name'
p742
S'Michael Bauer'
p743
sS'link'
p744
S'http://schoolofdata.org/get-started-as-a-community-mentor/'
p745
sS'page_status'
p746
S'publish'
p747
sS'categories'
p748
(lp749
sS'wp_page_template'
p750
S'default'
p751
sS'mt_allow_pings'
p752
I1
sS'date_created_gmt'
p753
(ixmlrpclib
DateTime
p754
(dp755
g32
S'20130613T14:46:15'
p756
sbssS'3515'
p757
(dp758
S'wp_author'
p759
S'Sam Smith'
p760
sS'userid'
p761
S'1134'
p762
sS'excerpt'
p763
g8
sS'wp_page_parent_id'
p764
I0
sS'mt_allow_comments'
p765
I0
sS'text_more'
p766
g8
sS'custom_fields'
p767
(lp768
sS'wp_author_id'
p769
S'1134'
p770
sS'title'
p771
S'Courses 2'
p772
sS'wp_password'
p773
g8
sS'wp_page_parent_title'
p774
g8
sS'page_id'
p775
I3515
sS'wp_slug'
p776
S'courses-2'
p777
sS'wp_page_order'
p778
I0
sS'permaLink'
p779
S'http://schoolofdata.org/courses-2/'
p780
sS'description'
p781
V<p>Welcome to the School of Data courses. School of Data produces two types of material:</p>\u000a<div class="row" style="margin-top:15px; margin-bottom:10px;">\u000a<div class="span4">\u000a<div class="well">\u000a<strong>Courses:</strong> explain <em>why</em> something is important and help you to understand the basic decisions involved in picking particular tools or approaches and where it is worth investing your time.\u000a</div>\u000a</div>\u000a<div class="span4">\u000a<div class="well">\u000a<strong>Recipes:</strong> explain <em>how</em> to do something and may advocate using a particular tool or method to do so.\u000a</div>\u000a</div>\u000a</div>\u000a<p>Data might sound scary sometimes &ndash; don\u2019t worry, we\u2019re there to guide you through! If you have any questions about the material, simply drop us a line via the <a href="http://lists.okfn.org/mailman/listinfo/school-of-data" class="reference external">mailing list</a></p>\u000a<h2 id="data-fundamentals">Data Fundamentals</h2>\u000a<p>The Data Fundamental modules provide a solid overview over the workflow with data guiding you from what data is, to how to make your data tell a story. The courses listed below should be seen as a whole, a quick overview of the elements involved in working with data.</p>\u000a<ul class="thumbnails">\u000a              <li>\u000a                <a href="#" class="thumbnail sidelink">\u000a                  <div class="row">\u000a                  <div class="span2">\u000a                  <img alt="" src="http://farm9.staticflickr.com/8301/7871270682_d1da172951_q_d.jpg">\u000a          </div>        \u000a<div class="caption offset2">\u000a                    <h3>What is Data?</h3>\u000a                    <p>This course gives a short introduction in the world of data. If you are starting your journey into this wonderful land, this course is for you. The course covers basic concepts, different types of data and gives an introduction to machine readable data</p>\u000a                  </div>\u000a</div>\u000a                </a>\u000a              </li>\u000a              <li>\u000a                <a href="#" class="thumbnail sidelink">\u000a                  <div class="row">\u000a                  <div class="span2">\u000a                  <img alt="" src="http://farm9.staticflickr.com/8070/8261230486_cd9aa3ebd5_q_d.jpg">\u000a          </div>        \u000a<div class="caption offset2">\u000a                    <h3>Finding Data</h3>\u000a                    <p>Don\u2019t know where to start looking for data? This section gives an introduction to data portals and different data sources. Finally we will walk you through how to use one sample data portal.</p>\u000a                  </div>\u000a</div>\u000a                </a>\u000a              </li>\u000a</ul>\u000a<style>.thumbnails li > p {display:none;}</style>
p782
sS'dateCreated'
p783
(ixmlrpclib
DateTime
p784
(dp785
g32
S'20130311T18:02:58'
p786
sbsS'wp_author_display_name'
p787
S'Sam Smith'
p788
sS'link'
p789
S'http://schoolofdata.org/courses-2/'
p790
sS'page_status'
p791
S'publish'
p792
sS'categories'
p793
(lp794
sS'wp_page_template'
p795
S'default'
p796
sS'mt_allow_pings'
p797
I0
sS'date_created_gmt'
p798
(ixmlrpclib
DateTime
p799
(dp800
g32
S'20130311T18:02:58'
p801
sbssS'3326'
p802
(dp803
S'wp_author'
p804
S'Lucy Chambers'
p805
sS'userid'
p806
S'239'
p807
sS'excerpt'
p808
g8
sS'wp_page_parent_id'
p809
I0
sS'mt_allow_comments'
p810
I1
sS'text_more'
p811
g8
sS'custom_fields'
p812
(lp813
(dp814
S'value'
p815
S'1130126228'
p816
sS'id'
p817
S'8796'
p818
sS'key'
p819
S'dsq_thread_id'
p820
sasS'wp_author_id'
p821
S'239'
p822
sS'title'
p823
S'Who we are'
p824
sS'wp_password'
p825
g8
sS'wp_page_parent_title'
p826
g8
sS'page_id'
p827
I3326
sS'wp_slug'
p828
S'team'
p829
sS'wp_page_order'
p830
I0
sS'permaLink'
p831
S'http://schoolofdata.org/team/'
p832
sS'description'
p833
V<a class="toc-anchor" name="top-of-page"></a>\u000a\u000a# Open Knowledge Foundation \u000a\u000a## Michael Bauer \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8321/7937480904_6f29810da7.jpg" alt="" width="100" height="100" />\u000a\u000aMichael lives in Vienna and works as a Data Wrangler with the OKF mostly around the School of Data. After a detour in biomedical research, where he learned to love datawrangling, he spent some time doing advocacy for his passion: freedom in the digital age. He joined the Open Knowledge Foundation to satisfy his curiosity. He will gladly jump on any topic that you point him to.\u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Lucy Chambers \u000a\u000a<img class="alignright size-full wp-image-926" src="http://okfn.org/wp-content/uploads/2011/05/Gravatar-e1305648595811.jpg" alt="Lucy Chambers" width="100" height="100" />\u000a\u000aLucy is the Project Coordinator for the School of Data and OpenSpending projects at the Open Knowledge Foundation. \u000a\u000aLucy has been working with the OKFN on the <a href="http://openspending.org/">OpenSpending</a> project as a researcher and community coordinator. She has been particularly focussed on two topic areas: how technology can be used to promote transparency and accountability around government finances and how civil society organisations use (or could make use of) technology to help in finding, using and presenting government information. \u000a\u000aBesides OpenSpending, Lucy has been working to train journalists across the world on how to treat and work with data as a source, through in-person training and helping to produce the <a href="http://datajournalismhandbook.org/">Data Journalism Handbook</a>. She is looking forward to channeling this hands-on experience into courses that anyone can benefit from with School of Data. \u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Lisa Evans\u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8376/8448629980_619b71439b_t.jpg" alt="" width="100" height="100" />\u000a\u000aLisa is a software engineer and journalist. After helping to create [Where Does My Money Go](http://wheredoesmymoneygo.org/), she worked with the Guardian's [datablog](http://www.guardian.co.uk/news/datablog). She is now back with us and works on [OpenSpending](http://openspending.org/) and Spending Stories. She will be working with Anders Pedersen as a Data Sherpa on Data Expeditions related to Government Finance. \u000a\u000aYou can follow her on Twitter at [@objectgroup](https://twitter.com/objectgroup). \u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Tony Hirst\u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8086/8499024358_dcfcdb9d23_q.jpg" alt="" width="100" height="100" />\u000a\u000aTony Hirst works part time for the School of Data in shaping the materials, masterminding the blog and running workshops. He'll also be out and about on site visits to learn more about how organisations use data "in the wild" to help build on and shape the courses. \u000a\u000aWhen he's not with us, he's a Lecturer in the Department of Communication and Systems at The Open University, Visiting Senior Fellow in Networked Teaching and Learning at the University of Lincoln, and regular blogger at OUseful.info. \u000a\u000aWith a background in electronics and artificial intelligence, he has authored on OU courses ranging from robotics to information skills, and most recently a course on computer game design and appreciation. He is passionate about open and lifelong education, and is actively involved in developing course models to support informal as well as formal education. \u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Anders Pedersen \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8363/8448629976_71eb518932_t.jpg" alt="" width="100" height="100" />\u000a\u000aAnders Pedersen is Community coordinator at OpenSpending and currently based in The Hague. He will work with the School of Data team to lead expeditions in exploring government financial data. \u000a\u000aHe holds an MA in Political Science from University of Copenhagen (2010). As an independent journalist he has crunched numbers on issues like health care, lobbying, taxation and the financial crisis in EU. He has worked as analyst and media professional with both the International Criminal Court and the Organisation for the Prohibition of Chemical Weapons. As a civil servant he worked on community outreach among Somalis in Copenhagen. Through volunteer roles he has conducted trainings across East Africa and since 2010 assisted an initiative to establish a community FM radio station in Puntland, Somalia.  You can follow him on Twitter at [@anpe](https://twitter.com/anpe).\u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Rufus Pollock \u000a\u000a<img src="https://farm7.staticflickr.com/6019/6388507617_4e44c39086_o.jpg" alt="Rufus Pollock" align="right" />\u000a\u000aRufus lends oversight and strategic advice to the School of Data project. \u000a\u000aRufus is a Shuttleworth Foundation Fellow, an Associate of the Centre for Intellectual Property and Information Law at the University of Cambridge and a Director of the Open Knowledge Foundation which he co-founded in 2004. He has worked extensively as a scholar and developer on the social, legal and technological issues related to the creation and sharing of knowledge. More information can be found on his home page.\u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Liliana Bounegru \u000a\u000a<img src="http://lilianabounegru.org/wp-content/uploads/2009/10/LB-pic.jpg" alt="Liliana Bounegru" align="right" width="100px" />\u000a\u000aWhen Liliana is not working with us, she is leading data journalism activities at the European Journalism Centre. Her work at the EJC includes being the editor of <a href="http://datadrivenjournalism.net/">DataDrivenJournalism.net</a>, coordinating and co-editing <a href="http://www.datajournalismhandbook.org/">The Data Journalism Handbook</a>, coordinating the first edition of the Data Journalism Awards and running trainings and conferences, such as the <a href="http://http://www.pbs.org/idealab/2013/05/lessons-from-the-school-of-data-journalism125.html">School of Data Journalism</a>. Liliana is also a researcher at the University of Amsterdam, where she works on the <a href="https://wiki.digitalmethods.net/Dmi/SummerSchool2013">Digital Methods Initiative</a> and on the collaborative project <a href="http://www.emapsproject.com/blog/">EMAPS (Electronic Maps to Assist Public Science)</a>, led by French sociologist of science and anthropologist <a href="http://http://en.wikipedia.org/wiki/Bruno_Latour">Bruno Latour</a>. Liliana holds an MA in New Media and Digital Culture and a Research MA in Media Studies from the University of Amsterdam.\u000a\u000a* [Back to top](#top-of-page)\u000a\u000a\u000a# P2PU\u000a\u000a## Philipp Schmidt \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8239/8550249755_a7edd07187_q.jpg" alt="" width="100" height="100" />\u000a\u000aPhilipp is co-founder and executive director of P2PU and focuses on strategy for the School of Data project. Philipp is a Shuttleworth Foundation fellow and Ashoka fellow and currently based at the MIT Media Lab.\u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Vanessa Gennarelli \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8246/8550249781_53254a81df_q.jpg" alt="" width="100" height="100" />\u000a\u000aVanessa is the Learning Lead at Peer 2 Peer University, where she focuses on research, assessment and the user experience of the site. She is interested in creative learning experiences, interfaces for education and dashboards for learners. She is pursuing a Master\u2019s in Education & Technology at Harvard University and currently is a HASTAC Scholar at Duke University. You can reach her at vanessa [at] p2pu.org. \u000a\u000a* [Back to top](#top-of-page)\u000a\u000a# Tactical Technology Collective \u000a\u000a## Tom Longley \u000a\u000aAlways with a sense of humour, brilliant graphics and a mastery for making complex things simple, Tom Longley has put together both the <a href="http://schoolofdata.org/handbook/courses/data-cleaning/">Gentle Introduction to Data Cleaning</a> and the <a href="http://schoolofdata.org/handbook/courses/gentle-introduction-exploring-and-understanding-data/">Pivot Tables course</a>. \u000a\u000a* [Back to top](#top-of-page)\u000a\u000a\u000a# Community \u000a\u000aWe have a couple of really fantastic regular contributors from the Community to the School of Data. One day, we'll be able to showcase more from the community, but for now, we'll just list those who really help us out with regular contributions!\u000a\u000a## Neil Ashton \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8087/8547097359_bb7b2e25a1_q.jpg" alt="" width="100" height="100" />\u000a\u000aNeil Ashton is a computational linguist and writer who volunteers for School of Data by writing the weekly data news roundup for the blog.\u000a\u000aNeil's diverse interests include indigenous rights, functional programming, data visualization, and philology. He has done graduate research at Cornell University and the University of Alberta\u000a\u000a* [Back to top](#top-of-page)\u000a\u000a# Emeritus \u000a\u000a## Jen Lowe \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm8.staticflickr.com/7099/7400118290_033411a469_q.jpg" alt="" width="100" height="100" />\u000a\u000aJen worked as a Data Wrangler for the School of Data. She focused on courses in data visualisation and presentation and ran the School of Data blog. \u000a\u000a<a href="http://www.datatelling.com/">Jen's Homepage</a>. \u000a\u000a* [Back to top](#top-of-page)\u000a\u000a## Duarte Romero Valero \u000a\u000a<img class="alignright size-full wp-image-926" src="http://farm9.staticflickr.com/8520/8548214354_1c834b2886_q.jpg" alt="" width="100" height="100" />\u000a\u000aDuarte wrote the Data Roundups during an internship at School of Data. \u000a\u000aDuarte was born in Galicia (Spain) in 1988. He studied journalism at the <a href="http://www.usc.es/en/index.html">Univeristy of Santiago de Compostela</a> and then moved to England to course a MA in Online Journalism at <a href="http://bcu.ac.uk/">Birmingham City University</a>. He's interested in social media and data, the community manager at <a href="http://www.lickworx.com/">Lickworx</a> and also contributes to '<a href="http://www.birminghammail.co.uk/all-about/behind%20the%20numbers">Behind the numbers</a>', a datablog hosted by the Birmingham Mail. \u000a\u000a* [Back to top](#top-of-page)
p834
sS'dateCreated'
p835
(ixmlrpclib
DateTime
p836
(dp837
g32
S'20130311T08:41:18'
p838
sbsS'wp_author_display_name'
p839
S'Lucy Chambers'
p840
sS'link'
p841
S'http://schoolofdata.org/team/'
p842
sS'page_status'
p843
S'publish'
p844
sS'categories'
p845
(lp846
sS'wp_page_template'
p847
S'default'
p848
sS'mt_allow_pings'
p849
I1
sS'date_created_gmt'
p850
(ixmlrpclib
DateTime
p851
(dp852
g32
S'20130311T08:41:18'
p853
sbssS'3913'
p854
(dp855
S'wp_author'
p856
S'Michael Bauer'
p857
sS'userid'
p858
S'2191'
p859
sS'excerpt'
p860
g8
sS'wp_page_parent_id'
p861
I2873
sS'mt_allow_comments'
p862
I1
sS'text_more'
p863
g8
sS'custom_fields'
p864
(lp865
(dp866
S'value'
p867
S'1186444334'
p868
sS'id'
p869
S'13721'
p870
sS'key'
p871
S'dsq_thread_id'
p872
sasS'wp_author_id'
p873
S'2191'
p874
sS'title'
p875
S'Spending Stories'
p876
sS'wp_password'
p877
g8
sS'wp_page_parent_title'
p878
S'Courses'
p879
sS'page_id'
p880
I3913
sS'wp_slug'
p881
S'spending-stories'
p882
sS'wp_page_order'
p883
I0
sS'permaLink'
p884
S'http://schoolofdata.org/handbook/courses/spending-stories/'
p885
sS'description'
p886
S'<div class="content">  <div class="section" id="spending-stories">   <p>Join Friedrich Lindenberg and Lucy Chambers at the School of Data Journalism in Perugia. This workshop gives a quick overview of how to use Google Refine for exploring enormous databases of government financial transactions and its sister service, OpenCorporates, for linking up corporate information with spending information.</p> <iframe id="ijf" src="http://webtv.journalismfestival.com/v/1311" width="400" height="280" frameborder="0" scrolling="no" allowtransparency="true"></iframe><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p887
sS'dateCreated'
p888
(ixmlrpclib
DateTime
p889
(dp890
g32
S'20130404T12:05:48'
p891
sbsS'wp_author_display_name'
p892
S'Michael Bauer'
p893
sS'link'
p894
S'http://schoolofdata.org/handbook/courses/spending-stories/'
p895
sS'page_status'
p896
S'publish'
p897
sS'categories'
p898
(lp899
sS'wp_page_template'
p900
S'default'
p901
sS'mt_allow_pings'
p902
I0
sS'date_created_gmt'
p903
(ixmlrpclib
DateTime
p904
(dp905
g32
S'20130404T10:05:48'
p906
sbssS'3735'
p907
(dp908
S'wp_author'
p909
S'Michael Bauer'
p910
sS'userid'
p911
S'2191'
p912
sS'excerpt'
p913
g8
sS'wp_page_parent_id'
p914
I2889
sS'mt_allow_comments'
p915
I1
sS'text_more'
p916
g8
sS'custom_fields'
p917
(lp918
(dp919
S'value'
p920
S'1149033323'
p921
sS'id'
p922
S'10489'
p923
sS'key'
p924
S'dsq_thread_id'
p925
sasS'wp_author_id'
p926
S'2191'
p927
sS'title'
p928
S'Cleaning Data with Refine'
p929
sS'wp_password'
p930
g8
sS'wp_page_parent_title'
p931
S'Recipes'
p932
sS'page_id'
p933
I3735
sS'wp_slug'
p934
S'cleaning-data-with-refine'
p935
sS'wp_page_order'
p936
I0
sS'permaLink'
p937
S'http://schoolofdata.org/handbook/recipes/cleaning-data-with-refine/'
p938
sS'description'
p939
V<div class="content">  <div class="section" id="cleaning-data-with-refine">   <div class="section" id="what-youll-need"> <h2>What you\u2019ll need:</h2> <ol class="arabic simple"> <li>Refine - Download it from <a class="reference external" href="http://openrefine.org">openrefine.org</a></li> <li>The sample Dataset - Download it from <a class="reference external" href="http://africaopendata.org/dataset/provincial-hospitals-in-zimbabwe/resource/1f040811-cf90-49cc-81fc-9c9904a8b962">Africa Open Data</a></li> </ol> </div> <div class="section" id="step-1-creating-a-new-project"> <h2>Step 1: Creating a new Project</h2> <p>Open Refine (previously Google Refine) is a data cleaning software that uses your web browser as an interface. This means it will look like it runs on the internet but all your data remains on your machine and you do not need internet connection to work with it.</p> <p>The main aim of Refine is to help you exploring and cleaning your data before you use it further. It is built for large datasets - so don\u2019t worry as long as your spreadsheets can keep the information: Refine can as well.</p> <p>To work with your data in Refine you need to start a new project:</p> <p><strong>Walkthrough:</strong> Creating a Refine project</p> <ol class="arabic"> <li><p class="first">Start Refine - this will open a browser window pointing to <a class="reference external" href="http://127.0.0.1:3333">http://127.0.0.1:3333</a> if this doesn\u2019t happen open the link with your browser directly</p> </li> <li><p class="first">Create a new project: On the left tab select the \u201cCreate Project\u201d tab:</p> <img alt="http://farm9.staticflickr.com/8239/8570737075_eb911f2286_o_d.png" src="http://farm9.staticflickr.com/8239/8570737075_eb911f2286_o_d.png"> </li> <li><p class="first">Click on \u201cChoose Files\u201d to choose your downloaded file and click on \u201cnext\u201d - you can also use the URL to the CSV directly if your data is hosted on the web.</p> </li> <li><p class="first">You will get a preview on how refine will interpret your data - if you have selected a well formatted CSV or other file: this should be pretty automatic.</p> </li> <li><p class="first">Review the preview carefully to make sure the data looks right. Double check character encoding. Much, but not all data uses UTF-8 these days, but make sure you don\u2019t see any funny characters in preview.</p> </li> <li><p class="first">You may want to turn of \u201cguess data types\u201d, particularly if you have data that contains leading zeros in numbers or identifiers which are significant.</p> </li> <li><p class="first">Name your project in the box on the top right side and click on \u201cCreate Project\u201d</p> <img alt="http://farm9.staticflickr.com/8522/8571832026_0da804af80_o_d.png" src="http://farm9.staticflickr.com/8522/8571832026_0da804af80_o_d.png"> </li> <li><p class="first">The project will open in the project view, this is the basic interface you are going to work with: by default refine shows only 10 rows of data, you can change this on the bar above the data rows. Also you can use the navigation on the right to see the next or previous rows.</p> </li> </ol> <p>You now have successfully created your first Refine project. <strong>Remember:</strong> although it runs in a web-browser, the Refine server is still on your machine - all the data is there (so no worries if you handle sensitive information)</p> </div> <div class="section" id="step-2-sorting-and-facetting"> <h2>Step 2: Sorting and Facetting</h2> <p>Once we created our project, let\u2019s go and explore the data and the Refine interface a bit. Using Refine might be intimidating at first, since it seems so different from spreadsheets, once you get used to it you will notice how easily you can do things with it.</p> <p>One of the commonly used functions in spreadsheets is sorting and filtering data - to figure out minima, maxima or things about certain categories. Refine can do the same thing.</p> <p><strong>Walkthrough:</strong> Sorting rows</p> <ol class="arabic"> <li><p class="first">Refines handles data similar to a spreadsheet: you have rows, columns and cells - a cell is a field defined by a row and a column.</p> </li> <li><p class="first">To sort your rows based on a specific column click on the small downward triangle next to the column</p> <img alt="http://farm9.staticflickr.com/8252/8571832036_287c4760d9_o_d.png" src="http://farm9.staticflickr.com/8252/8571832036_287c4760d9_o_d.png"> </li> <li><p class="first">Select \u201cSort...\u201d to open the sorting dialog</p> <img alt="http://farm9.staticflickr.com/8088/8570737095_03af4015f9_o_d.png" src="http://farm9.staticflickr.com/8088/8570737095_03af4015f9_o_d.png"> </li> <li><p class="first">You can select what to sort the values as and then what order to sort in. (We\u2019ll sort in text, since for now we only have text columns)</p> </li> <li><p class="first">Click \u201cOK\u201d and your rows will be sorted based on the column</p> </li> <li><p class="first">To undo the sort, click on the column options again, select \u201csort\u201d then \u201cremove sort\u201d</p> <img alt="http://farm9.staticflickr.com/8511/8571832064_cf9711f92b_o_d.png" src="http://farm9.staticflickr.com/8511/8571832064_cf9711f92b_o_d.png"> </li> </ol> <p>The other frequently used function in Spreadsheets is filtering - in Refine this is called facetting. Facetting in Refine is really powerful - you will see in most of the rest of the Recipe we\u2019ll use facets.</p> </div> <div class="section" id="walkthrough-facetting-rows-based-on-a-column"> <h2>Walkthrough: Facetting rows based on a column</h2> <ol class="arabic"> <li><p class="first">Select the column options for the column you want to facet with</p> </li> <li><p class="first">Select \u201cFacet\u201d</p> <img alt="http://farm9.staticflickr.com/8096/8571832082_4a216b5a5f_o_d.png" src="http://farm9.staticflickr.com/8096/8571832082_4a216b5a5f_o_d.png"> </li> <li><p class="first">You can facet differently for text, numbers or dates - let\u2019s facet as text - click on \u201cText facet\u201d</p> </li> <li><p class="first">This will open a facet in the left bar</p> <img alt="http://farm9.staticflickr.com/8506/8571832100_b908ef0b39_o_d.png" src="http://farm9.staticflickr.com/8506/8571832100_b908ef0b39_o_d.png"> </li> <li><p class="first">Now select one or more of the choices and you\u2019ll see how your data rows are limited to just those selected.</p> </li> <li><p class="first">Of course you can add more than one facet and thus filter more than once.</p> </li> </ol> </div> <div class="section" id="step-3-dealing-with-blank-cells"> <h2>Step 3 Dealing with Blank Cells</h2> <p>If you look closely at your facets, you\u2019ll notice that on the bottom you have a selector saying \u201c(blank)\u201d for this - we\u2019ll need to deal with it.</p> <p><strong>Walkthrough:</strong> Filling in the (blank)s</p> <ol class="arabic"> <li><p class="first">Choose the \u201c(blank)\u201d facet in your \u201cOwner\u201d column</p> </li> <li><p class="first">If you look at some of the rows, you\u2019ll see that there was a mis-split of the columns and the owner actually ended up in the \u201cCategory\u201d Column</p> <img alt="http://farm9.staticflickr.com/8513/8571832112_681752c691_d.jpg" src="http://farm9.staticflickr.com/8513/8571832112_681752c691_d.jpg"> </li> <li><p class="first">To fill this into the \u201cOwner\u201d Field hover over the cell you want to fill in and click the \u201cedit\u201d button.</p> <img alt="http://farm9.staticflickr.com/8506/8570737157_b168621858_d.jpg" src="http://farm9.staticflickr.com/8506/8570737157_b168621858_d.jpg"> </li> <li><p class="first">If you click the \u201cEdit\u201d button you can add the Owner there - don\u2019t forget to also correct the \u201cCategory\u201d cell.</p> </li> <li><p class="first">You\u2019ll notice some rows seem to be erratic - they don\u2019t have a name that makes sense and no further information - you can flag these for deletion by clicking on the little flag.</p> </li> <li><p class="first">Do the same with the \u201cCategory\u201d Column - the Category is sometimes joined with the \u201cName\u201d column</p> </li> <li><p class="first">Now let\u2019s delete the flagged rows - make sure you are in row mode for this: for this click on \u201crow\u201d in the top left corner above the data.</p> <img alt="http://farm9.staticflickr.com/8109/8571832124_4c845be456_o_d.png" src="http://farm9.staticflickr.com/8109/8571832124_4c845be456_o_d.png"> </li> <li><p class="first">Open the column options for \u201cAll\u201d and select \u201cFacet\u201d - \u201cFacet by Flag\u201d</p> <img alt="http://farm9.staticflickr.com/8389/8571832162_3c14297c29_o_d.png" src="http://farm9.staticflickr.com/8389/8571832162_3c14297c29_o_d.png"> </li> <li><p class="first">Now you can select \u201ctrue\u201d in your flag facet on the left.</p> </li> <li><p class="first">Now let\u2019s delete the flagged rows: in the Column options for \u201cAll\u201d select \u201cEdit rows\u201d - \u201cRemove all matching rows\u201d</p> <img alt="http://farm9.staticflickr.com/8245/8570737233_cc60d75f2a_o_d.png" src="http://farm9.staticflickr.com/8245/8570737233_cc60d75f2a_o_d.png"> </li> </ol> </div> <div class="section" id="step-4-fighting-the-invisible-man"> <h2>Step 4: Fighting the Invisible Man</h2> <p>As illustrated in <a class="reference external" href="/handbook/courses/data-cleaning-invisible-man-in-spreadsheets/">The Invisible Man is in your Spreadsheets</a> having spaces or newlines in your datafields is a problem. Since this is a very common problem, Refine has specific functions to remove whitespaces that shouldn\u2019t be there.</p> <p><strong>Walkthrough:</strong> Removing hidden whitespaces</p> <ol class="arabic"> <li><p class="first">Let\u2019s start cleaning our Dataset with the Owner Column</p> </li> <li><p class="first">Create a Text Facet for the Owner Column as described above</p> </li> <li><p class="first">You will notice that there are several things odd in the column: It starts with a long list of similar looking entries - we\u2019ll deal with it later.</p> <img alt="http://farm9.staticflickr.com/8243/8571832166_b0c7ab333f_o_d.png" src="http://farm9.staticflickr.com/8243/8571832166_b0c7ab333f_o_d.png"> <p>Although they look similar to you, they are different for the computer - there is a different number of spaces between the quotes.</p> </li> <li><p class="first">Scroll down and you\u2019ll notice that some entries will be there twice - although they look similar. There are two entries for Municipality that look exactly the same. This is because they have whitespaces at the end.</p> </li> <li><p class="first">Refine can help you clean this up in an instant - open the column options for the \u201cOwner\u201d column</p> </li> <li><p class="first">Select \u201cEdit Cells\u201d - \u201cCommon Transforms\u201d - \u201cTrim leading and trailing whitespaces\u201d</p> <img alt="http://farm9.staticflickr.com/8239/8571832222_f3e9274f38_d.jpg" src="http://farm9.staticflickr.com/8239/8571832222_f3e9274f38_d.jpg"> </li> <li><p class="first">This will remove whitespaces in the beginning and at the end of your column</p> </li> <li><p class="first">Check Municipality and you\u2019ll note that there\u2019s only one choice now - perfect. Now let\u2019s deal with the list at the beginning.</p> </li> <li><p class="first">Select \u201cEdit Cells\u201d - \u201cCommon Transforms\u201d - \u201cCollapse consecutive Whitespaces\u201d</p> <img alt="http://farm9.staticflickr.com/8229/8571832284_a1c62c9124_o_d.png" src="http://farm9.staticflickr.com/8229/8571832284_a1c62c9124_o_d.png"> </li> <li><p class="first">You\u2019ll see the multiple choices have been reduced to two choices in an instant</p> <img alt="http://farm9.staticflickr.com/8391/8570737327_9df1d8f170_o_d.png" src="http://farm9.staticflickr.com/8391/8570737327_9df1d8f170_o_d.png"> </li> <li><p class="first">Now our list already looks a lot cleaner!</p> </li> <li><p class="first">Go ahead and apply the two transforms to all your columns.</p> </li> </ol> <p>Once you made your transforms you might wonder: What if I made a mistake? Also if you work with data you generally want to keep track of what you did to the data. Since Refine was build with data processing in mind it keeps track of what you\u2019re doing with your data and allows you to go back and forth in time. To see your history of changes click on the \u201cUndo/Redo\u201d tab on the left.</p> <img alt="http://farm9.staticflickr.com/8505/8571832292_ce9ec5b383_o_d.png" src="http://farm9.staticflickr.com/8505/8571832292_ce9ec5b383_o_d.png"> <p>You see all the changes you made - by simply clicking on one of the steps you\u2019ll be undoing all the changes after the step (don\u2019t worry you can redo pretty much the same way). Play with this system until you are comfortable.</p> </div> <div class="section" id="step-5-reconciling-categories"> <h2>Step 5. Reconciling categories</h2> <p>A quick look at our categories and you\u2019ll notice that not everything is well in Owner land - still some categories that should be the same are not. The same for the \u201cCategory\u201d column - let\u2019s reconcile them.</p> <p>Walkthrough: Reconciling Categories</p> <ol class="arabic"> <li><p class="first">Create a Facet for the column you want to reconcile (in our case this is \u201cOwner\u201d)</p> </li> <li><p class="first">The first step is to bring the categories to the same case - see for example \u201cTown Council\u201d and \u201cTown council\u201d - the difference is just one letter.</p> <img alt="http://farm9.staticflickr.com/8505/8571832298_5c1740f245_o_d.png" src="http://farm9.staticflickr.com/8505/8571832298_5c1740f245_o_d.png"> </li> <li><p class="first">Refine can help you to automatically find the categories that belong together - a feature it calls \u201cClustering\u201d. To activate clustering click on the \u201cCluster\u201d button in your facet.</p> <img alt="http://farm9.staticflickr.com/8236/8571832326_0b135a843d_o_d.png" src="http://farm9.staticflickr.com/8236/8571832326_0b135a843d_o_d.png"> </li> <li><p class="first">You will end up in the clustering menu - as you can see Refine is pretty smart about which things should belong together</p> <img alt="http://farm9.staticflickr.com/8092/8571832378_267be2d2f4_d.jpg" src="http://farm9.staticflickr.com/8092/8571832378_267be2d2f4_d.jpg"> </li> <li><p class="first">Check the \u201cmerge\u201d checkbox if you want the two categories to be the same. Once you marked all the categories you want to merge click on \u201cMerge selected &amp; Re-Cluster\u201d</p> </li> <li><p class="first">If Refine doesn\u2019t find more values to be similar change the \u201cKeying Function\u201d and see whether you can find more similar categories - if not: simply click close to continue.</p> </li> <li><p class="first">This reconciled some of your values - let\u2019s go on.</p> </li> <li><p class="first">Look at \u201cMission\u201d for example we have three different categories for what should be one - Refine did not automatically find them.</p> <img alt="http://farm9.staticflickr.com/8505/8570737425_67b19666b8_o_d.png" src="http://farm9.staticflickr.com/8505/8570737425_67b19666b8_o_d.png"> </li> <li><p class="first">Let\u2019s change them all to mission</p> </li> <li><p class="first">Hover over \u201cMission Hosp.\u201d notice the \u201cedit\u201d button at the end?</p> <img alt="http://farm9.staticflickr.com/8382/8570737433_dd0a7f77fa_o_d.png" src="http://farm9.staticflickr.com/8382/8570737433_dd0a7f77fa_o_d.png"> </li> <li><p class="first">Click on Edit - this will open the field for editing. Change the name to \u201cMission\u201d - this will change \u201cMission Hosp.\u201d to \u201cMission\u201d in all cells where it appears - continue on to change all the fields you can find.</p> </li> <li><p class="first">Repeat reconciling for \u201cCategory\u201d</p> </li> </ol> </div> <div class="section" id="step-6-splitting-columns"> <h2>Step 6: Splitting Columns</h2> <p>If you look at the \u201cName\u201d column in our dataset you\u2019ll notice that the names commonly start with a number (this is an enumeration of hospitals in a district - and is an artifact from extracting the data). Let\u2019s clean this up and split the number and the name.</p> <p><strong>Walkthrough:</strong> Splitting Columns</p> <ol class="arabic"> <li><p class="first">To Split a column select \u201cEdit Column\u201d \u201cSplit into several columns\u201d</p> <img alt="http://farm9.staticflickr.com/8096/8571832414_9d9a659a28_o_d.png" src="http://farm9.staticflickr.com/8096/8571832414_9d9a659a28_o_d.png"> </li> <li><p class="first">We want to split at a \u201c.\u201d since the number generally ends with a \u201c.\u201d</p> </li> <li><p class="first">Enter \u201c.\u201d into the Seperator for in the split menu - since we only want to have two new columns enter 2 into the field below so the sentence reads \u201cSplit into 2 columns at most\u201d</p> <img alt="http://farm9.staticflickr.com/8230/8570737475_4be57bbcab_d.jpg" src="http://farm9.staticflickr.com/8230/8570737475_4be57bbcab_d.jpg"> </li> <li><p class="first">Click on \u201cOK\u201d and you\u2019ll end up with two columns.</p> </li> <li><p class="first">On some of the rows the split will fail - to fix those, create a facet on the second column and select \u201c(blank)\u201d</p> </li> <li><p class="first">You can now manually fix the cells.</p> </li> </ol> <p><strong>Congratulations - You successfully cleaned up a dataset using Refine!</strong></p> <p>However there is even more you can do with Refine: For example did you notice how there is always a number next to the categories in the facet - telling you how many rows are in that category? By combining two facets, can you find out how many clinics the government owns? And who owns the Provincial Hospitals?</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p940
sS'dateCreated'
p941
(ixmlrpclib
DateTime
p942
(dp943
g32
S'20130319T14:39:07'
p944
sbsS'wp_author_display_name'
p945
S'Michael Bauer'
p946
sS'link'
p947
S'http://schoolofdata.org/handbook/recipes/cleaning-data-with-refine/'
p948
sS'page_status'
p949
S'publish'
p950
sS'categories'
p951
(lp952
sS'wp_page_template'
p953
S'default'
p954
sS'mt_allow_pings'
p955
I0
sS'date_created_gmt'
p956
(ixmlrpclib
DateTime
p957
(dp958
g32
S'20130319T12:39:07'
p959
sbssS'3044'
p960
(dp961
S'wp_author'
p962
S'Lucy Chambers'
p963
sS'userid'
p964
S'239'
p965
sS'excerpt'
p966
g8
sS'wp_page_parent_id'
p967
I2889
sS'mt_allow_comments'
p968
I1
sS'text_more'
p969
g8
sS'custom_fields'
p970
(lp971
(dp972
S'value'
p973
S'1122468380'
p974
sS'id'
p975
S'7945'
p976
sS'key'
p977
S'dsq_thread_id'
p978
sasS'wp_author_id'
p979
S'239'
p980
sS'title'
p981
S'Creating a Choropleth map'
p982
sS'wp_password'
p983
g8
sS'wp_page_parent_title'
p984
S'Recipes'
p985
sS'page_id'
p986
I3044
sS'wp_slug'
p987
S'choropleth-maps-from-spreadsheets'
p988
sS'wp_page_order'
p989
I0
sS'permaLink'
p990
S'http://schoolofdata.org/handbook/recipes/choropleth-maps-from-spreadsheets/'
p991
sS'description'
p992
V<div class="content">  <div class="section" id="creating-a-choropleth-map">   <p><strong>This tutorial uses Google spreadsheets to create a choropleth map. There is sample data for this tutorial `here`_ .</strong></p> <ol class="arabic"> <li><p class="first">Filter for a single year (e.q. 2009) insert a new sheet and copy the filtered data into it.</p> </li> <li><p class="first">As with all previous charts also here the columns need to be in a special position.</p> </li> <li><p class="first">Move your data column (the one you want to use to display) right next to the country names.</p> <img alt="http://farm9.staticflickr.com/8176/7982195441_15c8d45df8_o_d.png" src="http://farm9.staticflickr.com/8176/7982195441_15c8d45df8_o_d.png"> </li> <li><p class="first">Now mark the two columns and select \u201cChart...\u201d from \u201cinsert\u201d.</p> </li> <li><p class="first">Under \u201cCharts\u201d select \u201cMap\u201d and then \u201cgeo chart - regions\u201d.</p> </li> <li><p class="first">You\u2019ll see a preview. Play with the settings in customize to change the map, the colour-scale etc.</p> </li> </ol> <p>#. A note on colours: the red-green scale that is selected by default is not the best scale. So select a different one showing contrasts nicely. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p993
sS'dateCreated'
p994
(ixmlrpclib
DateTime
p995
(dp996
g32
S'20130209T14:14:21'
p997
sbsS'wp_author_display_name'
p998
S'Lucy Chambers'
p999
sS'link'
p1000
S'http://schoolofdata.org/handbook/recipes/choropleth-maps-from-spreadsheets/'
p1001
sS'page_status'
p1002
S'publish'
p1003
sS'categories'
p1004
(lp1005
sS'wp_page_template'
p1006
S'default'
p1007
sS'mt_allow_pings'
p1008
I0
sS'date_created_gmt'
p1009
(ixmlrpclib
DateTime
p1010
(dp1011
g32
S'20130209T12:14:21'
p1012
sbssS'3047'
p1013
(dp1014
S'wp_author'
p1015
S'Lucy Chambers'
p1016
sS'userid'
p1017
S'239'
p1018
sS'excerpt'
p1019
g8
sS'wp_page_parent_id'
p1020
I2889
sS'mt_allow_comments'
p1021
I1
sS'text_more'
p1022
g8
sS'custom_fields'
p1023
(lp1024
(dp1025
S'value'
p1026
S'1122730345'
p1027
sS'id'
p1028
S'7967'
p1029
sS'key'
p1030
S'dsq_thread_id'
p1031
sasS'wp_author_id'
p1032
S'239'
p1033
sS'title'
p1034
S'Spreadsheet Formulae'
p1035
sS'wp_password'
p1036
g8
sS'wp_page_parent_title'
p1037
S'Recipes'
p1038
sS'page_id'
p1039
I3047
sS'wp_slug'
p1040
S'formulae-with-spreadsheets'
p1041
sS'wp_page_order'
p1042
I0
sS'permaLink'
p1043
S'http://schoolofdata.org/handbook/recipes/formulae-with-spreadsheets/'
p1044
sS'description'
p1045
V<div class="content">  <div class="section" id="spreadsheet-formulae">   <p><strong>This tutorial uses Google spreadsheets to analyse data. Other spreadsheet programs work in a similar way - play around and see how they differ.</strong></p> <p>There is sample data for this tutorial here: <a class="reference external" href="http://bit.ly/Y11xkF">http://bit.ly/Y11xkF</a></p> <div class="section" id="a-quick-introduction-to-common-spreadsheet-symbols"> <h2>A quick introduction to common spreadsheet symbols</h2> <p>Now that you have a sense of how spreadsheet formula work, here\u2019s a quick introduction to some of the most common formula symbols that you are likely to come across.</p> <div class="section" id="the-symbols"> <h3>The symbols</h3> <p>These are all \u2018basic maths functions\u2019 - the kind of things you would find on a simple calculator.</p> <dl class="docutils"> <dt><tt class="docutils literal"><span class="pre">=</span></tt></dt> <dd>Tells your spreadsheet that you are writing a formula. This is the first thing that should go in your formula cell. (NOTE: A spreadsheet assumes that <em>everything</em> that begins with an \u2018=\u2019 is a formula... so be careful how you use it!)</dd> <dt><tt class="docutils literal"><span class="pre">+</span></tt></dt> <dd>Add</dd> <dt><tt class="docutils literal"><span class="pre">-</span></tt></dt> <dd>Subtract</dd> <dt><tt class="docutils literal"><span class="pre">*</span></tt></dt> <dd>Multiply (this would be \u2018x\u2019 on a calculator)</dd> <dt><tt class="docutils literal"><span class="pre">/</span></tt></dt> <dd>Divide (this would be \u2018\u2019 on a calculator)</dd> </dl> </div> <div class="section" id="tip-get-your-symbols-in-the-right-order"> <h3>Tip: Get your symbols in the right order</h3> <p>It is worth remembering that basic maths rules about the order of functions apply. For example, the formula  <tt class="docutils literal"><span class="pre">=3+5*2</span></tt> will give you <tt class="docutils literal"><span class="pre">13</span></tt>, NOT 16. If you\u2019re not sure why or can\u2019t quite remember the rules, check out <a class="reference external" href="http://www.mathsisfun.com/operation-order-bodmas.html">this basic introduction</a>. If you want to change the order of function you\u2019ll need parentheses: Formulas inside parentheses will be evaluated before any other formula. If you want the formula above to result in 16 you\u2019ll need to type: <tt class="docutils literal"><span class="pre">=(3+5)*2</span></tt></p> <p>Have a go at using these formula in the \u2018play sheet\u2019 of your spreadsheet until you feel comfortable with them. You should find that they work pretty much as you would expect them to.</p> <p>What if you wanted to add more numbers? You could always add them manually using <cite>+</cite> or you could use <cite>SUM</cite> a formula to sum up all the values in the given range. Let\u2019s try to calculate how many apples, plums and total fruit we sold during the week: Go to cell B7 and type <tt class="docutils literal"><span class="pre">=SUM(A2:A6)</span></tt> this will add the numbers of apples.</p> </div> <div class="section" id="walkthrough-using-spreadsheets-to-add-up-values"> <h3>Walkthrough: Using spreadsheets to add up values.</h3> <p>Let\u2019s calculate the total of fruits sold.</p> <blockquote> <div><ol class="arabic"> <li><p class="first">Get the <a class="reference external" href="https://docs.google.com/spreadsheet/ccc?key=0AlgwwPNEvkP7dFBxSFp1c096V19zNnI2TF9yLWVUMkE#gid=0">example data</a> and create a copy.</p> </li> <li><p class="first">To start, move to the first row.</p> </li> <li><p class="first">Each formula in a spreadsheet starts with <tt class="docutils literal"><span class="pre">=</span></tt></p> </li> <li><p class="first">Enter <tt class="docutils literal"><span class="pre">=</span></tt> and select the first cell you want to add. Notice how the cell reference appears in the formula?</p> <img alt="http://farm9.staticflickr.com/8179/8073780056_05b170a958_o_d.png" src="http://farm9.staticflickr.com/8179/8073780056_05b170a958_o_d.png"> </li> <li><p class="first">now type <tt class="docutils literal"><span class="pre">+</span></tt> and select the second cell you want to add</p> <img alt="http://farm9.staticflickr.com/8173/8073780166_59fb9bcaa0_o_d.png" src="http://farm9.staticflickr.com/8173/8073780166_59fb9bcaa0_o_d.png"> </li> <li><p class="first">Press <tt class="docutils literal"><span class="pre">Enter</span></tt> or <tt class="docutils literal"><span class="pre">tab</span></tt> .</p> </li> <li><p class="first">The formula disappears and is replaced by the value.</p> <img alt="http://farm9.staticflickr.com/8176/8073780244_836ef3f299_o_d.png" src="http://farm9.staticflickr.com/8176/8073780244_836ef3f299_o_d.png"> </li> <li><p class="first">Try changing the number in one of the original cells (apples or plums) you should see the value in total update automatically.</p> </li> <li><p class="first">You can type each formula individually, but it also possible to cut and paste or drag formulas across a range of cells.</p> </li> <li><p class="first">Copy the formula you have just written (using <tt class="docutils literal"><span class="pre">ctrl</span></tt> + <tt class="docutils literal"><span class="pre">c</span></tt> ) and paste it into the cell below (using <tt class="docutils literal"><span class="pre">ctrl</span></tt> + <tt class="docutils literal"><span class="pre">v</span></tt> ), you will get the sum of the two numbers on the row below.</p> </li> <li><p class="first">Alternatively click on the lower right corner of the cell (the blue square), and drag the formula down to the bottom of the column. Watch the <tt class="docutils literal"><span class="pre">\u2018total\u2019</span></tt> column update. Feels like magic!</p> </li> </ol> </div></blockquote> </div> <div class="section" id="walkthrough-using-a-spreadsheet-to-subtract-values"> <h3>Walkthrough: Using a spreadsheet to subtract values.</h3> <p>Take a look at the above example - it\u2019s exactly the same, apart from you use a <tt class="docutils literal"><span class="pre">-</span></tt> instead of a <tt class="docutils literal"><span class="pre">+</span></tt>. Easy! Find the difference between the two columns in the example above.</p> </div> <div class="section" id="walkthrough-multiplication-and-division"> <h3>Walkthrough: Multiplication and Division</h3> <blockquote> <div><p><strong>Math recap:</strong> If you have a percentage and the value it is associated with you can calculate the value of the percentage. e.q. let\u2019s say 25% of people in a town of 1000 inhabitants are below 15 years. You can calculate the number of inhabitants by using the following formula:</p> <p>number of inhabitants in a town x (25  100)</p> <p>In a spreadsheet - the above answer expressed simply by:</p> <p><tt class="docutils literal"><span class="pre">=25*1000/100</span></tt></p> <p>(For more thorough explanation of percentages check out <a class="reference external" href="http://www.bbc.co.uk/skillswise/topic/percentages">BBC Skillswise</a> )</p> <p><strong>Now for a more complicated example:</strong></p> <p>Let\u2019s go back to our World Bank dataset. If you haven\u2019t done the previous tutorials or lost the file: download it <a class="reference external" href="http://dump.tentacleriot.eu/wb-gdp-health-life.csv">here</a> .</p> <ol class="arabic simple"> <li>In our original data, we have three columns related to health expenditure; \u2018health expenditure (private)\u2019, \u2018health expenditure (public)\u2019 and \u2018health expenditure (total)\u2019. So we\u2019ll need to add three new columns to the right of the spreadsheet to do your calculations. Give them each a heading; perhaps \u2018health expenditure (private) in USD\u2019 etc.</li> <li>In the original data, public, private and total healthcare expenditure is expressed as a % of GDP. The GDP is already given in USD. To work out the expenditure in USD from these two facts is just one step. We want to calculate how much money (in USD) is spent on healthcare per country and year.</li> <li>Let\u2019s start by looking at the very first complete row (NB: spot the gap! we don\u2019t have the data for Afghanistan\u2019s GDP in 2000. Just be aware of this for now (we will talk in more detail about gaps in data later). The first complete row is Afghanistan in 2001.</li> <li>In 2001, Afghanistan\u2019s GDP was $2,461,666,315. Their private healthcare expenditure was 6.009337744 % of this. So the calculation you need to do is</li> </ol> <blockquote> <div><tt class="docutils literal"><span class="pre">2461666315</span> <span class="pre">*</span> <span class="pre">6.009337744</span> <span class="pre">/</span> <span class="pre">100</span></tt></div></blockquote> <ol class="arabic simple"> <li>With a spreadsheet formula, we don\u2019t have to worry about all the numbers - you just need to enter the cells. So the formula you are going to need is: <tt class="docutils literal"><span class="pre">=E3*H3/100</span></tt> (where cell E3 contains Afghanistan\u2019s GDP in 2001, and cell H3 contains private health expenditure in Afghanistan in 2001).</li> <li>Drag this formula all the way down the column and hey presto! You should have calculated the private health expenditure in USD for every country for the past 10 years. Much quicker than doing all the sums yourself!</li> </ol> <blockquote> <div></div></blockquote></div></blockquote> </div> </div> <div class="section" id="walkthrough-copying-formulae-sideways"> <h3>Walkthrough: Copying formulae sideways</h3> <blockquote> <div><p>In the same way as we could drag the formula down the column and the spreadsheet recognised the pattern and chose the correct cells, we can also drag the formula sideways to the new columns (public health expenditure in USD and total health expenditure in USD). So, if we want BUT we need to make one minor adjustment.</p> <p>Still using the World Bank Data, try just dragging a cell formula across. Can you see the problem? The spreadsheet automatically moves <em>all</em> the cells its looking at one column to the right. So whereas before we had:</p> <p><tt class="docutils literal"><span class="pre">=E3*H3/100</span></tt></p> <p>we now have</p> <p><tt class="docutils literal"><span class="pre">=F3*I3/100</span></tt></p> <p>...but GDP is still in column E, so this formula is not the one we want.</p> <p>To \u2018fix\u2019 a column or row, all you need to do is add \u2018$\u2019 in front of the section you want to fix. So, if you adapt your original formula to...</p> <p><tt class="docutils literal"><span class="pre">=$E3*H3/100</span></tt></p> <p>...you should be able to drag it over to the right without any problems.</p> <dl class="docutils"> <dt><strong>Tip:</strong></dt> <dd>It can be a little confusing getting used to the <tt class="docutils literal"><span class="pre">$</span></tt> command at first. If this is the first time you\u2019ve come across it, we suggest you spend some time playing around and seeing what it can do. Go back to your \u2018play\u2019 spreadsheet, make up some numbers, and experiment! Try for example <tt class="docutils literal"><span class="pre">=$B2*C2</span></tt> vs <tt class="docutils literal"><span class="pre">=B$2*C2</span></tt>, drag it around, and see what difference that makes. The best way to get comfortable with formulae is to use them!</dd> </dl> <p>So now, with one simple formula, you can calculate the actual expenditure of public, private and public+private healthcare, in every country, for the past ten years. Spreadsheets are pretty powerful things.</p> </div></blockquote> </div> <div class="section" id="walkthrough-minimum-and-maximum-values"> <h3>Walkthrough: Minimum and Maximum Values</h3> <p>One thing that is very interesting to us when working with data is the maximum and minimum values of each of the columns we have. This will help us understand if the values are close together or far apart. Let\u2019s do this!</p> <blockquote> <div><ol class="arabic"> <li><p class="first">Open a new sheet. Do so by clicking the \u201c+\u201d in the lower left corner</p> <img alt="http://farm9.staticflickr.com/8322/8074120798_3d93affac2_o_d.png" src="http://farm9.staticflickr.com/8322/8074120798_3d93affac2_o_d.png"> </li> <li><p class="first">Leave the first column in the first row blank, in the second column enter <tt class="docutils literal"><span class="pre">=</span></tt> to tell the spreadsheet you will be using a formula.</p> </li> <li><p class="first">Switch back to the sheet with your World Bank dataset.</p> </li> <li><p class="first">Select the first column that has numerical data on the sheet where your data lives.</p> <img alt="http://farm9.staticflickr.com/8041/8074136559_b4bff47e8d_o_d.png" src="http://farm9.staticflickr.com/8041/8074136559_b4bff47e8d_o_d.png"> </li> <li><p class="first">Press enter and you will see the name in the first sheet: magic. Why do we do it like this and not simply copy and paste? This will automatically change the headings if you change your headings (e.q. you move columns around or rename things).</p> </li> <li><p class="first">Now the first column is going to be what you calculate: type Minimum in the second row first column (A2) for the minimum value.</p> </li> <li><p class="first">In the cell right next to it type <tt class="docutils literal"><span class="pre">=MIN(</span></tt> (MIN is the formula for minimum)</p> <img alt="http://farm9.staticflickr.com/8173/8074138256_a28c26e012_o_d.png" src="http://farm9.staticflickr.com/8173/8074138256_a28c26e012_o_d.png"> </li> <li><p class="first">Go back to the other sheet to select the first column with numerical data - to select the whole column click on the grey area with the column letter.</p> <img alt="http://farm9.staticflickr.com/8038/8074152513_ec168d9411_o_d.png" src="http://farm9.staticflickr.com/8038/8074152513_ec168d9411_o_d.png"> </li> <li><p class="first">Close the brackets by typing <tt class="docutils literal"><span class="pre">)</span></tt>.</p> </li> <li><p class="first">You should now see the minimum value in that field.</p> </li> <li><p class="first">Now do the same for Maximum in the third row. Once you are done, just mark the three values in the second row (the formula for maximum is =max() )</p> </li> <li><p class="first">See the blue square in the right lower corner? Grab it and pull it right. Release it and if you still not have all columns, carry on until you have all values.</p> </li> <li><p class="first">This way you created a table with the minima and maxima of each of the columns.</p> </li> </ol> </div></blockquote> </div> <div class="section" id="walkthrough-dealing-with-empty-cells"> <h3>Walkthrough: Dealing with empty cells</h3> <p>Did you notice some of the minimum values are 0? Do you really believe there are countries not spending money on healthcare? There aren\u2019t (well, probably). The zeroes are because there are empty cells. Properly handling missing values is an important step in data cleaning and analysis - hardly ever are large datasets complete and you have to find a strategy to deal with missing parts.</p> <blockquote> <div><p>In this walkthrough we will create a complex formula. We will do so with an iterative process  - this means one little formula at the time. If you follow us through you\u2019ll notice you can create quite complex formulas and results simply step by step.</p> <ol class="arabic"> <li><p class="first">To deal with empty cells we have to fix parts of our calculation formulas in the World Bank datasheet</p> </li> <li><p class="first">To start - create a mock spreadsheet to play with data. Copy the first few rows of the World Bank dataset into it so you\u2019ll have a start. To validate our formulas try to remove values in some of the rows.</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8189/8076432091_46b551a5fe_b_d.jpg" src="http://farm9.staticflickr.com/8189/8076432091_46b551a5fe_b_d.jpg"> </div> </li> <li><p class="first">We got a missing problem right in the first value: Afghanistan\u2019s GDP is missing for the year 2000.</p> </li> <li><p class="first">Think about our goal. What we want to achieve: if either of the values we are multiplying (in this case, GDP or health expenditure) is <strong>not</strong> a number (probably because the value is missing), we don\u2019t want to display the total.</p> </li> <li><p class="first">To put it another way: <strong>only if</strong> a value for both GDP and healthcare expenditure is present should the spreadsheet carry out the calculation; <strong>otherwise</strong> it should leave the cell blank.</p> </li> <li><p class="first">The formula to express this condition is \u2018IF\u2019. (You can find an overview on formulas like this on the <a class="reference external" href="https://support.google.com/docs/bin/static.py?hl=en&amp;topic=25273&amp;page=table.cs">google doc help</a>.)</p> </li> <li><p class="first">The formula asks us to fill out the three things: (1) Condition, (2) value if the condition is true, (3) value if the condition is false.</p> <p><tt class="docutils literal"><span class="pre">=IF(Condition,</span> <span class="pre">Value</span> <span class="pre">if</span> <span class="pre">condition</span> <span class="pre">is</span> <span class="pre">true,</span> <span class="pre">Value</span> <span class="pre">if</span> <span class="pre">condition</span> <span class="pre">is</span> <span class="pre">false)</span></tt></p> </li> <li><p class="first">In our case we know parts (2) and (3). (2) is the formula we used above  this is the calculation we want to carry out if both values are present in the spreadsheet.</p> <p><tt class="docutils literal"><span class="pre">=IF(Condition,</span> <span class="pre">$E3*H3/100,</span> <span class="pre">Value</span> <span class="pre">if</span> <span class="pre">condition</span> <span class="pre">is</span> <span class="pre">false)</span></tt></p> </li> <li><p class="first"><cite>(3)</cite> is a blank - if the numbers aren\u2019t there, we don\u2019t want to display anything, so we fill in that value with nothing at all.</p> <p><tt class="docutils literal"><span class="pre">=IF(Condition,</span> <span class="pre">$E3*H3/100,)</span></tt></p> </li> <li><p class="first">So now we just need to work out (1), the condition.</p> <p><tt class="docutils literal"><span class="pre">=IF(Condition,</span> <span class="pre">$E3*G3/100,)</span></tt></p> </li> <li><p class="first">Remember that we want the condition to be that BOTH the GDP and healthcare expenditure values are a number. The formula to see whether a cell is a number is: <tt class="docutils literal"><span class="pre">ISNUMBER</span></tt>.</p> </li> <li><p class="first">This is another one of those little formulas that you should try playing with! If you type <tt class="docutils literal"><span class="pre">=ISNUMBER(F2)</span></tt> and <tt class="docutils literal"><span class="pre">F2</span></tt> is an empty field, it will say <tt class="docutils literal"><span class="pre">FALSE</span></tt>. If there is a number it will say <tt class="docutils literal"><span class="pre">TRUE</span></tt>. Handy isn\u2019t it?</p> <img alt="http://farm9.staticflickr.com/8326/8076431832_5de5ce1dd2_o_d.png" src="http://farm9.staticflickr.com/8326/8076431832_5de5ce1dd2_o_d.png"> </li> <li><p class="first">We want a formula that will only be calculated if both GDP <em>and</em> healthcare expenditure are actual numbers.</p> </li> <li><p class="first">We need to combine the results of both <tt class="docutils literal"><span class="pre">ISNUMBER(GDP)</span></tt> and <tt class="docutils literal"><span class="pre">ISNUMBER(healthcare</span> <span class="pre">expenditure)</span></tt> together. The formula to do so is AND. This will simply say <tt class="docutils literal"><span class="pre">TRUE</span></tt> if both of them are <tt class="docutils literal"><span class="pre">TRUE</span></tt> (i.e. both of them numbers) or <tt class="docutils literal"><span class="pre">FALSE</span></tt> if either one or both of them is <tt class="docutils literal"><span class="pre">FALSE</span></tt>.</p> <img alt="http://farm9.staticflickr.com/8332/8076444273_f554a395cc_o_d.png" src="http://farm9.staticflickr.com/8332/8076444273_f554a395cc_o_d.png"> </li> <li><p class="first">Which is exactly what we need. So our condition will be:</p> <p><tt class="docutils literal"><span class="pre">AND(ISNUMBER(gdp),ISNUMBER(healthcare</span> <span class="pre">expenditure))</span></tt></p> </li> <li><p class="first">or, to use our cells from before</p> <p><tt class="docutils literal"><span class="pre">AND(ISNUMBER($E3),ISNUMBER(H3))</span></tt></p> <img alt="http://farm9.staticflickr.com/8186/8076443230_8ef7b909e6_b_d.jpg" src="http://farm9.staticflickr.com/8186/8076443230_8ef7b909e6_b_d.jpg"> </li> <li><p class="first">Phew! So now we can put parts (1), (2) and (3) from above all together in one big formula, using \u2018IF\u2019</p> <p><tt class="docutils literal"><span class="pre">=IF(Condition,</span> <span class="pre">$E2*H2/100,)</span></tt></p> <p><tt class="docutils literal"><span class="pre">=IF(AND(ISNUMBER($E2),ISNUMBER(H2)),$E2*H2/100,)</span></tt></p> </li> <li><p class="first">Try it out: enter it to the first row of the first column of the calculation and paste it to all the other places. It should leave the cells empty.</p> <img alt="http://farm9.staticflickr.com/8185/8076469857_3c5153582f_b_d.jpg" src="http://farm9.staticflickr.com/8185/8076469857_3c5153582f_b_d.jpg"> </li> </ol> </div></blockquote> <p>If you look at the data you will quickly find out that countries with higher number of people spend more on healthcare than countries with lower number of people. Intuitive isn\u2019t it. So how to compare the countries more directly? Break it down to healthcare expenditure per person!. This step is called normalization and is a step often done when comparing different entities - such as countries etc. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div> <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1046
sS'dateCreated'
p1047
(ixmlrpclib
DateTime
p1048
(dp1049
g32
S'20130209T14:15:00'
p1050
sbsS'wp_author_display_name'
p1051
S'Lucy Chambers'
p1052
sS'link'
p1053
S'http://schoolofdata.org/handbook/recipes/formulae-with-spreadsheets/'
p1054
sS'page_status'
p1055
S'publish'
p1056
sS'categories'
p1057
(lp1058
sS'wp_page_template'
p1059
S'default'
p1060
sS'mt_allow_pings'
p1061
I0
sS'date_created_gmt'
p1062
(ixmlrpclib
DateTime
p1063
(dp1064
g32
S'20130209T12:15:00'
p1065
sbssS'3046'
p1066
(dp1067
S'wp_author'
p1068
S'Lucy Chambers'
p1069
sS'userid'
p1070
S'239'
p1071
sS'excerpt'
p1072
g8
sS'wp_page_parent_id'
p1073
I2889
sS'mt_allow_comments'
p1074
I1
sS'text_more'
p1075
g8
sS'custom_fields'
p1076
(lp1077
(dp1078
S'value'
p1079
S'1122985222'
p1080
sS'id'
p1081
S'8012'
p1082
sS'key'
p1083
S'dsq_thread_id'
p1084
sasS'wp_author_id'
p1085
S'239'
p1086
sS'title'
p1087
S'Filtering Data'
p1088
sS'wp_password'
p1089
g8
sS'wp_page_parent_title'
p1090
S'Recipes'
p1091
sS'page_id'
p1092
I3046
sS'wp_slug'
p1093
S'filtering-data-with-spreadsheets'
p1094
sS'wp_page_order'
p1095
I0
sS'permaLink'
p1096
S'http://schoolofdata.org/handbook/recipes/filtering-data-with-spreadsheets/'
p1097
sS'description'
p1098
V<div class="content">  <div class="section" id="filtering-data">   <p><strong>This tutorial uses Google spreadsheets to filter data. Other spreadsheet programs work in a similar way - play around and see how they differ.</strong></p> <p>There is sample data for this tutorial <a class="reference external" href="http://dump.tentacleriot.eu/wb-gdp-health-life.csv">here</a>.</p> <p>Filtering data in a spreadsheet allows you to shut out the values you don\u2019t want to see. For example, in the sample data, some \u201cCountry Names\u201d are actually not countries? You\u2019ll find things like \u201cWorld\u201d, \u201cNorth America\u201d and \u201cArab World\u201d. Let\u2019s filter them out.</p> <div class="section" id="walkthrough-filtering-data"> <h2>Walkthrough: Filtering Data</h2> <ol class="arabic"> <li><p class="first">Select the whole table.</p> </li> <li><p class="first">Select \u201cFilter\u201d from the \u201cData\u201d menu.</p> </li> <li><p class="first">You now should see triangles next to the column names in the first row.</p> </li> <li><p class="first">Click on the triangle next to country name.</p> </li> <li><p class="first">you should see a long list of country names in the box.</p> <img alt="http://farm9.staticflickr.com/8316/8070573150_2cf29b914f_o_d.png" src="http://farm9.staticflickr.com/8316/8070573150_2cf29b914f_o_d.png"> </li> <li><p class="first">Find those that are not a country and click on them (the green check mark will disappear).</p> </li> <li><p class="first">Now you have successfully filtered your dataset.</p> </li> <li><p class="first">Go ahead and play with it - the data will not be deleted, it\u2019s just not displayed... raw:: html</p> </li> </ol> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1099
sS'dateCreated'
p1100
(ixmlrpclib
DateTime
p1101
(dp1102
g32
S'20130209T14:14:51'
p1103
sbsS'wp_author_display_name'
p1104
S'Lucy Chambers'
p1105
sS'link'
p1106
S'http://schoolofdata.org/handbook/recipes/filtering-data-with-spreadsheets/'
p1107
sS'page_status'
p1108
S'publish'
p1109
sS'categories'
p1110
(lp1111
sS'wp_page_template'
p1112
S'default'
p1113
sS'mt_allow_pings'
p1114
I0
sS'date_created_gmt'
p1115
(ixmlrpclib
DateTime
p1116
(dp1117
g32
S'20130209T12:14:51'
p1118
sbssS'2882'
p1119
(dp1120
S'wp_author'
p1121
S'Michael Bauer'
p1122
sS'userid'
p1123
S'2191'
p1124
sS'excerpt'
p1125
g8
sS'wp_page_parent_id'
p1126
I2873
sS'mt_allow_comments'
p1127
I1
sS'text_more'
p1128
g8
sS'custom_fields'
p1129
(lp1130
(dp1131
S'value'
p1132
S'1166734963'
p1133
sS'id'
p1134
S'11993'
p1135
sS'key'
p1136
S'dsq_thread_id'
p1137
sasS'wp_author_id'
p1138
S'2191'
p1139
sS'title'
p1140
S'Extracting Data from PDFs'
p1141
sS'wp_password'
p1142
g8
sS'wp_page_parent_title'
p1143
S'Courses'
p1144
sS'page_id'
p1145
I2882
sS'wp_slug'
p1146
S'extracting-data-from-pdf'
p1147
sS'wp_page_order'
p1148
I0
sS'permaLink'
p1149
S'http://schoolofdata.org/handbook/courses/extracting-data-from-pdf/'
p1150
sS'description'
p1151
V<div class="content">  <div class="section" id="extracting-data-from-pdfs">   <p>It\u2019s happened to all of us, we want some nice, fresh data that we can sort, analyse and visualise and instead, we get a PDF. What a disappointment.</p> <p>This course will guide you through the main decisions involved in getting data out of PDFs into a format that you can easily use in data projects.</p> <iframe src="http://dump.tentacleriot.eu/extracting-data-from-pdf/index.html" style="width: 650px; height: 500px; border: 0px;" scrolling="no"></iframe><p>Navigate the slideshow with the arrow keys.</p> <p>When cut and paste fail, you\u2019ll sometimes need to resort to more powerful means. Below is a little more information on the two of the trickiest paths highlighted by the flowchart above.</p> </div> <div class="section" id="note-bad-pdfs-and-worse-pdfs">   <p>PDFs are not all the same, some are generated from computer programs (best case scenario) but frequently, they are scanned copies of images. Worst case scenario, they are smudged, tea stained, crooked scans of images. In the latter case - your job will be considerably harder. Nevertheless, there are a couple of tips you can take to make your job easier, read on!</p> <p>(Modified from text contributed by Tim McNamara)</p> </div> <div class="section" id="path-1-ocr">   <div class="section" id="the-ocr-pipeline"> <h2>The OCR Pipeline</h2> <p>Creating a system for Optical Character Recognition (OCR) can be challenging. In most circumstances, the <a class="reference external" href="http://www.datasciencetoolkit.org/">Data Science Toolkit</a> will be able to extract text from files that you are looking for.</p> <p>OCR largely involves creating a conveyor belt of programming tools (but read on and you will discover a couple which don\u2019t) The whole process can include several steps:</p> <blockquote> <div><ul class="simple"> <li>Cleaning the content</li> <li>Understanding the layout</li> <li>Extracting text fragments from pieces of each page, according to the layout of each page</li> <li>Reassembling text fragments into a usable form</li> </ul> </div></blockquote> <div class="section" id="cleaning-the-pages"> <h3>Cleaning the pages</h3> <p>This generally involves removing dark splotches left by scanners, straightening pages and adding contrast between the background and the printed text. One of the best free tools for this is <a class="reference external" href="http://unpaper.berlios.de/">unpaper</a>.</p> </div> <div class="section" id="file-type-conversion"> <h3>File type conversion</h3> <p>One thing to note is that many OCR engines only support a small number of input file types. Typically, you will need to convert your images to portable pixmap format (.ppm) files.</p> <p>In this section, we\u2019ll highlight a few of the options for extracting data or text out of a PDF. We don\u2019t want to reinvent the wheel, with all of these options, you\u2019ll need to read the manuals for the individual piece of software - we aim here to merely serve as a guide to help you choose your weapon!</p> <p>Without learning to code, the options on this front are unfortunately somewhat limited. Take a look at the following pieces of software:</p> <ul class="simple"> <li><a class="reference external" href="http://tabula.nerdpower.org/">Tabula</a> - currently causing a lot of buzz and excitement, but you currently need to install your own version, which makes the barrier to entry quite high.</li> <li><a class="reference external" href="http://finereader.abbyy.com/">ABBYY Finereader</a> - unfortunately not free but highly regarded by many as a powerful piece of kit for busting data out of its PDF prisons.</li> <li><a class="reference external" href="http://www.cometdocs.com/">CometDocs</a> - an internet based service</li> </ul> <p>Warning - the tools below require you to open your <a class="reference external" href="http://en.wikipedia.org/wiki/Command-line_interface">command line</a> to install and run. And some require knowledge of code to use. We mention them here so that you get an idea of what is possible.</p> <p>The main contenders in the code-based ones are:</p> <ul class="simple"> <li><a class="reference external" href="https://code.google.com/p/tesseract-ocr/wiki/ReadMe">Tesseract OCR</a></li> <li><a class="reference external" href="https://code.google.com/p/ocropus/">Ocropus</a></li> <li><a class="reference external" href="http://www.gnu.org/software/ocrad/">GNU Ocrad</a></li> <li><a class="reference external" href="http://pdf2htmlex.blogspot.de/">PDF2HTML</a></li> </ul> </div> </div> </div> <div class="section" id="path-2-transcription-and-microtasking">   <p>Besides the projects mentioned in the presentation, there are a few other options.</p> <p>The open source project, <a class="reference external" href="https://bitbucket.org/waj/taskmeup">TaskMeUp</a> is designed to allow you to distribute jobs between hundreds of participants. If you have a project that could benefit from being reviewed by human eyes, this may be an option for you.</p> <p>Alternatively, there are a small number of commercial firms providing this service. The most well known is Amazon\u2019s Mechanical Turk. They providing something of a wholesale service. You may be better off using a service such as <a class="reference external" href="http://crowdflower.com/">Cloudflower</a> or <a class="reference external" href="http://www.microtask.com/">Microtask</a>. Microtask also has the ethical advantage of not providing service below the minimum wage. Instead, they team up with video game sellers to provide in-game rewards.</p> <div class="section" id="challenge-free-the-budgets"> <h2>Challenge: Free the Budgets</h2> <div class="well"><p><strong>Task:</strong>   Find yourselves some PDFs to bust!</p> <blockquote> <div>For example, there are many PDFs which need your help in the <a class="reference external" href="https://docs.google.com/folder/d/0ByA9wmvBrAnZN3ZrdzNzcS1JZzg/edit?pli=1">Budget Library of the International Budget Partnership</a></div></blockquote> <blockquote> <div>Remember - once you\u2019ve liberated your data, share it and save someone else the job! Why not upload to <a class="reference external" href="http://datahub.io/dataset?groups=openspending&amp;q=openspending">the OpenSpending group on the datahub</a> and drop the <a class="reference external" href="http://lists.okfn.org/mailman/listinfo/openspending">OpenSpending Mailing List</a> a line to say you have done so, people are always looking for raw data to visualise and explain.</div></blockquote> </div><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1152
sS'dateCreated'
p1153
(ixmlrpclib
DateTime
p1154
(dp1155
g32
S'20130202T23:10:26'
p1156
sbsS'wp_author_display_name'
p1157
S'Michael Bauer'
p1158
sS'link'
p1159
S'http://schoolofdata.org/handbook/courses/extracting-data-from-pdf/'
p1160
sS'page_status'
p1161
S'publish'
p1162
sS'categories'
p1163
(lp1164
sS'wp_page_template'
p1165
S'default'
p1166
sS'mt_allow_pings'
p1167
I0
sS'date_created_gmt'
p1168
(ixmlrpclib
DateTime
p1169
(dp1170
g32
S'20130202T21:10:26'
p1171
sbssS'4283'
p1172
(dp1173
S'wp_author'
p1174
S'Michael Bauer'
p1175
sS'userid'
p1176
S'2191'
p1177
sS'excerpt'
p1178
g8
sS'wp_page_parent_id'
p1179
I2873
sS'mt_allow_comments'
p1180
I1
sS'text_more'
p1181
g8
sS'custom_fields'
p1182
(lp1183
(dp1184
S'value'
p1185
S'1230791780'
p1186
sS'id'
p1187
S'18742'
p1188
sS'key'
p1189
S'dsq_thread_id'
p1190
sasS'wp_author_id'
p1191
S'2191'
p1192
sS'title'
p1193
S'Choosing an audience and classifying your data'
p1194
sS'wp_password'
p1195
g8
sS'wp_page_parent_title'
p1196
S'Courses'
p1197
sS'page_id'
p1198
I4283
sS'wp_slug'
p1199
S'classifying-financial-data'
p1200
sS'wp_page_order'
p1201
I0
sS'permaLink'
p1202
S'http://schoolofdata.org/handbook/courses/classifying-financial-data/'
p1203
sS'description'
p1204
V<div class="content">  <div class="section" id="choosing-an-audience-and-classifying-your-data">   <p>Depending on who the audience is for your data, you may want to think about presenting or delivering your data differently.</p> <p>The <a class="reference external" href="http://openspending.org/resources/handbook/ch011_defining-the-scopetopic.html">Spending Data Handbook</a> covers some important considerations about targeting your data project.</p> <p>In this chapter, we cover a data conversion technique that the Open Knowledge Foundation employ regularly in order to make data more accessible and (if caution is applied) comparable between countries.</p> <div class="section" id="grouping-budgets-and-spending-by-topics-people-care-about"> <h2>Grouping budgets and spending by topics people care about</h2> <p>Functional classifications, for those of you who don\u2019t regularly \u2018sail the wide accounting seas\u2019 tell you things like what general area of spending we area talking about \u201chealth\u201d, \u201ceducation\u201d, \u201cdefence\u201d, which is often more interesting from the perspective of the citizen user than e.g. which ministry group it was spent by.</p> <p>Some governments already classify their data by functional classifications, but you can also group them . No idea what we are talking about or why you should care? Read on:</p> <div class="section" id="why-functional-classifications"> <h3>Why Functional Classifications?</h3> <p>Simply speaking, many users of data want to know what government spent money on, rather than who spent it, who received it. People (I\u2019m talking about the general public here) generally care about services - not bank transfers.</p> <p>You don\u2019t have to make these classifications up from scratch, there are internationally recognised systems of these. For example, the stylishly named <a class="reference external" href="http://unstats.un.org/unsd/cr/registry/regcst.asp?Cl=4">Classifications of Functions of Government</a> (COFOG, for short) - is how the government already publishes its data in the UK. This, with a few amendments to translate the terms from political jargon into terms that people could identify with - was the system used to make the budget understandable in <a class="reference external" href="http://wheredoesmymoneygo.org/">Where Does My Money Go</a>?</p> <p>For other projects which we\u2019ve done e.g. <a class="reference external" href="http://cameroon.openspending.org/en/">Cameroon.OpenSpending.org</a> we\u2019ve used a COFOG-esque mapping. Why \u2018esque\u2019? Firstly, the government didn\u2019t publish their data classified like this, so we had to group it ourself. Secondly, we were aiming here for a functional classification which worked when you visualised it, if we\u2019d used COFOG exactly for Cameroon\u2019s specific case, we\u2019d have ended up with a huge bubble for general public services which would have made all the others really small, so you wouldn\u2019t be able to see the difference in size. So we modified the set of top-level items to make it easier to see smaller distinctions.</p> </div> <div class="section" id="what-fits"> <h3>What fits?</h3> <p>The other thing to bear in mind, particularly if you are planning on visualising your data, is how many things you can fit on your visualisation. You should consider two factors:</p> <ol class="arabic simple"> <li>How many categories will fit spatially on your visualisation?</li> <li>How many categories can people take in? Lots of categories can be overwhelming for the observer of a visualisation. For Where Does My Money Go? The fact that there were only 10 or so top level items was one of the reasons we were able to use the COFOG classification.</li> </ol> <p>Compare the visualisations below:</p> <img alt="http://farm9.staticflickr.com/8253/8664810695_3c98b4d701.jpg" src="http://farm9.staticflickr.com/8253/8664810695_3c98b4d701.jpg"> <img alt="http://farm6.staticflickr.com/5309/5866420157_946a8153a2.jpg" src="http://farm6.staticflickr.com/5309/5866420157_946a8153a2.jpg"> </div> </div> <div class="section" id="international-comparisons"> <h2>International Comparisons</h2> <p>While we\u2019re always warning people about making comparisons between countries (data not being collected in the right way etc lalala), these classifications using COFOG are quite often used to make international comparisons. OECD do it regularly, so it\u2019s probably one of the less-evil ways to do it, in case you\u2019re interested in that type of thing.</p> </div> <div class="section" id="de-jargonising-cofog"> <h2>De-jargonising COFOG</h2> <p>Let\u2019s face it, the terminology used by the government is often not the most appealing, or illustrative from the point of view of the user. Hence, for the Where Does My Money Go Project, we specifically de-jargonised it, and translated the terms into friendly forms that we felt were more accessible to the average user. For example: \u2018Executive and legislative organs, financial and fiscal affairs, external affairs\u2019 became \u2018Top level government\u2019. You can take a look at how we mapped them on to one-another in this Google Doc.</p> </div> <div class="section" id="how-to-map-your-budget-into-cofog-classifications"> <h2>How to map your budget into COFOG classifications:</h2> <p>Basically, if your government doesn\u2019t do this for you - you\u2019ll always have to use your best judgements, someone may have made a different call, and may well disagree with the way you\u2019ve done what you\u2019ve done. But as long as you document your practices, anyone will be able to pick up anything they don\u2019t agree with and produce a different model.</p> <ol class="arabic simple"> <li>Make a codesheet and align your functional groups to the things you want to go under that umbrella term.</li> <li>Do a dataset cross using Google Refine or use <a class="reference external" href="http://office.microsoft.com/en-gb/excel-help/hlookup-HP005209114.aspx">HLOOKUP</a> in Excel. Dataset merging will allow you to match information from different data sources or spreadsheets, without merging them, so the original data remains available.</li> </ol> <div class="well"><p><strong>Task:</strong></p> <p>Find budgets or spending for your country. Take a look at Where Does My Money Go? if you need inspiration.</p> </div><p>You are now ready to produce a visualisation with your data!</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1205
sS'dateCreated'
p1206
(ixmlrpclib
DateTime
p1207
(dp1208
g32
S'20130423T11:37:46'
p1209
sbsS'wp_author_display_name'
p1210
S'Michael Bauer'
p1211
sS'link'
p1212
S'http://schoolofdata.org/handbook/courses/classifying-financial-data/'
p1213
sS'page_status'
p1214
S'publish'
p1215
sS'categories'
p1216
(lp1217
sS'wp_page_template'
p1218
S'default'
p1219
sS'mt_allow_pings'
p1220
I0
sS'date_created_gmt'
p1221
(ixmlrpclib
DateTime
p1222
(dp1223
g32
S'20130423T09:37:46'
p1224
sbssS'830'
p1225
(dp1226
S'wp_author'
p1227
S'Lucy Chambers'
p1228
sS'userid'
p1229
S'239'
p1230
sS'excerpt'
p1231
g8
sS'wp_page_parent_id'
p1232
I93
sS'mt_allow_comments'
p1233
I1
sS'text_more'
p1234
g8
sS'custom_fields'
p1235
(lp1236
(dp1237
S'value'
p1238
S'959590225'
p1239
sS'id'
p1240
S'770'
p1241
sS'key'
p1242
S'dsq_thread_id'
p1243
sasS'wp_author_id'
p1244
S'239'
p1245
sS'title'
p1246
S'Blogging guidelines'
p1247
sS'wp_password'
p1248
g8
sS'wp_page_parent_title'
p1249
S'Blog'
p1250
sS'page_id'
p1251
I830
sS'wp_slug'
p1252
S'blogging-guidelines'
p1253
sS'wp_page_order'
p1254
I0
sS'permaLink'
p1255
S'http://schoolofdata.org/blog/blogging-guidelines/'
p1256
sS'description'
p1257
VThe School of Data Blog is a one-stop shop for your data-wrangling needs. Via the blog, we'll post updates on what is new in courses and the handbook as well as upcoming events, training and data-expeditions. \u000a\u000aWe also accept data guest posts for the blog. <strong>If you're keen to write something for the blog - read on, and we'll show you how! </strong>. We are particularly interested in: \u000a\u000a* Inspiring stories about things people have done with data\u000a* Tutorials, walk-throughs & experiences while tackling a particular problem\u000a* Book reviews \u000a* Other things - get in touch!\u000a\u000a<strong>NOTE: Please write to us on schoolofdata [at] okfn.org <em>before</em> writing your post to make sure we have space on the blog and the topic fits!</strong>\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8209/8173121578_a48a960df5.jpg" title="Explaining Botswanan HIV Crisis" class="alignnone" width="640" height="640" />\u000a\u000a\u000aBelow are the blog guidelines for people posting on the School of Data blog.\u000a\u000a## Keep it snappy.\u000a\u000a600-800 words is plenty. Readers generally have a rather short attention span when they\u2019re reading online - think about what it is you want to tell people, and make sure you get it into your first or second paragraph. Posts longer than 800 words will be edited down, so you can save us lots of work by keeping under the word limit. If your post for the School of Data blog is an edited version of a longer post, we can link through to the full version somewhere else, so that people who want to can get the full story!\u000a\u000a## Highlight the particular.\u000a\u000aPart of the strength of our community lies in the fact that so many people are following closely related paths in divergent corners of the world. To keep your posts interesting, be sure to explain the particular challenges you have faced and vision that you have - the things that distinguish your experiences from those of others around the world. Anecdotes and stories are great to help with this.\u000aHave a clear audience in mind. \u000a\u000aAs well as being a forum for us to share our ideas with each other, the School of Data blog is a place where the uninitiated can learn about data. We\u2019ll aim to tag blog posts with appropriate levels e.g.:\u000a\u000a**Beginner**: Assume, no prior coding or data-wrangling knowledge\u000a**Intermediate**: Awareness of data wrangling tools and techniques but not necessarily code \u000a**Advanced**: Good grasp of wide number of data wrangling tools & some proficiency in coding\u000a\u000aTry to link all technical terms to the Data Wrangling Handbook - Glossaries. Check: \u000a\u000a<http://schoolofdata.org/handbook/appendix/glossary/>\u000a\u000aIf it\u2019s not there, please email schoolofdata [at] okfn.org to get it added. \u000a\u000a## Send us a picture!\u000a\u000aAll posts will have a picture with them, and it would be great if you could decide what that picture should be. A photo, a screenshot, an illustration or a graph - whatever it is, images help make words talk.
p1258
sS'dateCreated'
p1259
(ixmlrpclib
DateTime
p1260
(dp1261
g32
S'20121205T15:25:48'
p1262
sbsS'wp_author_display_name'
p1263
S'Lucy Chambers'
p1264
sS'link'
p1265
S'http://schoolofdata.org/blog/blogging-guidelines/'
p1266
sS'page_status'
p1267
S'publish'
p1268
sS'categories'
p1269
(lp1270
sS'wp_page_template'
p1271
S'default'
p1272
sS'mt_allow_pings'
p1273
I1
sS'date_created_gmt'
p1274
(ixmlrpclib
DateTime
p1275
(dp1276
g32
S'20121205T15:25:48'
p1277
sbssS'2881'
p1278
(dp1279
S'wp_author'
p1280
S'Michael Bauer'
p1281
sS'userid'
p1282
S'2191'
p1283
sS'excerpt'
p1284
g8
sS'wp_page_parent_id'
p1285
I2873
sS'mt_allow_comments'
p1286
I1
sS'text_more'
p1287
g8
sS'custom_fields'
p1288
(lp1289
(dp1290
S'value'
p1291
S'956033444'
p1292
sS'id'
p1293
S'7760'
p1294
sS'key'
p1295
S'dsq_thread_id'
p1296
sasS'wp_author_id'
p1297
S'2191'
p1298
sS'title'
p1299
S'From Data to Diagrams: An introduction to plots and charts'
p1300
sS'wp_password'
p1301
g8
sS'wp_page_parent_title'
p1302
S'Courses'
p1303
sS'page_id'
p1304
I2881
sS'wp_slug'
p1305
S'data-to-diagrams'
p1306
sS'wp_page_order'
p1307
I0
sS'permaLink'
p1308
S'http://schoolofdata.org/handbook/courses/data-to-diagrams/'
p1309
sS'description'
p1310
V<div class="content">  <div class="section" id="from-data-to-diagrams-an-introduction-to-plots-and-charts">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>The last tutorials was all text and grey, so let\u2019s add some glitter to the world of data: Data Visualization. Data visualization is not just about making what you found look good - often it is a way of gaining insight into the data. We just understand graphical information on a better level than we understand numbers and tables. Look at the example below: How long does it take to see the trend in the table, how long in the chart?</p> <img alt="http://farm9.staticflickr.com/8305/7982104847_5a4be76fc7_o_d.png" src="http://farm9.staticflickr.com/8305/7982104847_5a4be76fc7_o_d.png"> <img alt="http://farm9.staticflickr.com/8458/7982109326_463cede881_o_d.png" src="http://farm9.staticflickr.com/8458/7982109326_463cede881_o_d.png"> <p>Data visualization is a great skill and if done right has great value. If done incorrectly, you will lead people astray and plant wrong ideas in their heads. Remember: With great power comes great responsibility.</p> <p>In this tutorial we have two missions:</p> <ul class="simple"> <li>To understand which type of chart is most appropriate to present your data</li> <li>To learn the basic workflow for inserting  basic charts into a spreadsheet with Google Docs.</li> </ul> <p>For this tutorial you will need to have the <tt class="docutils literal"><span class="pre">share</span></tt> settings on your spreadsheet set to \u201cpublic on the web\u201d - otherwise some of the things we cover won\u2019t work. Do so by changing the settings with the blue <tt class="docutils literal"><span class="pre">share</span></tt> button on the top right.</p> <p>In case you haven\u2019t completed the last module the spreadsheet we are working with is <a class="reference external" href="https://docs.google.com/spreadsheet/ccc?key=0AlgwwPNEvkP7dGF2QjNCcUlOV2xmNlYwdl92MlpXN1E#gid=2">here</a>.</p> </div> <div class="section" id="how-to-present-data"> <h2>How to present data?</h2> <p>We have largely quantitative data in our dataset. The question we have to ask ourselves is: Do we compare one entity over time, multiple entities with each other or do we want to know how two variables interact? Depending on this we choose different presentation formats.</p> <table border="1" class="docutils"> <colgroup> <col width="67%"> <col width="33%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">What we want to do</th> <th class="head">Presentation chosen</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>Compare values from different categories</td> <td>barchart</td> </tr> <tr class="row-odd"><td>Follow value over time (timeseries)</td> <td>linechart</td> </tr> <tr class="row-even"><td>Show interaction between two values</td> <td>scatterplot</td> </tr> <tr class="row-odd"><td>Show data related to geography</td> <td>map</td> </tr> </tbody> </table> </div> <div class="section" id="presenting-quantitative-data-from-different-categories-bar-columncharts"> <h2>Presenting quantitative data from different categories - Bar/columncharts</h2> <p>A barchart is one of the most commonly used forms of presenting quantitative data. It is simple to create and to understand. It is best used when comparing data from different categories: e.q. public healthcare expenditure in the top 10 countries - and as 11th column your country. A typical columnchart looks like this:</p> <img alt="http://farm9.staticflickr.com/8300/7893055570_a291658647_o_d.jpg" src="http://farm9.staticflickr.com/8300/7893055570_a291658647_o_d.jpg"> <p>Reading barcharts is simple: We usually have a few values - ordered as categories on the x or y axis (for column and barcharts respectively) in our example it\u2019s the countries. Then we have the values expressed as bars (horizontal) or columns (vertical). The extent of the bars is the value.</p> <p>As simple as it is there are a few rules to keep in mind:</p> <ul class="simple"> <li><strong>Don\u2019t overload barcharts</strong> Although you can do multiple colours and pack two categories in there, if it\u2019s too many categories it becomes confusing.</li> <li><strong>Always label your axes</strong> whoever is looking at your graphs needs to know what the units are they are looking at.</li> <li><strong>Start your values at 0</strong>. Most spreadsheet tools will automatically adjust the range: undo this and set it to 0 - this shows contrast in an appropriate scale! We\u2019ll show you why this is important in the next module.</li> </ul> <div class="section" id="walkthrough-create-a-column-chart-for-the-top-10-countries"> <h3>Walkthrough: Create a column chart for the top 10 countries.</h3> <p>So let\u2019s create a column chart from our dataset. It\u2019s not really good style to have too many different columns in there: the chart becomes very hard to read. So what we will do is to limit ourselves to the 10 countries with the highest healthcare expenditure. This is an arbitrary cutoff and you can look at all the countries as well. Doing so might help you discover something that\u2019s hidden in the data.</p> <blockquote> <div><ol class="arabic"> <li><p class="first">To do so, filter the World Bank dataset for a single year (e.g. 2009).</p> </li> <li><p class="first">Sort the filtered world bank data set by the column \u201cHealth care expenditure total per person (US$)\u201d one of the columns we created in the last challenge. Remember to select the whole sheet - not just the column you\u2019re sorting.</p> </li> <li><p class="first">Select the top 10 countries (the first 11 rows including the header row) and copy it to another sheet. (For this press <tt class="docutils literal"><span class="pre">ctrl</span></tt> + <tt class="docutils literal"><span class="pre">c</span></tt> for copy and then insert a new sheet, press <tt class="docutils literal"><span class="pre">ctrl</span></tt> + <tt class="docutils literal"><span class="pre">v</span></tt> in the new sheet to paste).</p> </li> <li><p class="first">Because of the way google docs works, we now have to bring the data columns we are interested in next to the column with the country names (column A).</p> </li> <li><p class="first">Click on the grey label to select it. Release the mouse then click and drag it until it is in position. Your column A should now be Country Names, Column B should be \u201chealthcare expenditure per person total US$\u201d. Your sheet should look like this:</p> <img alt="http://farm9.staticflickr.com/8314/7982157782_0384c5c2d5_o_d.jpg" src="http://farm9.staticflickr.com/8314/7982157782_0384c5c2d5_o_d.jpg"> </li> <li><p class="first">Now select the first two columns and then open <tt class="docutils literal"><span class="pre">chart...</span></tt> from the <tt class="docutils literal"><span class="pre">insert</span></tt> menu.</p> <img alt="http://farm9.staticflickr.com/8189/8079297402_11385187fe_o_d.png" src="http://farm9.staticflickr.com/8189/8079297402_11385187fe_o_d.png"> </li> <li><p class="first">One of the suggested charts should be a column chart</p> <img alt="http://farm9.staticflickr.com/8189/8079306740_de45bdca7c_o_d.png" src="http://farm9.staticflickr.com/8189/8079306740_de45bdca7c_o_d.png"> </li> <li><p class="first">Click on it and you will see a preview. Did you note the range on the y axis?</p> <img alt="http://farm9.staticflickr.com/8297/7982162404_1a5c6502ef_o_d.png" src="http://farm9.staticflickr.com/8297/7982162404_1a5c6502ef_o_d.png"> </li> <li><p class="first">It starts with 4000 so it looks like Belgium is only spending a fraction of Luxembourg\u2019s spending on healthcare - let\u2019s change this.</p> </li> <li><p class="first">Open the <tt class="docutils literal"><span class="pre">Customize</span></tt> tab and scroll down to <tt class="docutils literal"><span class="pre">\u201cAxis\u201d</span></tt> . Now select <tt class="docutils literal"><span class="pre">\u201cLeft</span> <span class="pre">Vertical\u201d</span></tt> from the drop down.</p> <img alt="http://farm9.staticflickr.com/8333/8079355505_d06c8ced0f_o_d.png" src="http://farm9.staticflickr.com/8333/8079355505_d06c8ced0f_o_d.png"> </li> <li><p class="first">See the max and min boxes? Just enter 0 into the min and the range will start at 0. This way the contrast between the countries looks more realistic.</p> <img alt="http://farm9.staticflickr.com/8310/7982158841_6e728dd3eb_o_d.png" src="http://farm9.staticflickr.com/8310/7982158841_6e728dd3eb_o_d.png"> </li> <li><p class="first">Play around with the customizing settings. Try to remove and position the legend, change the colour of your bars etc.</p> </li> <li><p class="first">When you are done, click on <tt class="docutils literal"><span class="pre">Insert</span></tt> and your chart will be there.</p> </li> <li><p class="first">If you click on the chart you can move it around. Notice the triangle up right? It\u2019s the option menu. Select <tt class="docutils literal"><span class="pre">Edit</span> <span class="pre">chart</span></tt> to change the settings of the chart. Can you change it to a bar chart?</p> </li> </ol> </div></blockquote> <div class="well"><p><strong>Task:</strong>  Create a column chart with other data from the World Bank sheet.</p> </div><p><strong>So now you know how to create a column chart - feel free to experiment with other types of chart and use the recipes in the Handbook to guide you.</strong> The following sections deal with <em>when</em> to pick a particular type of chart and what data it is suitable for. We cover the most common charts: line charts, choropleth maps and scatterplots. For all of these, you can find an accompanying howto recipe in the handbook.</p> </div> </div> <div class="section" id="presenting-data-from-categories-over-time-linecharts"> <h2>Presenting data from categories over time - linecharts</h2> <p>Sometimes you do not only have categories: e.g. countries, but you have values over time. This is where line charts are quite handy. A line chart looks like:</p> <img alt="http://farm9.staticflickr.com/8461/7893223088_a24d3c1c59_o_d.jpg" src="http://farm9.staticflickr.com/8461/7893223088_a24d3c1c59_o_d.jpg"> <p>On the y axis we still have our values on the x axis we have the time measured. This graph works best if the time interval between the measurements is equal (Of course line charts are not limited to timeseries). Again it\u2019s important, when comparing multiple categories, to start your y axis with 0. Only when displaying a single line it\u2019s ok to start somewhere in between - but give a relation - say where your graph starts and where it ends.</p> <div class="well"><p><strong>Task:</strong> Compare Luxembourg to the other top spending countries - create a line chart with the different countries on one chart.</p> </div></div> <div class="section" id="showing-geographical-data-mapping"> <h2>Showing geographical data - mapping</h2> <p>In our case we do not only have numerical data but we also have numerical data that is linked to geographical places. This calls for a map! Whenever you have a large number of countries or regions, displaying data on a map helps. If you have countries or regions you usually create a choropleth map. This special type of map displays values for a specific region as colours on that region. An example of a choropleth map from our data is shown below:</p> <img alt="http://farm9.staticflickr.com/8466/8079925578_6ee66193ff_b_d.jpg" src="http://farm9.staticflickr.com/8466/8079925578_6ee66193ff_b_d.jpg"> <p>The map shows health care expenditure in % of GDP. It allows us to discover find interesting aspects of our dataset. E.g. Western Europe is spending more on healthcare in %GDP than eastern Europe and Liberia spends more than any other state in Africa.</p> <p>Some things to be aware of when using choropleth maps:</p> <ul class="simple"> <li>One shortcoming of choropleth maps are the fact that bigger regions or countries attract most attention, so smaller regions may get lost.</li> <li>Pay attention to colour-sclae. The standard red-green colour scale is not very well suited for a variety of reasons such as making it difficult for colour-blind observers (Read more about this in Gregor Aisch\u2019s post in the Further Reading section).  Single hued colour scales are in most cases easier to guess. If your range of values becomes too big it will be hard to single out things</li> </ul> <div class="well"><p><strong>Task:</strong> Try another set of data on a choropleth. How does it work?</p> </div></div> <div class="section" id="researching-interaction-between-variables-scatterplots"> <h2>Researching interaction between variables - scatterplots</h2> <p>What if we are interested not in a single variable but in how different variables depend on each other? Well in this case we have scatterplots - good for looking at interaction between two variables.</p> <img alt="http://farm9.staticflickr.com/8481/8229057265_cb3e48f1b6_o_d.png" src="http://farm9.staticflickr.com/8481/8229057265_cb3e48f1b6_o_d.png"> <p>Look at the sample scatterplot above: we have one numerical value on the X and another numerical value on the Y axis. The dots are one data point. This plot has certain shortcomings as well: The dots overlap and thus if there are a lot of dots you don\u2019t really see where they are. This could be solved by adding transparency or by selecting a specific range to show. Nevertheless one trend becomes clear: Above a certain life expectancy, health care costs suddenly increase dramatically. Also notice the three single dots on the lower left? Interesting outliers - we\u2019ll look at them in a later module.</p> <div class="well"><p><strong>Task:</strong> Make a scatterplot comparing other data in the dataset. Does it work? Issues, problems, interesting findings?</p> </div></div> <div class="section" id="summary"> <h2>Summary</h2> <p>In this tutorial we covered basics of data visualization. We discussed common basic plots and created them. In the next tutorial we will discuss some pitfalls to avoid when handling and interpreting data.</p> </div> <div class="section" id="further-reading"> <h2>Further reading</h2> <ul class="simple"> <li><a class="reference external" href="http://vis4.net/blog/posts/doing-the-line-charts-right/">\u201cDoing the Line Charts Right\u201d</a> by Gregor Aisch</li> <li>Also by Gregor Aisch: <a class="reference external" href="http://vis4.net/blog/posts/goodbye-redgreen-scales/">Say Goodbye to Red-Green Color Scales</a></li> </ul> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/data-to-diagrams.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../common-misconceptions/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1311
sS'dateCreated'
p1312
(ixmlrpclib
DateTime
p1313
(dp1314
g32
S'20130202T23:10:24'
p1315
sbsS'wp_author_display_name'
p1316
S'Michael Bauer'
p1317
sS'link'
p1318
S'http://schoolofdata.org/handbook/courses/data-to-diagrams/'
p1319
sS'page_status'
p1320
S'publish'
p1321
sS'categories'
p1322
(lp1323
sS'wp_page_template'
p1324
S'default'
p1325
sS'mt_allow_pings'
p1326
I0
sS'date_created_gmt'
p1327
(ixmlrpclib
DateTime
p1328
(dp1329
g32
S'20130202T21:10:24'
p1330
sbssS'2886'
p1331
(dp1332
S'wp_author'
p1333
S'Michael Bauer'
p1334
sS'userid'
p1335
S'2191'
p1336
sS'excerpt'
p1337
g8
sS'wp_page_parent_id'
p1338
I2873
sS'mt_allow_comments'
p1339
I1
sS'text_more'
p1340
g8
sS'custom_fields'
p1341
(lp1342
(dp1343
S'value'
p1344
S'1'
p1345
sS'id'
p1346
S'48753'
p1347
sS'key'
p1348
S'dsq_needs_sync'
p1349
sa(dp1350
S'value'
p1351
S'956059002'
p1352
sS'id'
p1353
S'7767'
p1354
sS'key'
p1355
S'dsq_thread_id'
p1356
sasS'wp_author_id'
p1357
S'2191'
p1358
sS'title'
p1359
VTell me a story: Working out what\u2019s interesting in your data
p1360
sS'wp_password'
p1361
g8
sS'wp_page_parent_title'
p1362
S'Courses'
p1363
sS'page_id'
p1364
I2886
sS'wp_slug'
p1365
S'tell-me-a-story'
p1366
sS'wp_page_order'
p1367
I0
sS'permaLink'
p1368
S'http://schoolofdata.org/handbook/courses/tell-me-a-story/'
p1369
sS'description'
p1370
V<div class="content">  <div class="section" id="tell-me-a-story-working-out-what-s-interesting-in-your-data">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Data alone is not very accessible. However it is a great fundament to build on. To create information from data it needs to be made tangible. Telling a story with the data is the most straightforward way to do this.</p> <p>To tell a story with you data you need to figure out certain questions. Why would someone be interested in your story? Who is the someone? How does that someone connect or interact with you data?</p> </div> <div class="section" id="the-process"> <h2>The process</h2> <p>The process of telling a story with data is very similar to this track. It includes</p> <ol class="arabic simple"> <li>Finding Data - find the data that is suitable to answer your question</li> <li>Wrangle the Data - bring it to a format that is useable</li> <li>Merge Datasets - Bring different datasets together</li> <li>Filter and sort the Data - Pick the data that is interesting</li> <li>Analyze Data - Is there something to it?</li> <li>Visualize Data - If there is something interesting in the data how can we best showcase it to others?</li> </ol> </div> <div class="section" id="finding-a-story-in-data"> <h2>Finding a Story in Data</h2> <p>Sometimes you will start out to explore a dataset with a given question in mind. Sometimes you start with a dataset and want to find a story hidden in it. In both cases visualizing the data will be helpful to find the interesting parts. A good way to discover stories is to have interactive visualizations. Live bubble charts are great to do so -since we can compare multiple values at once.</p> <p>Making the data relevant and close to issues that people care about is one of the hardest things to get right, and the best way to learn is to look for inspiration from people who are really good at it. Here\u2019s a small list to start you thinking:</p> <ul class="simple"> <li><strong>Making a policy point with impact</strong>: Hans Rosling has made a career out of his theatrical way of bringing data about Global Development Data to life. His are now amongst the most watched TED talks. In the recipes section, you will learn how to make interactive bubble diagrams such as the ones he displays here.</li> </ul> <iframe src="http://embed.ted.com/talks/hans_rosling_the_good_news_of_the_decade.html" width="560" height="315" frameborder="0" scrolling="no" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><ul class="simple"> <li><strong>Data Driven Journalism</strong>: If you want to get the hang of data storytelling, take a lesson from the people it comes naturally to: journalists. The <a class="reference external" href="http://datajournalismhandbook.org/">Data Journalism Handbook</a> highlights some of the best data stories and details how and why they were produced in the words of leading Data Journalists from around the world.</li> <li><strong>Storytelling for campaigns</strong>: Tactical Technology Collective have produced an excellent guide to how to target visual information to get your message across and correctly target your audience. <a class="reference external" href="http://drawingbynumbers.org/">Drawing By Numbers</a> teaches people to identify how much detail a reader desires or requires, so that people are neither overwhelmed or bored by the the amount of data they are given. They group information design around three basic principles. Your approach should be targeted at whether your audience wants to: <em>Get</em> the idea, <em>Get</em> the picture or <em>Get</em> the detail). They also give some great examples of visual campaigns with real impact.</li> <li><strong>Making data personal</strong>: Who are you trying to connect to when you present your data? Will the average citizen be able to relate to spending numbers of the UK government in billions, or would it be more helpful to break them down into numbers that they can relate to and mean something to them? For example, <a class="reference external" href="http://wheredoesmymoneygo.org/dailybread.html">Where Does My Money Go?</a> shows the user, on a daily basis, how much tax they contribute to various spending areas and presents the user with numbers they can better relate to.</li> </ul> </div> <div class="section" id="telling-the-story"> <h2>Telling the story</h2> <p>Once you\u2019re through the steps: How do you frame your data? How do you provide the context needed? What format are you going to chose? It could be an article, a blog post, an infographic, or an interactive website dedicated to just this problem. The formats vary as do the ways to tell your story. So what format you pick also depends on who you are and what you want to tell. Are you with a NGO and want to use the data for a campaign? Are you a journalist and want to use the data with a story? Are you a researcher trying to make sense of a research data? Or just a curious blogger looking for interesting things? You will have different audiences and different means to tell your story. Don\u2019t be afraid to share your work with friends and colleagues early - they can give you great insight on how to improve your presentation and story.</p> <div class="well"><p><strong>Task:</strong> What stories can be told from the World Bank data and can you identify additional information or data to tell better stories?</p> </div></div> <div class="section" id="publishing-your-results-online"> <h2>Publishing your results online</h2> <p>Once you\u2019ve gone to all of the effort of finding the juicy parts in your data - you\u2019re ready to get your results online. Many services allow easy ways to embed visualisations &amp; data, such as iframes which you can copy and paste into a blog or website. However, if you are not given an easy way to get your material online, we\u2019ve put together a quick recipe to help you publish your results directly as a webpage.</p> </div> <div class="section" id="summary"> <h2>Summary</h2> <p>Throughout the Data Fundamentals series we started out acquiring and storing a dataset in a spreadsheet, exploring it and calculating new values, visualizing and finally telling a story about it. Of course there is much more to data than we covered in this basic course. You won\u2019t be on your own though the School of Data is here to help. Now go out, look at what others have done and explore data!</p> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/tell-me-a-story.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../" class="btn btn-primary btn-large">You've finished Data Fundamentals <span class="icon-star-empty"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1371
sS'dateCreated'
p1372
(ixmlrpclib
DateTime
p1373
(dp1374
g32
S'20130202T23:10:36'
p1375
sbsS'wp_author_display_name'
p1376
S'Michael Bauer'
p1377
sS'link'
p1378
S'http://schoolofdata.org/handbook/courses/tell-me-a-story/'
p1379
sS'page_status'
p1380
S'publish'
p1381
sS'categories'
p1382
(lp1383
sS'wp_page_template'
p1384
S'default'
p1385
sS'mt_allow_pings'
p1386
I0
sS'date_created_gmt'
p1387
(ixmlrpclib
DateTime
p1388
(dp1389
g32
S'20130202T21:10:36'
p1390
sbssS'2887'
p1391
(dp1392
S'wp_author'
p1393
S'Michael Bauer'
p1394
sS'userid'
p1395
S'2191'
p1396
sS'excerpt'
p1397
g8
sS'wp_page_parent_id'
p1398
I2873
sS'mt_allow_comments'
p1399
I1
sS'text_more'
p1400
g8
sS'custom_fields'
p1401
(lp1402
(dp1403
S'value'
p1404
S'955916540'
p1405
sS'id'
p1406
S'7769'
p1407
sS'key'
p1408
S'dsq_thread_id'
p1409
sasS'wp_author_id'
p1410
S'2191'
p1411
sS'title'
p1412
S'What is Data?'
p1413
sS'wp_password'
p1414
g8
sS'wp_page_parent_title'
p1415
S'Courses'
p1416
sS'page_id'
p1417
I2887
sS'wp_slug'
p1418
S'what-is-data'
p1419
sS'wp_page_order'
p1420
I0
sS'permaLink'
p1421
S'http://schoolofdata.org/handbook/courses/what-is-data/'
p1422
sS'description'
p1423
V<div class="content">  <div class="section" id="what-is-data">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Welcome to the beginners course of the School of Data. In this course we will cover the basics of data wrangling and visualization and will discover and tell a story in a dataset.</p> <p>In this module, you will learn where to start looking for data. We begin with an introduction to some of the basics of data \u2013 key terms like qualitative, quantitative, machine-readable, discrete and continuous data, which crop up again and again for Data Wranglers.</p> </div> <div class="section" id="most-things-start-with-a-question"> <h2>Most things start with a question</h2> <p>Most people don\u2019t just wrangle data for fun. They have a story to tell or a problem to solve.</p> <p>Often you will start with a question in mind. This could be anything from: \u2018How often does the sun shine in my hometown?\u2019 to \u2018How does my government spend its money? And where do they get it from?\u2019. A question is a good starting point for exploring your data - it makes you focused and helps you to detect interesting patterns in the data. Understanding for whom your question is interesting will also help you to define the audience you need to work for, and will help you to shape your story.</p> <p>What if you start without a question? You\u2019re just exploring. If you find something that looks interesting in your dataset, you can start examining it as if this was the question you had in mind. Sometimes patterns in data can be explained by investigating what causes the patterns. This is often a story worth telling.</p> <p>Whether you began with a question or not, you should always keep your eyes open for unexpected patterns, unusual results, or anything that surprises you. Often, the most interesting stories aren\u2019t the ones you were looking for.</p> <p>In this course we will start with a question and then explore a dataset with this question in mind. We will also roam around and explore whether there is something interesting hidden in the data.</p> <p><strong>The question we will focus on for the Data Fundamentals Course will be: How does healthcare spending influence life expectancy?</strong></p> <div class="well"><p><strong>Task:</strong> Think of a question you would like to answer using data.</p> </div></div> <div class="section" id="id1"> <h2>What is Data?</h2> <p>Data is all around us. But what exactly is it? Data is a value assigned to a thing. Take for example the balls in the picture below.</p> <div class="figure"> <img alt="Golf balls" src="http://farm9.staticflickr.com/8301/7871270682_ded37461a0_o_d.jpg"> <p class="caption">Golf balls at a market (CC) by Kaptain Kobold on Flickr.</p> </div> <p>What can we say about these? They are golf balls, right? So one of the first data points we have is that they are used for golf. Golf is a category of sport, so this helps us to put the ball in a taxonomy. But there is more to them. We have the colour: \u201cwhite\u201d, the condition \u201cused\u201d. They all have a size, there is a certain number of them and they probably have some monetary value, and so on.</p> <p>Even unremarkable objects have a lot of data attached to them. You too: you have a name (most people have given and family names) a date of birth, weight, height, nationality etc. All these things are data.</p> <p>In the example above, we can already see that there are different types of data. The two major categories are qualitative and quantitative data.</p> <p><a class="reference internal" href="../appendix/glossary/#term-qualitative-data"><em class="xref std std-term">Qualitative data</em></a> is everything that refers to the quality of something: A description of colours, texture and feel of an object , a description of experiences, and interview are all qualitative data.</p> <p><a class="reference internal" href="../appendix/glossary/#term-quantitative-data"><em class="xref std std-term">Quantitative data</em></a> is data that refers to a number. E.g. the number of golf balls, the size, the price, a score on a test etc.</p> <p>However there are also other categories that you will most likely encounter:</p> <p><a class="reference internal" href="../appendix/glossary/#term-categorical-data"><em class="xref std std-term">Categorical data</em></a> puts the item you are describing into a category: In our example the condition \u201cused\u201d would be categorical (with categories such as \u201cnew\u201d, \u201cused\u201d ,\u201dbroken\u201d etc.)</p> <p><a class="reference internal" href="../appendix/glossary/#term-discrete-data"><em class="xref std std-term">Discrete data</em></a> is numerical data that has gaps in it: e.g. the count of golf balls. There can only be whole numbers of golf ball (there is no such thing as 0.3 golf balls). Other examples are scores in tests (where you receive e.g. 7/10) or shoe sizes.</p> <p><a class="reference internal" href="../appendix/glossary/#term-continuous-data"><em class="xref std std-term">Continuous data</em></a> is numerical data with a continuous range: e.g. size of the golfballs can be any value (e.q. 10.53mm or 10.54mm but also 10.536mm), or the size of your foot (as opposed to your shoe size, which is discrete): In continuous data, all values are possible with no gaps in between.</p> <div class="well"><p><strong>Task:</strong> Take the example of golf balls: can you find data of all different categories?</p> </div></div> <div class="section" id="from-data-to-information-to-knowledge"> <h2>From Data to Information to Knowledge.</h2> <p>Data, when collected and structured suddenly becomes a lot more useful. Let\u2019s do this in the table below.</p> <table border="1" class="docutils"> <colgroup> <col width="57%"> <col width="43%"> </colgroup> <tbody valign="top"> <tr class="row-odd"><td>Colour</td> <td>White</td> </tr> <tr class="row-even"><td>Category</td> <td>Sport - Golf</td> </tr> <tr class="row-odd"><td>Condition</td> <td>Used</td> </tr> <tr class="row-even"><td>Diameter</td> <td>43mm</td> </tr> <tr class="row-odd"><td>Price (per ball)</td> <td>$0.5 (AUD)</td> </tr> </tbody> </table> <p>But each of the data values is still rather meaningless by itself. To create information out of data, we need to interpret that data.</p> <p>Let\u2019s take the size: A diameter of 43mm doesn\u2019t tell us much. It is only meaningful when we compare it to other things. In sports there are often size regulations for equipment. The minimum size for a competition golf ball is 42.67mm. Good, we can use that golf ball in a competition. This is information. But it still is not knowledge. Knowledge is created when the information is learned, applied and understood.</p> </div> <div class="section" id="unstructured-vs-structured-data"> <h2>Unstructured vs. Structured data</h2> <div class="section" id="data-for-humans"> <h3>Data for Humans</h3> <p>A plain sentence - \u201cwe have 5 white used golf balls with a diameter of 43mm at 50 cents each\u201d - might be easy to understand for a human, but for a computer this is hard to understand. The above sentence is what we call unstructured data. Unstructured has no fixed underlying structure - the sentence could easily be changed and it\u2019s not clear which word refers to what exactly. Likewise, PDFs and scanned images may contain information which is pleasing to the human-eye as it is laid-out nicely, but they are not <a class="reference internal" href="../appendix/glossary/#term-machine-readable"><em class="xref std std-term">machine-readable</em></a>.</p> </div> <div class="section" id="data-for-computers"> <h3>Data for Computers</h3> <p>Computers are inherently different from humans. It can be exceptionally hard to make computers extract information from certain sources. Some tasks that humans find easy are still difficult to automate with computers. For example, interpreting text that is presented as an image is still a challenge for a computer. If you want your computer to process and analyse your data, it has to be able to read and process the data. This means it needs to be structured and in a <a class="reference internal" href="../appendix/glossary/#term-machine-readable"><em class="xref std std-term">machine-readable</em></a> form.</p> <p>One of the most commonly used formats for exchanging data is CSV. CSV stands for comma separated values. The same thing expressed as CSV can look something like:</p> <div class="highlight-python"><pre>\u201cquantity\u201d, \u201ccolor\u201d, \u201ccondition\u201d, \u201citem\u201d, \u201ccategory\u201d, \u201cdiameter (mm)\u201d, \u201cprice per unit (AUD)\u201d\u000a5,\u201dwhite\u201d,\u201dused\u201d,\u201dball\u201d,\u201dgolf\u201d,43,0.5</pre> </div> <p>This is way simpler for your computer to understand and can be read directly by spreadsheet software. Note that words have quotes around them: This distinguishes them as text (string values in computer speak) - whereas numbers do not have quotes. It is worth mentioning that there are many more formats out there that are structured and machine readable.</p> <div class="well"><p><strong>Task:</strong> Think of the last book you read. What data is connected to it and how would you make it structured data?</p> </div></div> </div> <div class="section" id="summary"> <h2>Summary</h2> <p>In this tutorial we explored some of the essential concepts that crop up again and again in discussions of data. What discussed what data is, and how it is structured. In the next Tutorial we will look at data sources and how to get hold of data.</p> </div> <div class="section" id="extra-reading"> <h2>Extra Reading</h2> <ol class="arabic simple"> <li>When you get a new dataset, should you dive in / should you have a hypothesis ready to go? Caelainn Barr, an award winning journalist explains how she approaches new data sources. <a class="reference external" href="http://datajournalismhandbook.org/1.0/en/understanding_data_4.html">http://datajournalismhandbook.org/1.0/en/understanding_data_4.html</a></li> <li>Overview of <a class="reference external" href="http://opendatahandbook.org/en/appendices/file-formats.html">common file formats</a> in the open data handbook.</li> </ol> </div> <div class="section" id="quiz"> <h2>Quiz</h2> <p>Take the following quiz to check whether you understood basic data categories.</p> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/what-is-data.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../finding-data/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1424
sS'dateCreated'
p1425
(ixmlrpclib
DateTime
p1426
(dp1427
g32
S'20130202T23:10:39'
p1428
sbsS'wp_author_display_name'
p1429
S'Michael Bauer'
p1430
sS'link'
p1431
S'http://schoolofdata.org/handbook/courses/what-is-data/'
p1432
sS'page_status'
p1433
S'publish'
p1434
sS'categories'
p1435
(lp1436
sS'wp_page_template'
p1437
S'default'
p1438
sS'mt_allow_pings'
p1439
I0
sS'date_created_gmt'
p1440
(ixmlrpclib
DateTime
p1441
(dp1442
g32
S'20130202T21:10:39'
p1443
sbssS'2884'
p1444
(dp1445
S'wp_author'
p1446
S'Michael Bauer'
p1447
sS'userid'
p1448
S'2191'
p1449
sS'excerpt'
p1450
g8
sS'wp_page_parent_id'
p1451
I2873
sS'mt_allow_comments'
p1452
I1
sS'text_more'
p1453
g8
sS'custom_fields'
p1454
(lp1455
(dp1456
S'value'
p1457
S'1121266633'
p1458
sS'id'
p1459
S'7800'
p1460
sS'key'
p1461
S'dsq_thread_id'
p1462
sasS'wp_author_id'
p1463
S'2191'
p1464
sS'title'
p1465
S'Making data on the web useful: scraping'
p1466
sS'wp_password'
p1467
g8
sS'wp_page_parent_title'
p1468
S'Courses'
p1469
sS'page_id'
p1470
I2884
sS'wp_slug'
p1471
S'scraping'
p1472
sS'wp_page_order'
p1473
I0
sS'permaLink'
p1474
S'http://schoolofdata.org/handbook/courses/scraping/'
p1475
sS'description'
p1476
V<div class="content">  <div class="section" id="making-data-on-the-web-useful-scraping">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Many times data is not easily accessible - although it does exist. As much as we wish everything was available in CSV or the format of our choice - most data is published in different forms on the web. What if you want to use the data to combine it with other datasets and explore it independently?</p> <p>Scraping to the rescue!</p> <p>Scraping describes the method to extract data hidden in documents - such as Web Pages and PDFs and make it useable for further processing. It is among the most useful skills if you set out to investigate data - and most of the time it\u2019s not especially challenging. For the most simple ways of scraping you don\u2019t even need to know how to write code.</p> <p>This example relies heavily on Google Chrome for the first part. Some things work well with other browsers, however we will be using one specific browser extension only available on Chrome. If you can\u2019t install Chrome, don\u2019t worry the principles remain similar.</p> </div> <div class="section" id="code-free-scraping-in-5-minutes-using-google-spreadsheets-google-chrome"> <h2>Code-free Scraping in 5 minutes using Google Spreadsheets &amp; Google Chrome</h2> <p>Knowing the structure of a website is the first step towards extracting and using the data. Let\u2019s get our data into a spreadsheet - so we can use it further. An easy way to do this is provided by a special formula in Google Spreadsheets.</p> <p>Save yourselves hours of time in copy-paste agony with the ImportHTML command in Google Spreadsheets. It really is magic!</p> <div class="section" id="recipes"> <h3>Recipes</h3> <p>In order to complete the next challenge, take a look in the Handbook at one of the following recipes:</p> <ol class="arabic simple"> <li><a class="reference external" href="http://schoolofdata.org/handbook/recipes/liberating-html-tables/">Extracting data from HTML tables</a>.</li> <li>Scraping using the <a class="reference external" href="http://schoolofdata.org/handbook/recipes/scraper-extension-for-chrome">Scraper Extension for Chrome</a></li> </ol> <img alt="http://farm9.staticflickr.com/8303/7850933084_b188c02992_o_d.jpg" src="http://farm9.staticflickr.com/8303/7850933084_b188c02992_o_d.jpg"> <p>Both methods are useful for:</p> <ul class="simple"> <li>Extracting individual lists or tables from single webpages</li> </ul> <p>The latter can do slightly more complex tasks, such as extracting nested information. Take a look at the recipe for more details.</p> <p>Neither will work for:</p> <ul class="simple"> <li>Extracting data spread across multiple webpages</li> </ul> </div> <div class="section" id="challenge"> <h3>Challenge</h3> <div class="well"><p><strong>Task:</strong> Find a website with a table and scrape the information from it. Share your result on <a class="reference external" href="http://datahub.io/">datahub.io</a> (make sure to tag your dataset with schoolofdata.org)</p> </div></div> <div class="section" id="tip"> <h3>Tip</h3> <p>Once you\u2019ve got your table into the spreadsheet, you may want to move it around, or put it in another sheet. Right click the top left cell and select \u201cpaste special\u201d - \u201cpaste values only\u201d.</p> </div> </div> <div class="section" id="scraping-more-than-one-webpage-scraperwiki"> <h2>Scraping more than one webpage: Scraperwiki</h2> <p>Note: Before proceeding into full scraping mode, it\u2019s helpful to understand the flesh and bones of what makes up a webpage. Read the <a class="reference external" href="http://schoolofdata.org/handbook/recipes/introduction-to-html/">Introduction to HTML recipe</a> in the handbook.</p> <p>Until now we\u2019ve only scraped data from a single webpage. What if there are more? Or you want to scrape complex databases? You\u2019ll need to learn how to program - at least a bit.</p> <p>It\u2019s beyond the scope of this course to teach how to scrape, our aim here is to help you understand whether it is worth investing your time to learn, and to point you at some useful resources to help you on your way!</p> <div class="section" id="structure-of-a-scraper"> <h3>Structure of a scraper</h3> <p>Scrapers are comprised of three core parts:</p> <ol class="arabic simple"> <li>A queue of pages to scrape</li> <li>An area for structured data to be stored, such as a database</li> <li>A downloader and parser that adds URLs to the queue and/or structured information to the database.</li> </ol> <p>Fortunately for you there is a good website for programming scrapers: <a class="reference external" href="http://scraperwiki.com">ScraperWiki.com</a></p> <img alt="http://farm9.staticflickr.com/8112/8660176200_2dd5aa8d0b_z.jpg" src="http://farm9.staticflickr.com/8112/8660176200_2dd5aa8d0b_z.jpg"> <p>ScraperWiki has two main functions: You can write scrapers - which are optionally run regularly and the data is available to everyone visiting - or you can request them to write scrapers for you. The latter costs some money - however it helps to contact the Scraperwiki community (<a class="reference external" href="https://groups.google.com/forum/?fromgroups=#!forum/scraperwiki">Google Group</a>) someone might get excited about your project and help you!.</p> <p>If you are interested in writing scrapers with Scraperwiki, check out this <a class="reference external" href="https://scraperwiki.com/scrapers/members_of_the_uk_parliament/">sample scraper</a> - scraping some data about <a class="reference external" href="http://www.parliament.uk/mps-lords-and-offices/mps/">Parliament</a>. Click View source to see the details. Also check out the Scraperwiki documentation: <a class="reference external" href="https://scraperwiki.com/docs/python/">https://scraperwiki.com/docs/python/</a></p> </div> <div class="section" id="when-should-i-make-the-investment-to-learn-how-to-scrape"> <h3>When should I make the investment to learn how to scrape?</h3> <p>A few reasons (non-exhaustive list!):</p> <ol class="arabic simple"> <li>If you regularly have to extract data where there are numerous tables in one page.</li> <li>If your information is spread across numerous pages.</li> <li>If you want to run the scraper regularly (e.g. if information is released every week or month).</li> <li>If you want things like email alerts if information on a particular webpage changes.</li> </ol> <p>...And you don\u2019t want to pay someone else to do it for you!</p> </div> </div> <div class="section" id="summary"> <h2>Summary:</h2> <p>In this course we\u2019ve covered Web scraping and how to extract data from websites. The main function of scraping is to convert data that is semi-structured into structured data and make it easily useable for further processing. While this is a relatively simple task with a bit of programming - for single webpages it is also feasible without any programming at all. We\u2019ve introduced =importHTML and the Scraper extension for your scraping needs.</p> </div> <div class="section" id="further-reading"> <h2>Further Reading</h2> <ul class="simple"> <li><a class="reference external" href="http://www.propublica.org/nerds/item/doc-dollars-guides-collecting-the-data">Scraping for Journalism</a>: A Guide for Collecting Data: ProPublica Guides</li> <li><a class="reference external" href="https://leanpub.com/scrapingforjournalists">Scraping for Journalists</a> (ebook): Paul Bradshaw</li> <li><a class="reference external" href="http://pyvideo.org/video/256/pycon-2010--scrape-the-web--strategies-for-progra">Scrape the Web</a>: Strategies for programming websites that don\u2019t expect it : Talk from PyCon</li> <li><a class="reference external" href="http://lethain.com/an-introduction-to-compassionate-screenscraping/">An Introduction to Compassionate Screen Scraping</a>: Will Larson</li> </ul> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1477
sS'dateCreated'
p1478
(ixmlrpclib
DateTime
p1479
(dp1480
g32
S'20130202T23:10:31'
p1481
sbsS'wp_author_display_name'
p1482
S'Michael Bauer'
p1483
sS'link'
p1484
S'http://schoolofdata.org/handbook/courses/scraping/'
p1485
sS'page_status'
p1486
S'publish'
p1487
sS'categories'
p1488
(lp1489
sS'wp_page_template'
p1490
S'default'
p1491
sS'mt_allow_pings'
p1492
I0
sS'date_created_gmt'
p1493
(ixmlrpclib
DateTime
p1494
(dp1495
g32
S'20130202T21:10:31'
p1496
sbssS'2885'
p1497
(dp1498
S'wp_author'
p1499
S'Michael Bauer'
p1500
sS'userid'
p1501
S'2191'
p1502
sS'excerpt'
p1503
g8
sS'wp_page_parent_id'
p1504
I2873
sS'mt_allow_comments'
p1505
I1
sS'text_more'
p1506
g8
sS'custom_fields'
p1507
(lp1508
(dp1509
S'value'
p1510
S'956820633'
p1511
sS'id'
p1512
S'7774'
p1513
sS'key'
p1514
S'dsq_thread_id'
p1515
sasS'wp_author_id'
p1516
S'2191'
p1517
sS'title'
p1518
S'Sort and Filter: The basics of spreadsheets'
p1519
sS'wp_password'
p1520
g8
sS'wp_page_parent_title'
p1521
S'Courses'
p1522
sS'page_id'
p1523
I2885
sS'wp_slug'
p1524
S'sort-and-filter'
p1525
sS'wp_page_order'
p1526
I0
sS'permaLink'
p1527
S'http://schoolofdata.org/handbook/courses/sort-and-filter/'
p1528
sS'description'
p1529
V<div class="content">  <div class="section" id="sort-and-filter-the-basics-of-spreadsheets">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>The most basic tool used for data wrangling is a spreadsheet. Data contained in a spreadsheet is in a structured, machine-readable format and hence can quickly be sorted and filtered. In other recipes in the handbook, you\u2019ll learn how to use the humble spreadsheet as a power tool for carrying out simple sums (finding the total, the average etc.), applying bulk processes, or pulling out different graphs and charts.</p> <p>By the end of the module, you will have learned how to download data, how to import it into a spreadsheet, and how to begin cleaning and interpreting it using the \u2018sort\u2019 and \u2018filter\u2019 functions.</p> </div> <div class="section" id="spreadsheets-an-overview"> <h2>Spreadsheets: An Overview</h2> <p>Nowadays spreadsheets are widespread so a lot of people are familiar with them already. A variety of spreadsheet programs and applications exist. For example Microsoft\u2019s Office package comes with Excel, the OpenOffice package comes with Calc and so on. Not surprisingly, Google decided to add spreadsheets to their documents package. Since it does not require you to purchase or install any additional software, we will be using Google Spreadsheets for this course.</p> <p>Depending on what you want to do you might consider using different spreadsheet software. Here are some of the considerations you might make when picking your weapon of choice:</p> <table border="1" class="docutils"> <colgroup> <col width="21%"> <col width="22%"> <col width="28%"> <col width="28%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">Spreadsheet</th> <th class="head">Google Spreadsheets</th> <th class="head">Open(Libre)Office</th> <th class="head">Microsoft Excel</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>Usage</td> <td>Free (as in Beer)</td> <td>Free (as in Freedom)</td> <td>Commercial</td> </tr> <tr class="row-odd"><td>Data Storage</td> <td>Google Drive</td> <td>Your hard disk</td> <td>Your hard disk</td> </tr> <tr class="row-even"><td>Needs Internet</td> <td>Yes</td> <td>No</td> <td>No</td> </tr> <tr class="row-odd"><td>Installation required</td> <td>No</td> <td>Yes</td> <td>Yes</td> </tr> <tr class="row-even"><td>Collaboration</td> <td>Yes</td> <td>No</td> <td>No</td> </tr> <tr class="row-odd"><td>Sharing results</td> <td>Easy</td> <td>Harder</td> <td>Harder</td> </tr> <tr class="row-even"><td>Visualizations</td> <td>Large range</td> <td>Basic charts</td> <td>Basic charts</td> </tr> </tbody> </table> </div> <div class="section" id="creating-a-spreadsheet-and-uploading-data"> <h2>Creating a spreadsheet and uploading data</h2> <p>In this course we will use Google docs for our data-wrangling - it allows you to start right away without need of installing software. Since the data we are working with is already public we also don\u2019t need to worry about the fact that it is not stored on our local drive.</p> <div class="section" id="walktrough-creating-a-spreadsheet-and-uploading-data"> <h3>Walktrough: Creating a Spreadsheet and uploading data.</h3> <ol class="arabic"> <li><p class="first">Head over to Google docs.</p> </li> <li><p class="first">If you are not yet logged in to Google docs, you need to login.</p> </li> <li><p class="first">The first step is going to be creating a new spreadsheet.</p> </li> <li><p class="first">Do this by clicking the <tt class="docutils literal"><span class="pre">create</span></tt> button to the left and select spreadsheet.</p> <img alt="http://farm9.staticflickr.com/8448/7871786616_ef5892fe33_o_d.jpg" src="http://farm9.staticflickr.com/8448/7871786616_ef5892fe33_o_d.jpg"> </li> <li><p class="first">Doing so will create a new spreadsheet for you.</p> </li> <li><p class="first">Let\u2019s upload some data.</p> </li> <li><p class="first">You will need the file we downloaded from the World Bank in the last tutorial. If you haven\u2019t done the tutorial or lost the file: download it <a class="reference external" href="http://dump.tentacleriot.eu/wb-gdp-health-life.csv">here</a> .</p> </li> <li><p class="first">In your spreadsheet select <tt class="docutils literal"><span class="pre">import</span></tt> from the <tt class="docutils literal"><span class="pre">file</span></tt> menu. This will open a dialog for you.</p> </li> <li><p class="first">Select the file you downloaded.</p> </li> <li><p class="first">Don\u2019t forget to select <tt class="docutils literal"><span class="pre">insert</span> <span class="pre">new</span> <span class="pre">sheets</span></tt>, and click <tt class="docutils literal"><span class="pre">import</span></tt></p> <img alt="http://farm9.staticflickr.com/8306/7872679284_c321614681_b_d.jpg" src="http://farm9.staticflickr.com/8306/7872679284_c321614681_b_d.jpg"> </li> </ol> </div> </div> <div class="section" id="navigating-and-using-the-spreadsheet"> <h2>Navigating and using the Spreadsheet</h2> <p>Now we loaded some data let\u2019s deal with the basics of spreadsheets. A spreadsheet is basically a table of \u201ccells\u201d in which you can input data. The cells are organized in \u201crows\u201d and \u201ccolumns\u201d. Typically rows are labeled by numbers, columns by letters. This also means cells can be addressed by their \u201ccolumn\u201d and \u201crow\u201d coordinates. The cell A1 denotes the cell in the first row in the first column, A2 the one in the second row, B1 the one in the second column and so on.</p> <p>To enter or change data in a cell click on it and start typing - this will change the contents of the cell. Basic navigation can be done this way or via keyboard. Find a list of keyboard shortcuts good to know below:</p> <table border="1" class="docutils"> <colgroup> <col width="22%"> <col width="78%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">Key or Combination</th> <th class="head">What it does</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>Tab</td> <td>End input on the current cell and jump to the cell right to the current one</td> </tr> <tr class="row-odd"><td>Enter</td> <td>End input and jump to the next row (This will try to be intelligent, so if you\u2019re entering multiple columns, it will jump to the first column you are entering</td> </tr> <tr class="row-even"><td>Up</td> <td>Move to the cell one row up</td> </tr> <tr class="row-odd"><td>Down</td> <td>Move to the cell one row down</td> </tr> <tr class="row-even"><td>Left</td> <td>Move to the cell left</td> </tr> <tr class="row-odd"><td>Right</td> <td>Move to the cell on the Right</td> </tr> <tr class="row-even"><td>Ctrl+&lt;direction&gt;</td> <td>Move to the outermost cell in the direction given</td> </tr> <tr class="row-odd"><td>Shift+&lt;direction&gt;</td> <td>Select the current cell and the cell in &lt;direction&gt;</td> </tr> <tr class="row-even"><td>Ctrl+Shift+&lt;direction&gt;</td> <td>Select all cells from the current to the outermost cell in &lt;direction&gt;</td> </tr> <tr class="row-odd"><td>Ctrl+c</td> <td>Copy \u2013 copies the selected cells into the clipboard</td> </tr> <tr class="row-even"><td>Ctrl+v</td> <td>Paste \u2013 pastes the clipboard</td> </tr> <tr class="row-odd"><td>Ctrl+x</td> <td>Cut \u2013 copies the selected cells into the clipboard and removes them from their original position</td> </tr> <tr class="row-even"><td>Ctrl+z</td> <td>Undo \u2013 undoes the last change you made</td> </tr> <tr class="row-odd"><td>Ctrl+y</td> <td>Redo \u2013 undoes an undo</td> </tr> </tbody> </table> <p><strong>Tip:</strong> Practice a bit, and you will find that you will become a lot faster using the keyboard than the mouse!</p> </div> <div class="section" id="locking-rows-and-columns"> <h2>Locking Rows and Columns</h2> <p>The spreadsheet we are working on is quite large. You will notice, that while scrolling the column with the column labels will frequently disappear, leaving you quite lost. The same with the country names. To avoid this you can \u201clock\u201d rows and columns so they don\u2019t disappear.</p> <div class="section" id="walkthrough-locking-the-top-row"> <h3>Walkthrough: Locking the top row</h3> <ol class="arabic"> <li><p class="first">Go to the Spreadsheet with our data and scroll to the top.</p> </li> <li><p class="first">On the top left, where the column and row labels are you\u2019ll see a small striped area.</p> <img alt="http://farm9.staticflickr.com/8322/8070104022_e233a65687_o_d.png" src="http://farm9.staticflickr.com/8322/8070104022_e233a65687_o_d.png"> </li> <li><p class="first">Hover over the striped bar on top of box showing row \u201c1\u201d. A hand shaped cursor should appear, click and drag it down one row.</p> </li> <li><p class="first">Your result should look like this:</p> <img alt="http://farm9.staticflickr.com/8176/8070115059_d960b3d09e_o_d.png" src="http://farm9.staticflickr.com/8176/8070115059_d960b3d09e_o_d.png"> </li> <li><p class="first">Try scrolling \u2013 notice how the top row remains fixed?</p> </li> </ol> </div> </div> <div class="section" id="sorting-data"> <h2>Sorting Data</h2> <p>The first thing to do when looking at a new dataset is to orient yourself. This involves at looking at maximum/minimum values and sorting the data so it makes sense. Let\u2019s look at the columns. We have data about the GDP, healthcare expenditure and life expectancy. Now let\u2019s explore the range of data by simply sorting.</p> <div class="section" id="walkthrough-sorting-a-dataset"> <h3>Walkthrough: Sorting a dataset</h3> <ol class="arabic"> <li><p class="first">Select the whole sheet you want to sort. Do this by clicking on the right upper grey field, between the row and column names.</p> <img alt="http://farm9.staticflickr.com/8322/8070104022_e233a65687_o_d.png" src="http://farm9.staticflickr.com/8322/8070104022_e233a65687_o_d.png"> </li> <li><p class="first">Select \u201cSort Range...\u201d from the \u201cData\u201d menu \u2013 this will open an additional Selection</p> </li> <li><p class="first">Check the \u201cData has header row\u201d checkbox</p> <img alt="http://farm9.staticflickr.com/8437/7872826062_017d1bfe19_o_d.jpg" src="http://farm9.staticflickr.com/8437/7872826062_017d1bfe19_o_d.jpg"> </li> <li><p class="first">Select the column you want to sort by in the dropdown menu</p> </li> <li><p class="first">Try to sort by GDP \u2013 Which country has the lowest?</p> </li> <li><p class="first">Try again with different values, can you sort ascending and descending?</p> </li> </ol> <p><strong>Tip:</strong> Be careful! A common mistake is to forget to select <em>all</em> the data. If you sort without selecting all the data, the rows will no longer match up.</p> <p><em>A version of this recipe can also be found in the Handbook.</em></p> </div> </div> <div class="section" id="filtering-data"> <h2>Filtering Data</h2> <p>The next thing commonly done with datasets is to filter out the values you don\u2019t want to see. Did you notice that some \u201cCountry Names\u201d are actually not countries? You\u2019ll find things like \u201cWorld\u201d, \u201cNorth America\u201d and \u201cArab World\u201d. Let\u2019s filter them out.</p> <div class="section" id="walkthrough-filtering-data"> <h3>Walkthrough: Filtering Data</h3> <ol class="arabic"> <li><p class="first">Select the whole table.</p> </li> <li><p class="first">Select \u201cFilter\u201d from the \u201cData\u201d menu.</p> </li> <li><p class="first">You now should see triangles next to the column names in the first row.</p> </li> <li><p class="first">Click on the triangle next to country name.</p> </li> <li><p class="first">you should see a long list of country names in the box.</p> <img alt="http://farm9.staticflickr.com/8316/8070573150_2cf29b914f_o_d.png" src="http://farm9.staticflickr.com/8316/8070573150_2cf29b914f_o_d.png"> </li> <li><p class="first">Find those that are not a country and click on them (the green check mark will disappear).</p> </li> <li><p class="first">Now you have successfully filtered your dataset.</p> </li> <li><p class="first">Go ahead and play with it - the data will not be deleted, it\u2019s just not displayed.</p> </li> </ol> <p><em>A version of this recipe can also be found in the Handbook.</em></p> </div> </div> <div class="section" id="summary"> <h2>Summary</h2> <p>In this module we talked about basic spreadsheet skills. We talked about data entry and how to sort and filter data using a spreadsheet program. In the <a class="reference external" href="http://schoolofdata.org/handbook/course/analyzing-data/">next course</a> we will talk about data analysis and introduce you to formulas.</p> </div> <div class="section" id="further-reading-and-references"> <h2>Further Reading and References</h2> <ol class="arabic simple"> <li><a class="reference external" href="http://support.google.com/drive/bin/topic.py?hl=en&amp;topic=2811806&amp;parent=2811739&amp;ctx=topi">Google help</a> on spreadsheets</li> </ol> </div> <div class="section" id="quiz"> <h2>Quiz</h2> <p>Check your sorting and filtering skills with the following quiz.</p> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/sort-and-filter.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../analyzing-data/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1530
sS'dateCreated'
p1531
(ixmlrpclib
DateTime
p1532
(dp1533
g32
S'20130202T23:10:34'
p1534
sbsS'wp_author_display_name'
p1535
S'Michael Bauer'
p1536
sS'link'
p1537
S'http://schoolofdata.org/handbook/courses/sort-and-filter/'
p1538
sS'page_status'
p1539
S'publish'
p1540
sS'categories'
p1541
(lp1542
sS'wp_page_template'
p1543
S'default'
p1544
sS'mt_allow_pings'
p1545
I0
sS'date_created_gmt'
p1546
(ixmlrpclib
DateTime
p1547
(dp1548
g32
S'20130202T21:10:34'
p1549
sbssS'56'
p1550
(dp1551
S'wp_author'
p1552
S'Laura Newman'
p1553
sS'userid'
p1554
S'923'
p1555
sS'excerpt'
p1556
g8
sS'wp_page_parent_id'
p1557
I0
sS'mt_allow_comments'
p1558
I0
sS'text_more'
p1559
g8
sS'custom_fields'
p1560
(lp1561
sS'wp_author_id'
p1562
S'923'
p1563
sS'title'
p1564
S'Links'
p1565
sS'wp_password'
p1566
g8
sS'wp_page_parent_title'
p1567
g8
sS'page_id'
p1568
I56
sS'wp_slug'
p1569
S'links'
p1570
sS'wp_page_order'
p1571
I0
sS'permaLink'
p1572
S'http://schoolofdata.org/links/'
p1573
sS'description'
p1574
VUseful links and resources to further information about the School of Data\u000a\u000a## Data Wrangling Handbook\u000a\u000aThe [Data Wrangling Handbook](http://schoolofdata.org/handbook) is currently in a draft form. The skeleton can be viewed online, and we will begin fleshing out content over the coming months. **Please help us with this initiative!** If you have experience with a particular tool, technique, process or pitfall, we\u2019d love you to help us write a short chapter. To offer feedback and to contribute, either (1) submit an issue to our [tracker](https://github.com/okfn/datawrangling/issues), (2) edit directly on [Github](https://github.com/okfn/datawrangling/), or (3) email schoolofdata [@] okfn.org with details of what you would like to add or change.\u000a\u000a## Relevant blog posts\u000a* [Kick Starting the School of Data](http://blog.okfn.org/2012/05/21/kick-starting-the-school-of-data/)\u000a* [Announcing the School of Data](http://blog.okfn.org/2012/02/08/announcing-the-school-of-data/)\u000a* Peter Murray-Rust blogs about the [Berlin sprint](http://blogs.ch.cam.ac.uk/pmr/2012/05/25/we-meet-in-berlin-to-prepare-the-schoolofdata/http://blogs.ch.cam.ac.uk/pmr/2012/05/25/we-meet-in-berlin-to-prepare-the-schoolofdata/)\u000a* Stefan Urbanek blogs about the School of Data [Data Pipeline](http://blog.databrewery.org/post/24161923818/school-of-data-the-pipeline)\u000a\u000a## Flickr photo gallery\u000a* [Photos from the Berlin sprint](http://www.flickr.com/photos/okfn/sets/72157629967938574/)\u000a* [Images of the Data Pipeline](http://www.flickr.com/photos/okfn/sets/72157630042589097/)\u000a\u000a<p>&nbsp;</p> \u000a<p>&nbsp;</p> \u000a\u000a
p1575
sS'dateCreated'
p1576
(ixmlrpclib
DateTime
p1577
(dp1578
g32
S'20120611T17:38:42'
p1579
sbsS'wp_author_display_name'
p1580
S'Laura Newman'
p1581
sS'link'
p1582
S'http://schoolofdata.org/links/'
p1583
sS'page_status'
p1584
S'publish'
p1585
sS'categories'
p1586
(lp1587
sS'wp_page_template'
p1588
S'default'
p1589
sS'mt_allow_pings'
p1590
I0
sS'date_created_gmt'
p1591
(ixmlrpclib
DateTime
p1592
(dp1593
g32
S'20120611T17:38:42'
p1594
sbssS'2888'
p1595
(dp1596
S'wp_author'
p1597
S'Michael Bauer'
p1598
sS'userid'
p1599
S'2191'
p1600
sS'excerpt'
p1601
g8
sS'wp_page_parent_id'
p1602
I2870
sS'mt_allow_comments'
p1603
I1
sS'text_more'
p1604
g8
sS'custom_fields'
p1605
(lp1606
sS'wp_author_id'
p1607
S'2191'
p1608
sS'title'
p1609
g8
sS'wp_password'
p1610
g8
sS'wp_page_parent_title'
p1611
S'Welcome to the School of Data Handbook'
p1612
sS'page_id'
p1613
I2888
sS'wp_slug'
p1614
S'gen'
p1615
sS'wp_page_order'
p1616
I0
sS'permaLink'
p1617
S'http://schoolofdata.org/handbook/gen/'
p1618
sS'description'
p1619
S'<div class="content">   <h1 id="index">Index</h1>  <div class="genindex-jumpbox"> <a href="#A"><strong>A</strong></a> | <a href="#B"><strong>B</strong></a> | <a href="#C"><strong>C</strong></a> | <a href="#D"><strong>D</strong></a> | <a href="#E"><strong>E</strong></a> | <a href="#G"><strong>G</strong></a> | <a href="#I"><strong>I</strong></a> | <a href="#J"><strong>J</strong></a> | <a href="#M"><strong>M</strong></a> | <a href="#N"><strong>N</strong></a> | <a href="#O"><strong>O</strong></a> | <a href="#P"><strong>P</strong></a> | <a href="#Q"><strong>Q</strong></a> | <a href="#R"><strong>R</strong></a> | <a href="#S"><strong>S</strong></a> | <a href="#T"><strong>T</strong></a> | <a href="#W"><strong>W</strong></a>  </div> <h2 id="A">A</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-anonymisation"><strong>Anonymisation</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-api"><strong>API</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-application-programming-interface"><strong>Application Programming Interface</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-attribution-licence"><strong>Attribution Licence</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="B">B</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-bittorrent"><strong>BitTorrent</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-boolean-logic"><strong>Boolean logic</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="C">C</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-categorical-data"><strong>Categorical Data</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-choropleth-map"><strong>Choropleth Map</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-comma-separated-values"><strong>Comma-separated Values</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-continuous-data"><strong>Continuous Data</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-crowdsourcing"><strong>Crowdsourcing</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-csv"><strong>CSV</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-curl"><strong>curl</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="D">D</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-dap"><strong>DAP</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-data-access-protocol"><strong>Data Access Protocol</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-discrete-data"><strong>Discrete Data</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="E">E</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-etherpad"><strong>etherpad</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="G">G</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-gdp"><strong>GDP</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-geocode"><strong>Geocode</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-geocoding"><strong>Geocoding</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-geojson"><strong>GeoJSON</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="I">I</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-intellectual-property-rights"><strong>Intellectual property rights</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-ip-rights"><strong>IP rights</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="J">J</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-json"><strong>JSON</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="M">M</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-machine-readable"><strong>Machine-readable</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-mean"><strong>Mean</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-median"><strong>Median</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="N">N</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-normal-distribution"><strong>Normal Distribution</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="O">O</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-open-data"><strong>Open Data</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-open-standards"><strong>Open standards</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="P">P</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-percentiles"><strong>Percentiles</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-public-domain"><strong>Public domain</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="Q">Q</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-qualitative-data"><strong>Qualitative Data</strong></a> </dt>   <dt><a href="appendix/glossary.html#term-quantitative-data"><strong>Quantitative Data</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-quartiles"><strong>Quartiles</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="R">R</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-readme"><strong>Readme</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="S">S</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-scraping"><strong>Scraping</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-share-alike-licence"><strong>Share-alike Licence</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="T">T</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-tab-separated-values"><strong>Tab-separated values</strong></a> </dt>  </dl></td> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-taxonomy"><strong>Taxonomy</strong></a> </dt>  </dl></td> </tr></table>  <h2 id="W">W</h2> <table style="width: 100%" class="indextable genindextable"><tr> <td style="width: 33%" valign="top"><dl>  <dt><a href="appendix/glossary.html#term-web-api"><strong>Web API</strong></a> </dt>  </dl></td> </tr></table>    <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p1620
sS'dateCreated'
p1621
(ixmlrpclib
DateTime
p1622
(dp1623
g32
S'20130202T23:10:42'
p1624
sbsS'wp_author_display_name'
p1625
S'Michael Bauer'
p1626
sS'link'
p1627
S'http://schoolofdata.org/handbook/gen/'
p1628
sS'page_status'
p1629
S'publish'
p1630
sS'categories'
p1631
(lp1632
sS'wp_page_template'
p1633
S'default'
p1634
sS'mt_allow_pings'
p1635
I0
sS'date_created_gmt'
p1636
(ixmlrpclib
DateTime
p1637
(dp1638
g32
S'20130202T21:10:42'
p1639
sbssS'2889'
p1640
(dp1641
S'wp_author'
p1642
S'Michael Bauer'
p1643
sS'userid'
p1644
S'2191'
p1645
sS'excerpt'
p1646
g8
sS'wp_page_parent_id'
p1647
I2870
sS'mt_allow_comments'
p1648
I1
sS'text_more'
p1649
g8
sS'custom_fields'
p1650
(lp1651
(dp1652
S'value'
p1653
S'1123943073'
p1654
sS'id'
p1655
S'8205'
p1656
sS'key'
p1657
S'dsq_thread_id'
p1658
sasS'wp_author_id'
p1659
S'2191'
p1660
sS'title'
p1661
S'Recipes'
p1662
sS'wp_password'
p1663
g8
sS'wp_page_parent_title'
p1664
S'Welcome to the School of Data Handbook'
p1665
sS'page_id'
p1666
I2889
sS'wp_slug'
p1667
S'recipes'
p1668
sS'wp_page_order'
p1669
I0
sS'permaLink'
p1670
S'http://schoolofdata.org/handbook/recipes/'
p1671
sS'description'
p1672
V<div class="content">  <div class="section" id="recipes">   <p>Sometimes you\u2019re not hungry for a background heavy lunch but like to snack on something fast: Here are some recipes! This section contains small snippets that will help you in the process of data wrangling. They might be small useful tips of full blown tutorials on tools or topics. Come in and find out!</p> <div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="how-to-find-data/">How to find data</a><ul> <li class="toctree-l2"><a class="reference internal" href="how-to-find-data/#edited-directories">Edited directories</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="getting-data-from-world-bank/">Walkthrough: Downloading Data from the World Bank</a></li> <li class="toctree-l1"><a class="reference internal" href="liberating-html-tables/">Liberating HTML Data Tables</a><ul> <li class="toctree-l2"><a class="reference internal" href="liberating-html-tables/#screenscraping-html-tables-using-google-spreadsheets">Screenscraping HTML Tables Using Google Spreadsheets</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="scraper-extension-for-chrome/">Scraping websites using the Scraper extension for Chrome</a><ul> <li class="toctree-l2"><a class="reference internal" href="scraper-extension-for-chrome/#walkthrough-scraping-a-website-with-the-scraper-extension">Walkthrough: Scraping a website with the Scraper extension</a></li> <li class="toctree-l2"><a class="reference internal" href="scraper-extension-for-chrome/#walkthrough-extended-scraping-with-the-scraper-extension">Walkthrough: extended scraping with the Scraper extension</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="introduction-to-html/">A short introduction to HTML</a><ul> <li class="toctree-l2"><a class="reference internal" href="introduction-to-html/#walkthrough-exploring-html-with-google-chrome">Walkthrough: Exploring HTML with Google Chrome</a></li> <li class="toctree-l2"><a class="reference internal" href="introduction-to-html/#other-browsers">Other browsers</a></li> <li class="toctree-l2"><a class="reference internal" href="introduction-to-html/#html-elements">HTML Elements</a></li> <li class="toctree-l2"><a class="reference internal" href="introduction-to-html/#python-code-elements-for-scraping">Python code elements for scraping</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="scraping-beyond-the-basics/">Scraping - Beyond the Basics</a><ul> <li class="toctree-l2"><a class="reference internal" href="scraping-beyond-the-basics/#extracting-data">Extracting Data</a><ul> <li class="toctree-l3"><a class="reference internal" href="scraping-beyond-the-basics/#general-tips">General tips</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping-beyond-the-basics/#types-of-scrapers">Types of scrapers</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping-beyond-the-basics/#a-scraping-framework">A scraping framework</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping-beyond-the-basics/#dealing-with-javascript">Dealing with JavaScript</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping-beyond-the-basics/#dealing-with-pdf-content">Dealing with PDF content</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping-beyond-the-basics/#id1">General Tips</a></li> </ul> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="scraping-multiple-pages-with-refine-and-scraper/">Scraping multiple Pages using the Scraper Extension and Refine</a><ul> <li class="toctree-l2"><a class="reference internal" href="scraping-multiple-pages-with-refine-and-scraper/#walkthrough-getting-a-list-of-urls-with-scraper-extension">Walkthrough: Getting a list of URLs with scraper extension</a></li> <li class="toctree-l2"><a class="reference internal" href="scraping-multiple-pages-with-refine-and-scraper/#walkthrough-scraping-multiple-pages-using-refine">Walkthrough: Scraping multiple pages using Refine</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="cleaning-data-scraped-from-the-web/">Cleaning up Data Scraped from the Web</a><ul> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-scraped-from-the-web/#useful-clean-up-steps">Useful clean up steps</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-scraped-from-the-web/#clean-the/">Clean the HTML</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-scraped-from-the-web/#converting-yes-no-to-boolean-values">Converting yes/no to Boolean values</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-scraped-from-the-web/#converting-numbers-to-the-correct-type">Converting numbers to the correct type</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-scraped-from-the-web/#stripping-whitespace">Stripping whitespace</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-scraped-from-the-web/#converting-dates-to-a-machine-readable-format">Converting dates to a machine-readable format</a></li> </ul> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="sorting-data-with-spreadsheets/">Sorting Data with Spreadsheets</a><ul> <li class="toctree-l2"><a class="reference internal" href="sorting-data-with-spreadsheets/#walkthrough-sorting-a-dataset">Walkthrough: Sorting a dataset.</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="filtering-data-with-spreadsheets/">Filtering Data</a><ul> <li class="toctree-l2"><a class="reference internal" href="filtering-data-with-spreadsheets/#walkthrough-filtering-data">Walkthrough: Filtering Data</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="formulae-with-spreadsheets/">Spreadsheet Formulae</a><ul> <li class="toctree-l2"><a class="reference internal" href="formulae-with-spreadsheets/#a-quick-introduction-to-common-spreadsheet-symbols">A quick introduction to common spreadsheet symbols</a><ul> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#the-symbols">The symbols</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#tip-get-your-symbols-in-the-right-order">Tip: Get your symbols in the right order</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#walkthrough-using-spreadsheets-to-add-up-values">Walkthrough: Using spreadsheets to add up values.</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#walkthrough-using-a-spreadsheet-to-subtract-values">Walkthrough: Using a spreadsheet to subtract values.</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#walkthrough-multiplication-and-division">Walkthrough: Multiplication and Division</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#walkthrough-copying-formulae-sideways">Walkthrough: Copying formulae sideways</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#walkthrough-minimum-and-maximum-values">Walkthrough: Minimum and Maximum Values</a></li> <li class="toctree-l3"><a class="reference internal" href="formulae-with-spreadsheets/#walkthrough-dealing-with-empty-cells">Walkthrough: Dealing with empty cells</a></li> </ul> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="geocoding/">Geocoding Data in a Google Docs Spreadsheet</a><ul> <li class="toctree-l2"><a class="reference internal" href="geocoding/#app-script">App Script</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="cleaning-data-with-spreadsheets/">Using a spreadsheet to clean up a dataset</a><ul> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#introduction">Introduction</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#what-is-this-recipe-and-what-do-you-get-out-of-it">What is this recipe and what do you get out of it?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#get-set-up-data-and-tools-you-will-need-to-follow-this-recipe">Get set up: data and tools you will need to follow this recipe</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#problem-1-showing-the-data-plainly">Problem 1: Showing the data plainly</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#whats-the-problem">What\u2019s the problem?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#whats-the-solution">What\u2019s the solution?</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#problem-2-whitespace-and-new-lines-data-that-shouldnt-be-there">Problem 2: Whitespace and new lines - data that shouldn\u2019t be there</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id1">What\u2019s the problem?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id4">What\u2019s the solution?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#use-the-trim-and-clean-functions">Use the TRIM and CLEAN functions</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#problem-3-blank-cells-missing-data-that-should-be-there">Problem 3: Blank cells - missing data that should be there</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id5">What\u2019s the problem?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id6">What\u2019s the solution?</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#problem-4-fixing-numbers-that-arent-numbers">Problem 4: Fixing numbers that aren\u2019t numbers</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id7">What\u2019s the problem?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id8">What\u2019s the solution?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#thats-some-crazy-stuff-dude-explain-yourself">That\u2019s some crazy stuff, dude! Explain yourself.</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#refine-the-solution-to-remove-the-errors">Refine the solution to remove the errors</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#problem-5-structural-problems-data-in-inconvenient-places">Problem 5: Structural problems - data in inconvenient places</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id9">What\u2019s the problem?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id10">What\u2019s the solution?</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#problem-6-from-banabas-to-bananas-dealing-with-inconsistencies-in-data">Problem 6: from \u201cbanabas\u201d to \u201cbananas\u201d - dealing with inconsistencies in data</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id11">What\u2019s the problem?</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-data-with-spreadsheets/#id12">What\u2019s the solution?</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-spreadsheets/#finishing-touches">Finishing touches</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="cleaning-data-with-refine/">Cleaning Data with Refine</a><ul> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#what-youll-need">What you\u2019ll need:</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#step-1-creating-a-new-project">Step 1: Creating a new Project</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#step-2-sorting-and-facetting">Step 2: Sorting and Facetting</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#walkthrough-facetting-rows-based-on-a-column">Walkthrough: Facetting rows based on a column</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#step-3-dealing-with-blank-cells">Step 3 Dealing with Blank Cells</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#step-4-fighting-the-invisible-man">Step 4: Fighting the Invisible Man</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#step-5-reconciling-categories">Step 5. Reconciling categories</a></li> <li class="toctree-l2"><a class="reference internal" href="cleaning-data-with-refine/#step-6-splitting-columns">Step 6: Splitting Columns</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="line-charts-from-spreadsheets/">Creating Line Charts</a></li> <li class="toctree-l1"><a class="reference internal" href="scatterplots-from-spreadsheets/">Walkthrough: Scatterplot</a></li> <li class="toctree-l1"><a class="reference internal" href="choropleth-maps-from-spreadsheets/">Creating a Choropleth map</a></li> <li class="toctree-l1"><a class="reference internal" href="publishing-work-online/">Walkthrough: Presenting our information as a webpage</a></li> </ul> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1673
sS'dateCreated'
p1674
(ixmlrpclib
DateTime
p1675
(dp1676
g32
S'20130202T23:10:45'
p1677
sbsS'wp_author_display_name'
p1678
S'Michael Bauer'
p1679
sS'link'
p1680
S'http://schoolofdata.org/handbook/recipes/'
p1681
sS'page_status'
p1682
S'publish'
p1683
sS'categories'
p1684
(lp1685
sS'wp_page_template'
p1686
S'default'
p1687
sS'mt_allow_pings'
p1688
I0
sS'date_created_gmt'
p1689
(ixmlrpclib
DateTime
p1690
(dp1691
g32
S'20130202T21:10:45'
p1692
sbssS'3434'
p1693
(dp1694
S'wp_author'
p1695
S'Michael Bauer'
p1696
sS'userid'
p1697
S'2191'
p1698
sS'excerpt'
p1699
g8
sS'wp_page_parent_id'
p1700
I2889
sS'mt_allow_comments'
p1701
I1
sS'text_more'
p1702
g8
sS'custom_fields'
p1703
(lp1704
(dp1705
S'value'
p1706
S'1121101354'
p1707
sS'id'
p1708
S'7782'
p1709
sS'key'
p1710
S'dsq_thread_id'
p1711
sasS'wp_author_id'
p1712
S'2191'
p1713
sS'title'
p1714
S'Liberating HTML Data Tables'
p1715
sS'wp_password'
p1716
g8
sS'wp_page_parent_title'
p1717
S'Recipes'
p1718
sS'page_id'
p1719
I3434
sS'wp_slug'
p1720
S'liberating-html-tables'
p1721
sS'wp_page_order'
p1722
I0
sS'permaLink'
p1723
S'http://schoolofdata.org/handbook/recipes/liberating-html-tables/'
p1724
sS'description'
p1725
V<div class="content">  <div class="section" id="liberating-html-data-tables">   <p><em>Section author: Tony Hirst (psychemedia on Twitter)</em></p> <p>It\u2019s not uncommon to see small data sets published on the web using an HTML table element. If you have a quick click around Wikipedia, you\u2019re likely to find a wide variety of examples. Some sites will use Javascript libraries to enhance the presentation or usability of a table, for example, by making columns sortable; but most of the time, we are faced with a flat HTML table, and the data locked in it.</p> <p>In this section, we look at some quick tricks for liberating data from HTML tables on public webpages and turning them into something more useful.</p> <div class="section" id="screenscraping-html-tables-using-google-spreadsheets"> <h2>Screenscraping HTML Tables Using Google Spreadsheets</h2> <p>The Google spreadsheet formula:</p> <div class="highlight-python"><pre>=importHTML("","table",N)</pre> </div> <p>will scrape a table from an HTML web page into a Google spreadsheet. The URL of the target web page, and the target table element both need to be in double quotes. The number N identifies the N\u2019th table in the page (counting starts at 1) as the target table for data scraping.</p> <p>So for example, have a look at the following Wikipedia page \u2013 <a class="reference external" href="http://en.wikipedia.org/wiki/List_of_largest_United_Kingdom_settlements_by_population">List of largest United Kingdom settlements by population</a> (found using a search on Wikipedia for UK city population):</p> <img alt="http://farm9.staticflickr.com/8303/7850933084_b188c02992_o_d.jpg" src="http://farm9.staticflickr.com/8303/7850933084_b188c02992_o_d.jpg"> <p>Grab the URL, fire up a new Google spreadsheet, and start to enter the formula <em>=importHTML</em> into one of the cells:</p> <img alt="http://farm9.staticflickr.com/8284/7850932578_b5db80ed9d_o_d.jpg" src="http://farm9.staticflickr.com/8284/7850932578_b5db80ed9d_o_d.jpg"> <p>Autocompletion works a treat, so finish off the expression and add in the URL and table number:</p> <div class="highlight-python"><pre>=importHTML("http://en.wikipedia.org/wiki/List_of_largest_United_Kingdom_settlements_by_population","table",2)</pre> </div> <p>The table numbers are not always obvious - start with 1 and increment the table number until you get the correct one.</p> <img alt="http://farm9.staticflickr.com/8438/7850932674_ef1514b761_o_d.jpg" src="http://farm9.staticflickr.com/8438/7850932674_ef1514b761_o_d.jpg"> <p>As if by magic, a data table appears in the spreadsheet, pulled in directly from the Wikipedia page:</p> <img alt="http://farm9.staticflickr.com/8425/7850932816_b5598830e0_o_d.jpg" src="http://farm9.staticflickr.com/8425/7850932816_b5598830e0_o_d.jpg"> <p>If the data in the HTML table is updated, the data in the spreadsheet will also be updated when you refresh or call the spreadsheet page. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1726
sS'dateCreated'
p1727
(ixmlrpclib
DateTime
p1728
(dp1729
g32
S'20130306T14:30:35'
p1730
sbsS'wp_author_display_name'
p1731
S'Michael Bauer'
p1732
sS'link'
p1733
S'http://schoolofdata.org/handbook/recipes/liberating-html-tables/'
p1734
sS'page_status'
p1735
S'publish'
p1736
sS'categories'
p1737
(lp1738
sS'wp_page_template'
p1739
S'default'
p1740
sS'mt_allow_pings'
p1741
I0
sS'date_created_gmt'
p1742
(ixmlrpclib
DateTime
p1743
(dp1744
g32
S'20130306T12:30:35'
p1745
sbssS'979'
p1746
(dp1747
S'wp_author'
p1748
S'Michael Bauer'
p1749
sS'userid'
p1750
S'2191'
p1751
sS'excerpt'
p1752
g8
sS'wp_page_parent_id'
p1753
I0
sS'mt_allow_comments'
p1754
I1
sS'text_more'
p1755
g8
sS'custom_fields'
p1756
(lp1757
(dp1758
S'value'
p1759
S'970598572'
p1760
sS'id'
p1761
S'1038'
p1762
sS'key'
p1763
S'dsq_thread_id'
p1764
sasS'wp_author_id'
p1765
S'2191'
p1766
sS'title'
p1767
S'Online Resources'
p1768
sS'wp_password'
p1769
g8
sS'wp_page_parent_title'
p1770
g8
sS'page_id'
p1771
I979
sS'wp_slug'
p1772
S'online-resources'
p1773
sS'wp_page_order'
p1774
I0
sS'permaLink'
p1775
S'http://schoolofdata.org/online-resources/'
p1776
sS'description'
p1777
S'[raw]\n<ul class="nav nav-tabs">\n  <li class="active"><a href="#getting" data-toggle="tab">Extracting ...</a></li>\n  <li><a href="#cleaning" data-toggle="tab">Cleaning ...</a></li>\n  <li><a href="#analysing" data-toggle="tab">Analysing ...</a></li>\n  <li><a href="#visualising" data-toggle="tab">Presenting ...</a></li>\n  <li><a href="#sharing" data-toggle="tab">Sharing Data</a></li>\n</ul>\n\n<div class="tab-content">\n  <div class="tab-pane active" id="getting">\n<ul class="thumbnails">\n<li>\n<a href="https://chrome.google.com/webstore/detail/scraper/mbigbapnjcgaffohmbkdlecaccepngjd" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Scraper Extension" src="http://farm9.staticflickr.com/8200/8264509972_02f91fb720_q_d.jpg">\n</div>\n<div class="caption offset2">\n<h3>Google Chrome Scraper Extension</h3>\n<p>The Scraper extension is one of the easiest ways to get data out of a webpage. Simply mark the section you want to extracts, right-click and choose "scrape similar...". It allows for more complex scrapings through xpath settings.</p>\n</div>\n</div>\n</a>\n</li>\n<li>\n<a href="http://support.google.com/drive/bin/answer.py?hl=en&answer=155182" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Google Docs" src="http://farm9.staticflickr.com/8243/8612339019_555d1f312c_q_d.jpg">\n</div>\n<div class="caption offset2">\n<h3>Google Spreadsheets</h3>\n<p>The Google Spreadsheet formula =importHTML() allows importing of simple html tables and lists to google spreadsheets. No more re-typing from web-pages or annoying cutting and pasting.</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://scraperwiki.com" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Scraperwiki" src="https://media.scraperwiki.com/images/testcard_medium.png">\n</div>\n<div class="caption offset2">\n<h3>Scraperwiki</h3>\n<p>When the data you want to scrape of the web becomes bigger and more complicated: Scraperwiki to the rescue. It is a wiki-style platform allowing you to write code, store data and run scrapers regulary. Also supports PDF scraping.</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://sourceforge.net/projects/gimagereader/" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="gImageReader" src="http://a.fsdn.com/con/app/proj/gimagereader/screenshots/275137/182/137">\n</div>\n<div class="caption offset2">\n<h3>gImageReader + Tesseract</h3>\n<p>Unlucky you: All you have is a scanned document or PDF? Don\'t despair: OCR can help. gImageReader provides a great frontend for Tesseract OCR and allows you to extract the text from PDFs.</p>\n</div>\n</div>\n</a></li>\n</ul>\n</div>\n  <div class="tab-pane" id="cleaning">\n<ul class="thumbnails">\n<li>\n<a href="http://openrefine.org" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Refine" src="http://farm9.staticflickr.com/8239/8570737075_710d853631_q_d.jpg">\n</div>\n<div class="caption offset2">\n<h3>Open Refine</h3>\n<p>Dirty Data? Who you gonna call? Refine! Started by freebase, bought by google - turned into an open source project. Refine has a unstable history. Nevertheless it is our favorite tool to clean up messy datasets. (Check our Recipe to learn how)</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://schoolofdata.org/handbook/courses/data-cleaning/" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://farm9.staticflickr.com/8086/8402327534_fb1e33e0a7_o_d.png">\n</div>\n<div class="caption offset2">\n<h3>Spreadsheets</h3>\n<p>Can\'t install refine? No problem: You can clean your data using spreadsheets. We do have a whole course dedicated to this. Don\'t hesitate!</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://nomenklatura.pudo.org/" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://farm9.staticflickr.com/8536/8613501226_e64fe65d77_q_d.jpg">\n</div>\n<div class="caption offset2">\n<h3>Nomenklatura</h3>\n<p>Developed by our own Friedrich Lindenberg, Nomenklatura allows you to reconcile categories using a web-based API. Thus once reconciled your scripts can automatically clean your data for you.</p>\n</div>\n</div>\n</a></li>\n</ul>\n</div>\n  <div class="tab-pane" id="analysing">\n<ul class="thumbnails">\n<li>\n<a href="http://schoolofdata.org/handbook/courses/analyzing-data/" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://farm9.staticflickr.com/8326/8076431832_1b47fcf367_q_d.jpg">\n</div>\n<div class="caption offset2">\n<h3>Spreadsheets</h3>\n<p>Spreadsheets are a good tool for basic analysis. Once you get a feeling for how to use formulas, you\'ll be doing simple analysis as you go.</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://www.r-project.org" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://www.r-project.org/Rlogo.jpg">\n</div>\n<div class="caption offset2">\n<h3>R</h3>\n<p>A powerful language to work with data. It might seem intimidating to learn programming simply to draw analysis from but R is so powerful you want to check it out once you get into serious data issues. It has evolved into one of the large Data Analysis languages out there.</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://gephi.org" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="https://gephi.org/wp-content/themes/gephi/images/illustrations/home_screenshot.jpg" width="150px">\n</div>\n<div class="caption offset2">\n<h3>Gephi</h3>\n<p>If you need to step up from tables to analyzing networks and graphs: Gephi is there for you. A powerful tool to visualise and analyse networks (think social networks, links between politicians and companies and so on)</p>\n</div>\n</div>\n</a></li>\n</ul>\n</div>\n  <div class="tab-pane" id="visualising">\n<ul class="thumbnails">\n<li>\n<a href="http://mapbox.com/tilemill/" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://farm9.staticflickr.com/8387/8613543050_3294a9f207_q_d.jpg">\n</div>\n<div class="caption offset2">\n<h3>Tile Mill</h3>\n<p>Tile Mill allows you to create a map from your data without being a GIS professional. Straight forward to use - try it out!</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://support.google.com/fusiontables/answer/2571232?hl=en" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://sites.google.com/site/fusiontablestalks/stories/images/ft_mapresult.png" width="150px">\n</div>\n<div class="caption offset2">\n<h3>Fusion Tables</h3>\n<p>Fusion Tables is Googles take on visualizing data. It allows for easy geocoding (to get your data on a map) and much more. If you want visualizations online: give it a try.</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://gephi.org" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="https://gephi.org/wp-content/themes/gephi/images/illustrations/home_screenshot.jpg" width="150px">\n</div>\n<div class="caption offset2">\n<h3>Gephi</h3>\n<p>Mentioned also in Analysis - Gephi allows you to visualize graphs and networks using different layouts. All without having to know too much about the theory behind it. Beautiful networks in a few clicks!</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://www-958.ibm.com/software/analytics/manyeyes/" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://www-958.ibm.com/software/analytics/manyeyes/files/thumbnails/2bc39468-5076-11e2-b5cf-000255111976.png?size=400x400&crop=228x135&gravity=center" width="150px">\n</div>\n<div class="caption offset2">\n<h3>Many Eyes</h3>\n<p>IBM\'s many eyes is a large toolkit for creating visualizations from Data. Get inspired by the various ways you can display your information (and pick the best for your purpose)</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://d3js.org" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://d3js.org/ex/chord.png" width="150px">\n</div>\n<div class="caption offset2">\n<h3>D3</h3>\n<p>D3 is a javascript library to create data driven documents (hence the 3 d\'s). While it has a steep learning curve - the results are stunningly beautiful. There is plenty of example code to base your visualization on!</p>\n</div>\n</div>\n</a></li>\n</ul>\n</div>\n<div class="tab-pane" id="sharing">\n<ul class="thumbnails">\n<li>\n<a href="http://datahub.io" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://farm9.staticflickr.com/8245/8612464961_9ff555410d_q_d.jpg" width="150px">\n</div>\n<div class="caption offset2">\n<h3>The Datahub</h3>\n<p>Need to share your data with everyone? Please proceed to the datahub. Based on the CKAN dataportal software this is the community driven data portal you want to share your data on.</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://drive.google.com" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="http://farm9.staticflickr.com/8448/7871786616_ccc3b95497_q_d.jpg" width="150px">\n</div>\n<div class="caption offset2">\n<h3>Google Docs</h3>\n<p>One of the easier ways to share data and documents - Simply use the share settings in your Google Doc and tell everyone where to find your stuff!</p>\n</div>\n</div>\n</a></li>\n<li>\n<a href="http://github.com" class="thumbnail sidelink">\n<div class="row">\n<div class="span2">\n <img alt="Spreadsheets" src="https://a248.e.akamai.net/assets.github.com/images/modules/logos_page/Octocat.png?1361400668" width="150px">\n</div>\n<div class="caption offset2">\n<h3>Github</h3>\n<p>You have more than data to share? Maybe some scripts as well? Github is there to coordinate your social coding efforts and allows others to suggest changes and improvements. Have an octocat!</p>\n</div>\n</div>\n</a></li>\n</ul>\n</div>\n</div>\n[/raw]'
p1778
sS'dateCreated'
p1779
(ixmlrpclib
DateTime
p1780
(dp1781
g32
S'20121212T12:18:53'
p1782
sbsS'wp_author_display_name'
p1783
S'Michael Bauer'
p1784
sS'link'
p1785
S'http://schoolofdata.org/online-resources/'
p1786
sS'page_status'
p1787
S'publish'
p1788
sS'categories'
p1789
(lp1790
sS'wp_page_template'
p1791
S'default'
p1792
sS'mt_allow_pings'
p1793
I1
sS'date_created_gmt'
p1794
(ixmlrpclib
DateTime
p1795
(dp1796
g32
S'20121212T12:18:53'
p1797
sbssS'4342'
p1798
(dp1799
S'wp_author'
p1800
S'Lucy Chambers'
p1801
sS'userid'
p1802
S'239'
p1803
sS'excerpt'
p1804
g8
sS'wp_page_parent_id'
p1805
I0
sS'mt_allow_comments'
p1806
I1
sS'text_more'
p1807
g8
sS'custom_fields'
p1808
(lp1809
(dp1810
S'value'
p1811
S'1231762067'
p1812
sS'id'
p1813
S'18898'
p1814
sS'key'
p1815
S'dsq_thread_id'
p1816
sasS'wp_author_id'
p1817
S'239'
p1818
sS'title'
p1819
S'School of Data Journalism - International Journalism Festival, Perugia '
p1820
sS'wp_password'
p1821
g8
sS'wp_page_parent_title'
p1822
g8
sS'page_id'
p1823
I4342
sS'wp_slug'
p1824
S'school-of-data-journalism-international-journalism-festival-perugia'
p1825
sS'wp_page_order'
p1826
I0
sS'permaLink'
p1827
S'http://schoolofdata.org/school-of-data-journalism-international-journalism-festival-perugia/'
p1828
sS'description'
p1829
S'In collaboration with the International Journalism Festival, the School of Data team helps to organise the School of Data Journalism at the International Journalism Festival, Perugia. \n\n<img src="http://static.tumblr.com/kngxwyl/2Tdmetx4u/jszx9l4boyoi59w80ha7.jpeg" alt="" />\n\nThis page contains the workshop materials from the 2013 School of Data Journalism.  \n\n<h3>\n\tVideo recordings&nbsp;</h3>\n\n<h4> Panel Discussions </h4> \n\n<ul> <li> <a href="http://www.youtube.com/watch?v=QTFPrQzcKUk&list=PLKD4nfGTHZ_OnQhdcF2wRHcXnsmesiGGR&index=2">Panel 1: The State of Data Journalism in 2013</a> </li> \n<li> <a href="http://www.youtube.com/watch?v=jEuc_BRpaxg&list=PLKD4nfGTHZ_OnQhdcF2wRHcXnsmesiGGR">Panel 2: Data and Investigations: Collaborating Across Borders</a> </li> \n<li> <a href="http://www.youtube.com/watch?v=sf9WYGculPQ&list=PLKD4nfGTHZ_OnQhdcF2wRHcXnsmesiGGR">Panel 3: Data Journalism in Southern Europe </a></li>\n<li> <a href="http://www.youtube.com/watch?v=4ngFH-8QeXs&list=UUlUtH75j6Bd7_Ty17jHVDPg&index=79">Panel 4: Covering Emergencies in the Age of Big Data</a> </li> \n\n</ul> \n\n<h4> Workshops </h4> \n\n<ul>\n\t<li>\n\t\t<a href="http://www.youtube.com/watch?v=M_Dx5A44hug">Workshop 1: Excel for Journalists</a>, with Steve Doig</li>\n<li> <a href="http://www.youtube.com/watch?v=uEFbdGlSAfQ&list=UUlUtH75j6Bd7_Ty17jHVDPg&index=155">Workshop 2: Social network analysis for journalists using the Twitter API</a></li> \n<li> <a href="http://www.youtube.com/watch?v=PryBX2CZ2wQ&list=UUlUtH75j6Bd7_Ty17jHVDPg&index=109">Workshop 3: Making visualisations - a survival guide</a> </li>\n<li> <a href="http://www.youtube.com/watch?v=6ySOdzioehs&list=UUlUtH75j6Bd7_Ty17jHVDPg&index=40">Workshop 4: Data visualisation, maps and timelines on a shoestring</a> </li> \n\n\n</ul>\n<h3>\n\tSlides, tutorials, articles</h3>\n<ul>\n\t<li>\n\t\t<a href="http://www.public.asu.edu/~sdoig/eur13/ifj13/">Tutorial and data files from&nbsp;Workshop 1: Excel for Journalists</a>, with Steve Doig (the tutorial is also available as a blog post <a href="http://schoolofdata.org/2013/04/24/using-excel-to-do-precision-journalism-an-update-from-the-school-of-data-journalism-in-perugia/">here</a>)</li>\n\t<li>\n\t\t<a href="http://schoolofdata.org/2013/04/25/social-network-analysis-for-journalists-using-the-twitter-api/">Tutorial from Workshop 2: Social Network Analysis for Journalists Using the Twitter API</a>, with Michael Bauer</li>\n\t<li>\n\t\t<a href="http://mihi-tr.github.io/ddjschool/">Walkthrough, data and tools</a> from&nbsp;Workshop 2: Social Network Analysis for Journalists Using the Twitter API, with Michael Bauer&nbsp;</li>\n\n<li> <a href="http://schoolofdata.org/2013/04/26/data-visualization-guidelines-by-gregor-aisch-international-journalism-festival/">Tipsheet Workshop 3: Making Data Visualisations: A Survival Guide</a> </li> What makes a great visualisation and what is the right type of visualisation for the job? by Gregor Aisch. </li> \n\n</ul> \n\n<h3> Coverage </h3> \n\n<ul> \n\t<li>\n\t\t<a href="http://www.journalism.co.uk/news/the-power-of-collaboration-in-data-journalism-investigations/s2/a552782/">Article about Panel 2:&nbsp;Data and Investigations: Collaborating Across Borders</a>&nbsp;by journalism.co.uk</li>\n\t<li>\n\t\t<a href="http://www.editorsweblog.org/2013/04/25/data-journalism-in-2013-lots-to-be-excited-about">Data journalism in 2013: lots to be excited about</a> - article about Panel 1: The State of Data Journalism in 2013 by Editors Weblog</li>\n</ul>\n<h3>\n\tTools and other resources</h3>\n<ul>\n\t<li>\n\t\t<a href="http://source.mozillaopennews.org/en-US/">Source</a>, an index of news developer source code, code walkthroughs and project breakdowns from journalist-coders</li>\n\t<li>\n\t\t<a href="http://schoolofdata.org/">School of Data</a>&nbsp;- online tutorials for working with data</li>\n\t<li>\n\t\t<a href="http://datajournalismhandbook.org/">The Data Journalism Handbook</a>&nbsp;- reference book about how to use data to improve the news authored by 70 data journalism practitioners and advocated</li>\n\t<li>\n\t\t<a href="http://openrefine.org/">Open Refine</a>&nbsp; for data cleaning</li>\n\t<li>\n\t\t<a href="https://gephi.org/">Gephi</a>&nbsp; for graph visualisations</li>\n\t<li>\n\t\t<a href="http://hashtagify.me/">Hashtagify</a>&nbsp; visualisation of Twitter hashtags related to a particular #tag)</li>\n\t<li>\n\t\t<a href="http://www.investigativedashboard.org/">Investigative Dashboard</a>&nbsp; methodologies, resources, and links for journalists to track money, shareholders, and company ownership across international borders</li>\n\t<li>\n\t\t<a href="http://source.mozillaopennews.org/en-US/articles/introducing-tabula/">Tabula</a>&nbsp; open-source application that allows users to upload PDFs and extract the data in them in CSV format</li>\n\n<li> <a href="http://analytics.topsy.com/">Topsy</a>.  Social Media Analysis tool mentioned in panel on Covering emergencies. </li>\n\n<li> <a href="http://datasift.com/">DataSift</a> Mentioned in panel on Covering emergencies. </li>\n\n<li> <a href="http://storyful.com/">Storyful</a> The social media Newswire for Newsrooms </li>  \n\n<li> <a href="http://corp.geofeedia.com/">GeoFeedia</a> Search and Monitor Social Media by Location. </li> \n\n<li> <a href="http://www.spokeo.com/">Spokeo</a> "Spokeo is a people search engine that organizes White-pages listings, Public Records and Social Network Information to help you safely find & learn about people." </li> \n\n<li> <a href="https://www.torproject.org/">The Tor project</a> Useful in environments likely to suffer from censorship. Tor is free software and an open network that helps you defend against a form of network surveillance that threatens personal freedom and privacy, confidential business activities and relationships, and state security known as traffic analysis. </li>  \n \n</ul>\n<h3>\n\tProjects and organisations</h3>\n<ul>\n\t<li>\n\t\t<a href="https://reportingproject.net/occrp/">Organized Crime and Corruption Reporting Project</a>&nbsp;(regional group of non-profit investigative centers and independent media stretching from Eastern Europe to Central Asia)</li>\n\t<li>\n\t\t<a href="http://wobbing.eu/">Wobbing.eu</a> (network of European journalists focused on Freedom of Information)</li>\n\t<li>\n\t\t<a href="http://www.icij.org/blog/2013/04/highlights-offshore-leaks-so-far">Offshore Leaks</a>&nbsp;(investigation into the people behind companies in tax havens worldwide)</li>\n\t<li>\n\t\t<a href="http://www.icij.org/">International Consortium of Investigative Journalists</a></li>\n\t<li>\n\t\t<a href="http://farmsubsidy.org/">FarmSubsidy.org</a></li>\n\t<li>\n\t\t<a href="http://fishsubsidy.org/">FishSubsidy.org</a></li>\n\t<li>\n\t\t<a href="http://www.propublica.org/">ProPublica</a>&nbsp;(US-based investigative journalism outlet)</li>\n\t<li>\n\t\t<a href="http://election2012.npr.org/bigboard/president.html">NPR Elections Big Board</a></li>\n\t<li>\n\t\t<a href="http://www.ire.org/">Investigative Reporters and Editors</a>&nbsp;(US-based association of investigative journalists)</li>\n\t<li>\n\t\t<a href="http://datajournalism.it/">Datajournalism.it</a> (Italian website dedicated to data journalism)</li>\n</ul>'
p1830
sS'dateCreated'
p1831
(ixmlrpclib
DateTime
p1832
(dp1833
g32
S'20130423T21:54:27'
p1834
sbsS'wp_author_display_name'
p1835
S'Lucy Chambers'
p1836
sS'link'
p1837
S'http://schoolofdata.org/school-of-data-journalism-international-journalism-festival-perugia/'
p1838
sS'page_status'
p1839
S'publish'
p1840
sS'categories'
p1841
(lp1842
sS'wp_page_template'
p1843
S'default'
p1844
sS'mt_allow_pings'
p1845
I1
sS'date_created_gmt'
p1846
(ixmlrpclib
DateTime
p1847
(dp1848
g32
S'20130423T21:54:27'
p1849
sbssS'3054'
p1850
(dp1851
S'wp_author'
p1852
S'Lucy Chambers'
p1853
sS'userid'
p1854
S'239'
p1855
sS'excerpt'
p1856
g8
sS'wp_page_parent_id'
p1857
I2889
sS'mt_allow_comments'
p1858
I1
sS'text_more'
p1859
g8
sS'custom_fields'
p1860
(lp1861
(dp1862
S'value'
p1863
S'1123058058'
p1864
sS'id'
p1865
S'8029'
p1866
sS'key'
p1867
S'dsq_thread_id'
p1868
sasS'wp_author_id'
p1869
S'239'
p1870
sS'title'
p1871
S'Sorting Data with Spreadsheets'
p1872
sS'wp_password'
p1873
g8
sS'wp_page_parent_title'
p1874
S'Recipes'
p1875
sS'page_id'
p1876
I3054
sS'wp_slug'
p1877
S'sorting-data-with-spreadsheets'
p1878
sS'wp_page_order'
p1879
I0
sS'permaLink'
p1880
S'http://schoolofdata.org/handbook/recipes/sorting-data-with-spreadsheets/'
p1881
sS'description'
p1882
V<div class="content">  <div class="section" id="sorting-data-with-spreadsheets">   <p><strong>This tutorial uses Google spreadsheets to sort data. Other spreadsheet programs work in a similar way - play around and see how they differ.</strong></p> <p>There is sample data for this tutorial <a class="reference external" href="http://dump.tentacleriot.eu/wb-gdp-health-life.csv..raw::html">here</a>.</p> <div class="section" id="walkthrough-sorting-a-dataset"> <h2>Walkthrough: Sorting a dataset.</h2> <ol class="arabic"> <li><p class="first">Select the whole sheet you want to sort. Do this by clicking on the right upper grey field, between the row and column names.</p> <img alt="http://farm9.staticflickr.com/8322/8070104022_e233a65687_o_d.png" src="http://farm9.staticflickr.com/8322/8070104022_e233a65687_o_d.png"> </li> <li><p class="first">Select \u201cSort Range...\u201d from the \u201cData\u201d menu \u2013 this will open an additional Selection</p> </li> <li><p class="first">Check the \u201cData has header row\u201d checkbox</p> <img alt="http://farm9.staticflickr.com/8437/7872826062_017d1bfe19_o_d.jpg" src="http://farm9.staticflickr.com/8437/7872826062_017d1bfe19_o_d.jpg"> </li> <li><p class="first">Select the column you want to sort by in the dropdown menu</p> </li> <li><p class="first">Try to sort by GDP \u2013 Which country has the lowest?</p> </li> <li><p class="first">Try again with different values, can you sort ascending and descending?</p> </li> </ol> <p><strong>Tip:</strong> Be careful! A common mistake is to forget to select <em>all</em> the data. If you sort without selecting all the data, the rows will no longer match up.</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p1883
sS'dateCreated'
p1884
(ixmlrpclib
DateTime
p1885
(dp1886
g32
S'20130209T14:16:05'
p1887
sbsS'wp_author_display_name'
p1888
S'Lucy Chambers'
p1889
sS'link'
p1890
S'http://schoolofdata.org/handbook/recipes/sorting-data-with-spreadsheets/'
p1891
sS'page_status'
p1892
S'publish'
p1893
sS'categories'
p1894
(lp1895
sS'wp_page_template'
p1896
S'default'
p1897
sS'mt_allow_pings'
p1898
I0
sS'date_created_gmt'
p1899
(ixmlrpclib
DateTime
p1900
(dp1901
g32
S'20130209T12:16:05'
p1902
sbssS'4715'
p1903
(dp1904
S'wp_author'
p1905
S'Lucy Chambers'
p1906
sS'userid'
p1907
S'239'
p1908
sS'excerpt'
p1909
g8
sS'wp_page_parent_id'
p1910
I925
sS'mt_allow_comments'
p1911
I1
sS'text_more'
p1912
g8
sS'custom_fields'
p1913
(lp1914
(dp1915
S'value'
p1916
S'1301628991'
p1917
sS'id'
p1918
S'28304'
p1919
sS'key'
p1920
S'dsq_thread_id'
p1921
sasS'wp_author_id'
p1922
S'239'
p1923
sS'title'
p1924
S'Data Expedition: Mapping the Garment Factories '
p1925
sS'wp_password'
p1926
g8
sS'wp_page_parent_title'
p1927
S'Data Expeditions'
p1928
sS'page_id'
p1929
I4715
sS'wp_slug'
p1930
S'data-expedition-mapping-the-garment-factories'
p1931
sS'wp_page_order'
p1932
I0
sS'permaLink'
p1933
S'http://schoolofdata.org/data-expeditions/data-expedition-mapping-the-garment-factories/'
p1934
sS'description'
p1935
V<a title="Women sewing at long tables next to tall windows in a garment factory. by Kheel Center, Cornell University, on Flickr" href="http://www.flickr.com/photos/kheelcenter/5279325617/"><img src="http://farm6.staticflickr.com/5043/5279325617_09c46cd325_z.jpg" alt="Women sewing at long tables next to tall windows in a garment factory." width="640" height="513" /></a>\u000a\u000aThe horrific factory collapse at <a href="http://en.wikipedia.org/wiki/2013_Savar_building_collapse">Rana Plaza</a> in Dhaka has brought the business practices of global garment brands, as well their thousands of suppliers, into the spotlight.\u000a<p dir="ltr">At School of Data we noted that corrupt and missing data were part of the story. Data on<a href="http://www.economist.com/news/asia/21577124-tragedy-shows-need-radical-improvement-building-standards-rags-ruins">building permits</a>in Bangladesh is largely unavailable due to lack of state inspections. However, after years of pressure on global apparel brands from labor activists, the publishing of garment factory<strong>supplier lists</strong>is becoming increasingly standardized.We\u2019re asking you to join us in mapping the data on garment factories.</p>\u000a<p style="text-align: center" dir="ltr"><strong>Data Expedition: Mapping the garment factories</strong></p>\u000a<p dir="ltr">When:<strong>Saturday May 25 - 12:00 BST to May 26 18:00 BST</strong>- link to<a href="http://www.timeanddate.com/worldclock/fixedtime.html?msg=Data+Expedition+from+School+of+Data%3A+Mapping+the+Garment+Factories&amp;iso=20130525T12&amp;p1=136">your timezone</a></p>\u000a<p dir="ltr"><strong></strong>We'll be looking for projects such as:</p>\u000a\u000a<ul>\u000a	<li>\u000a<p dir="ltr">Mapping garment factories locally and globally</p>\u000a</li>\u000a	<li>\u000a<p dir="ltr">Exploring the global supply chain of garment export and imports</p>\u000a</li>\u000a	<li>\u000a<p dir="ltr">Mapping the ownership of local factories and global brands with <a href="http://opencorporates.com">open company data</a></p>\u000a</li>\u000a	<li>\u000a<p dir="ltr">Finding stories and patterns in the connections between global brands and local garment factories</p>\u000a</li>\u000a</ul>\u000a<div class="well"><p dir="ltr">Sign up <a href="https://docs.google.com/a/okfn.org/forms/d/1p-3Bqr3MkIQZ_VoQqed7OKoAfmoYZffZaJ32HdLHNRE/viewform">here</a>for the Data Expedition!</p></div>\u000a<p dir="ltr">Please note that limited space is available.For more information about the Data Expedition format, we encourage you to<a href="http://schoolofdata.org/data-expeditions/">read</a>this article.</p>\u000a\u000a## How can I participate? \u000a\u000aThere are several ways you can get involved: \u000a\u000a1. <strong>Data Wrangler?</strong> Offer to hold a hangout with a small group to introduce them to a particular tool or trick e.g. Basic Mapping, Data Collection techniques. As soon as the expedition starts, problems with data will start arising and we'll need people to help guide people through. Sessions already proposed include mapping with TileMill and an introduction to working with Corporate Information. \u000a  If you're able to help out by offering a one hour introduction to a topic via Google Hangout (max 8 participants), simply add your name, skills and your availability during the weekend in this [sheet](http://bit.ly/17Lp4Ag). \u000a\u000a2. <strong>Lead a team!</strong> Are you able to help to coordinate a team on the day? This involves, helping your team to clarify a question they are answering and helping to shepherd them towards resources which could be useful to them and helping to ensure that they reach their final destination. The School of Data team will hold a specific hangout for team leads on Friday to prepare them for the weekend\u2019s activities. \u000a\u000a3. <strong>Join the data collection squad!</strong> Before the expedition: Help us collect and clean the supplier lists in [this GoogleDoc](http://bit.ly/14nuDkx) and join our GoogleHangout on Thursday, 23 May at 19:00 CET. Instructions and details can be found [here](http://bit.ly/18YvcEe).\u000a\u000a4. <strong>Participate! Join the investigation, the main part of the expedition which will take place on Saturday 25th May.</strong> We need storytellers, designers, engineers, scouts and analysts to make sense of the data and tell the real story. \u000a\u000aPlease make sure you are registered [here](http://bit.ly/17LoRgv) and that you select "Mapping the Garment Factories" in the "I'm Interested in..." section. <strong>Please note: you will need to be available for at least 6 hours during the expedition period and spaces will be tightly limited, so preference will be given to those who can definitely commit to the expedition. Spaces will be confirmed later in the week.</strong> \u000a\u000a\u000a
p1936
sS'dateCreated'
p1937
(ixmlrpclib
DateTime
p1938
(dp1939
g32
S'20130520T14:58:07'
p1940
sbsS'wp_author_display_name'
p1941
S'Lucy Chambers'
p1942
sS'link'
p1943
S'http://schoolofdata.org/data-expeditions/data-expedition-mapping-the-garment-factories/'
p1944
sS'page_status'
p1945
S'publish'
p1946
sS'categories'
p1947
(lp1948
sS'wp_page_template'
p1949
S'default'
p1950
sS'mt_allow_pings'
p1951
I1
sS'date_created_gmt'
p1952
(ixmlrpclib
DateTime
p1953
(dp1954
g32
S'20130520T14:58:07'
p1955
sbssS'3899'
p1956
(dp1957
S'wp_author'
p1958
S'Michael Bauer'
p1959
sS'userid'
p1960
S'2191'
p1961
sS'excerpt'
p1962
g8
sS'wp_page_parent_id'
p1963
I2873
sS'mt_allow_comments'
p1964
I1
sS'text_more'
p1965
g8
sS'custom_fields'
p1966
(lp1967
(dp1968
S'value'
p1969
S'1186332128'
p1970
sS'id'
p1971
S'13692'
p1972
sS'key'
p1973
S'dsq_thread_id'
p1974
sasS'wp_author_id'
p1975
S'2191'
p1976
sS'title'
p1977
S'Asking for Data'
p1978
sS'wp_password'
p1979
g8
sS'wp_page_parent_title'
p1980
S'Courses'
p1981
sS'page_id'
p1982
I3899
sS'wp_slug'
p1983
S'asking-for-data'
p1984
sS'wp_page_order'
p1985
I0
sS'permaLink'
p1986
S'http://schoolofdata.org/handbook/courses/asking-for-data/'
p1987
sS'description'
p1988
S'<div class="content">  <div class="section" id="asking-for-data">   <p>Heather Brooke, Steve Doig and Helen Darbishire describe how they use Freedom of Information Requests to liberate data from government sources.</p> <iframe id="ijf" src="http://webtv.journalismfestival.com/v/1302" width="400" height="280" frameborder="0" scrolling="no" allowtransparency="true"></iframe><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p1989
sS'dateCreated'
p1990
(ixmlrpclib
DateTime
p1991
(dp1992
g32
S'20130404T11:52:31'
p1993
sbsS'wp_author_display_name'
p1994
S'Michael Bauer'
p1995
sS'link'
p1996
S'http://schoolofdata.org/handbook/courses/asking-for-data/'
p1997
sS'page_status'
p1998
S'publish'
p1999
sS'categories'
p2000
(lp2001
sS'wp_page_template'
p2002
S'default'
p2003
sS'mt_allow_pings'
p2004
I0
sS'date_created_gmt'
p2005
(ixmlrpclib
DateTime
p2006
(dp2007
g32
S'20130404T09:52:31'
p2008
sbssS'4231'
p2009
(dp2010
S'wp_author'
p2011
S'Michael Bauer'
p2012
sS'userid'
p2013
S'2191'
p2014
sS'excerpt'
p2015
g8
sS'wp_page_parent_id'
p2016
I2889
sS'mt_allow_comments'
p2017
I1
sS'text_more'
p2018
g8
sS'custom_fields'
p2019
(lp2020
(dp2021
S'value'
p2022
S'1224415114'
p2023
sS'id'
p2024
S'18000'
p2025
sS'key'
p2026
S'dsq_thread_id'
p2027
sasS'wp_author_id'
p2028
S'2191'
p2029
sS'title'
p2030
S'Cleaning up Data Scraped from the Web'
p2031
sS'wp_password'
p2032
g8
sS'wp_page_parent_title'
p2033
S'Recipes'
p2034
sS'page_id'
p2035
I4231
sS'wp_slug'
p2036
S'cleaning-data-scraped-from-the-web'
p2037
sS'wp_page_order'
p2038
I0
sS'permaLink'
p2039
S'http://schoolofdata.org/handbook/recipes/cleaning-data-scraped-from-the-web/'
p2040
sS'description'
p2041
V<div class="content">  <div class="section" id="cleaning-up-data-scraped-from-the-web">   <p><em>Section author: Tim McNamara &lt;<a class="reference external" href="mailto:tim.mcnamara%40okfn.org">tim<span>.</span>mcnamara<span>@</span>okfn<span>.</span>org</a>&gt;</em></p> <p>This section deals with how you can clean up data - having extracted it from the web by scraping.</p> <div class="section" id="useful-clean-up-steps"> <h2>Useful clean up steps</h2> <p>One advantage of scraping data from the web is that you can actually have a better dataset than the original. Because you need to take steps to understand the dataset\u2019s inconsistencies, you can eliminate or at least minimise them. From another perspective, spending time cleaning up messy data can fill the large gaps that your processor will experience when waiting for it to be downloaded from its host.</p> <p>This section provides an example of several useful clean-up operations.</p> <ul class="simple"> <li>Cleaning HTML</li> <li>Strip whitespace</li> <li>Converting numbers to number types:</li> <li>Converting Boolean values: <cite>\u2018Yes\u2019 -&gt; True</cite></li> <li>Converting dates to machine-readable formats: <cite>\u201c24 June 2004\u201d -&gt; \u201c2004-06-24\u201d</cite></li> </ul> <div class="section" id="clean-the-html"> <h3>Clean the HTML</h3> <p>HTML you find on the web can be atrocious. Here\u2019s a quick function that can help. We make use of the <a href="#id1"><span class="problematic" id="id2">`lxml`_</span></a> library. It\u2019s very good at understanding broken HTML and will render a perfectly-formed page for your extractor functions.</p> <p>You may be concerned that this is computationally wasteful. This is true, but it can reduce lots of the irritation of extracting specific information from messy HTML:</p> <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">clean_page</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>\u000a    <span class="sd">"""</span>\u000a<span class="sd">    &gt;&gt;&gt; junk = "some random HTML&lt;P&gt; for you to try to parse&lt;/p&gt;"</span>\u000a<span class="sd">    &gt;&gt;&gt; clean_page(junk)</span>\u000a<span class="sd">    '&lt;div&gt;&lt;p&gt;some random HTML&lt;/p&gt;&lt;p&gt; for you to try to parse&lt;/p&gt;&lt;/div&gt;'</span>\u000a<span class="sd">    &gt;&gt;&gt; print clean_page(junk, pretty_print=True)</span>\u000a<span class="sd">    &lt;div&gt;</span>\u000a<span class="sd">    &lt;p&gt;some random HTML&lt;/p&gt;</span>\u000a<span class="sd">    &lt;p&gt; for you to try to parse&lt;/p&gt;</span>\u000a<span class="sd">    &lt;/div&gt;</span>\u000a<span class="sd">    """</span>\u000a    <span class="kn">from</span> <span class="nn">lxml.html</span> <span class="kn">import</span> <span class="n">fromstring</span>\u000a    <span class="kn">from</span> <span class="nn">lxml.html</span> <span class="kn">import</span> <span class="n">tostring</span>\u000a    <span class="k">return</span> <span class="n">tostring</span><span class="p">(</span><span class="n">fromstring</span><span class="p">(</span><span class="n">html</span><span class="p">),</span> <span class="n">pretty_print</span><span class="o">=</span><span class="n">pretty_print</span><span class="p">)</span>\u000a</pre></div> </div> </div> <div class="section" id="converting-yes-no-to-boolean-values"> <h3>Converting yes/no to Boolean values</h3> <p>Computers are far better at interpreting Boolean values when they are consistently provided. Irrespective of the programming language, normalising these values will make any automatic comparisons much richer:</p> <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">to_bool</span><span class="p">(</span><span class="n">yes_no</span><span class="p">,</span> <span class="n">none_to_false</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>\u000a    <span class="sd">"""</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('')</span>\u000a<span class="sd">    False</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool(None):</span>\u000a<span class="sd">    False</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('y')</span>\u000a<span class="sd">    True</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('yip')</span>\u000a<span class="sd">    True</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('Yes')</span>\u000a<span class="sd">    True</span>\u000a<span class="sd">    &gt;&gt;&gt; to_bool('nuh')</span>\u000a<span class="sd">    False</span>\u000a<span class="sd">    """</span>\u000a    <span class="n">yes_no</span> <span class="o">=</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>\u000a    <span class="k">if</span> <span class="ow">not</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="ow">and</span> <span class="n">none_to_false</span><span class="p">:</span>\u000a        <span class="k">return</span> <span class="bp">False</span>\u000a    <span class="k">if</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'y'</span><span class="p">):</span>\u000a        <span class="k">return</span> <span class="bp">True</span>\u000a    <span class="k">elif</span> <span class="n">yes_no</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'n'</span><span class="p">):</span>\u000a        <span class="k">return</span> <span class="bp">False</span>\u000a</pre></div> </div> </div> <div class="section" id="converting-numbers-to-the-correct-type"> <h3>Converting numbers to the correct type</h3> <p>If you\u2019re extracting numbers from HTML tables, they will each be represented as a <cite>string</cite> or Unicode, even though it would be more sensible to treat as integers or floating point numbers:</p> <div class="highlight-python"><pre>def to_int(number, european=False):\u000a    """\u000a    &gt;&gt;&gt; to_int('32')\u000a    32\u000a    &gt;&gt;&gt; to_int('3,998')\u000a    3998\u000a    &gt;&gt;&gt; to_int('3.998', european=True)\u000a    3998\u000a    """\u000a    if european:\u000a        number = number.replace('.', '')\u000a    else:\u000a        number = number.replace(',', '')\u000a    return int(number)\u000a\u000adef to_float(number, european=False)\u000a    """\u000a    &gt;&gt;&gt; to_float(u'42.1')\u000a    42.1\u000a    &gt;&gt;&gt; to_float(u'32,1', european=True)\u000a    32.1\u000a    &gt;&gt;&gt; to_float('3,132.87')\u000a    3132.87\u000a    &gt;&gt;&gt; to_float('3.132,87')\u000a    3132.87\u000a    &gt;&gt;&gt; to_float('(54.12)')\u000a    -54.12\u000a\u000a    Warning\u000a    -------\u000a\u000a    Incorrectly declaring `european` leads to troublesome results:\u000a\u000a    &gt;&gt;&gt; to_float('54.2', european=True)\u000a    542\u000a    """\u000a    import string\u000a    if european:\u000a        table = string.maketrans(',.','.,')\u000a        number = string.translate(number, table)\u000a    number = number.replace(',', '')\u000a    if number.startswith('(') and number.endswith(')'):\u000a        number = '-' + number[1:-1]\u000areturn float(number)</pre> </div> <p>If you are dealing with numbers from another region consistently, it may be appropriate to call upon the <cite>locale</cite> module. You will then have the advantage of code written in C, rather than Python:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">locale</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">setlocale</span><span class="p">(</span><span class="n">locale</span><span class="o">.</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s">''</span><span class="p">)</span>\u000a<span class="gp">&gt;&gt;&gt; </span><span class="n">locale</span><span class="o">.</span><span class="n">atoi</span><span class="p">(</span><span class="s">'1,000,000'</span><span class="p">)</span>\u000a<span class="go">1000000</span>\u000a</pre></div> </div> </div> <div class="section" id="stripping-whitespace"> <h3>Stripping whitespace</h3> <p>Removing whitespace from a string is built into many languages <cite>string</cite>. Removing left and right whitespace is highly recommended. Your database will be unable to sort data properly which have inconsistent treatment of whitespace:</p> <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">u'</span><span class="se">\u005cn\u005ct</span><span class="s">Title'</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>\u000a<span class="go">u'Title'</span>\u000a</pre></div> </div> </div> <div class="section" id="converting-dates-to-a-machine-readable-format"> <h3>Converting dates to a machine-readable format</h3> <p>Python is well blessed with a <a class="reference external" href="http://www.labix.org/python-dateutil..raw::html">mature date parser</a>, <cite>dateutil</cite>. We can take advantage of this to make light work an otherwise error-prone task.</p> <p><cite>dateutil</cite> can be reluctant to raise exceptions to dates that it doesn\u2019t understand. Therefore, it can be wise to store the original along with the parsed ISO formatted string. This can be used for manual checking if required later.</p> <p>Example code:</p> <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">date_to_iso</span><span class="p">(</span><span class="n">datestring</span><span class="p">):</span>\u000a    <span class="sd">"""</span>\u000a<span class="sd">    Takes a string of a human-readable date and</span>\u000a<span class="sd">    returns a machine-readable date string.</span>\u000a\u000a\u000a<span class="sd">    &gt;&gt;&gt; date_to_iso('20 July 2002')</span>\u000a<span class="sd">    '2002-07-20 00:00:00'</span>\u000a<span class="sd">    &gt;&gt;&gt; date_to_iso('June 3 2009 at 4am')</span>\u000a<span class="sd">    '2009-06-03 04:00:00'</span>\u000a<span class="sd">    """</span>\u000a    <span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>\u000a    <span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>\u000a    <span class="n">default</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>\u000a    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">datestring</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">))</span>\u000a</pre></div> </div> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2042
sS'dateCreated'
p2043
(ixmlrpclib
DateTime
p2044
(dp2045
g32
S'20130419T14:46:09'
p2046
sbsS'wp_author_display_name'
p2047
S'Michael Bauer'
p2048
sS'link'
p2049
S'http://schoolofdata.org/handbook/recipes/cleaning-data-scraped-from-the-web/'
p2050
sS'page_status'
p2051
S'publish'
p2052
sS'categories'
p2053
(lp2054
sS'wp_page_template'
p2055
S'default'
p2056
sS'mt_allow_pings'
p2057
I0
sS'date_created_gmt'
p2058
(ixmlrpclib
DateTime
p2059
(dp2060
g32
S'20130419T12:46:09'
p2061
sbssS'6'
p2062
(dp2063
S'wp_author'
p2064
S'Rufus Pollock'
p2065
sS'date_created_gmt'
p2066
(ixmlrpclib
DateTime
p2067
(dp2068
g32
S'20120321T10:27:26'
p2069
sbsS'excerpt'
p2070
g8
sS'wp_page_parent_id'
p2071
I0
sS'mt_allow_comments'
p2072
I0
sS'text_more'
p2073
g8
sS'custom_fields'
p2074
(lp2075
(dp2076
S'key'
p2077
S'_edit_last'
p2078
sS'id'
p2079
S'7'
p2080
sS'value'
p2081
S'2'
p2082
sa(dp2083
S'key'
p2084
S'_edit_lock'
p2085
sS'id'
p2086
S'8'
p2087
sS'value'
p2088
S'1366877396:2'
p2089
sa(dp2090
S'key'
p2091
S'_flattr_post_category'
p2092
sS'id'
p2093
S'16'
p2094
sS'value'
p2095
S'text'
p2096
sa(dp2097
S'key'
p2098
S'_flattr_post_customurl'
p2099
sS'id'
p2100
S'149'
p2101
sS'value'
p2102
g8
sa(dp2103
S'key'
p2104
S'_flattr_post_hidden'
p2105
sS'id'
p2106
S'17'
p2107
sS'value'
p2108
S'0'
p2109
sa(dp2110
S'key'
p2111
S'_flattr_post_language'
p2112
sS'id'
p2113
S'15'
p2114
sS'value'
p2115
S'en_GB'
p2116
sa(dp2117
S'key'
p2118
S'_wp_page_template'
p2119
sS'id'
p2120
S'9'
p2121
sS'value'
p2122
S'onecolumn-page.php'
p2123
sasS'wp_author_id'
p2124
S'2'
p2125
sS'title'
p2126
S'Home'
p2127
sS'wp_password'
p2128
g8
sS'wp_page_parent_title'
p2129
g8
sS'page_id'
p2130
I6
sS'wp_slug'
p2131
S'6-2'
p2132
sS'wp_page_order'
p2133
I0
sS'permaLink'
p2134
S'http://schoolofdata.org/6-2/'
p2135
sS'description'
p2136
S'<div class="banner full-width">\n<div class="row">\n  <div class="span4">\n    <h1>Learn to Work with Data</h1>\n    <p>Know nothing about data? We can get you started? Already a data ninja? We can still help you improve your data skills. Get started with one of our online courses now!</p>\n<a href="/handbook/courses/" class="btn btn-large btn-primary">Take a  Course Now &raquo;</a>\n  </div>\n  <div class="span8">\n    <img alt="" src="http://schoolofdata.org/files/2012/09/photos2.png">\n  </div>\n</div>\n</div>\n<div class="row pods">\n<div class="span12">[latest_posts]</div>\n</div>\n[notitle]\n[fullwidth]\n<style>\nbody > header {margin-bottom: 0px;}\ndiv#content { background-color: transparent; border: none; padding: 0px; }\n.banner.full-width, .banner.full-width:before, .banner.full-width:after {background-color: transparent; background-size: auto auto; background-repeat:no-repeat; box-shadow: 0 -5px 5px -5px rgba(0, 0, 0, 0.5) inset; margin-top: 5px;}\n.banner.full-width .row > div { padding-top:20px; }\n.banner.full-width p {font-size: 16px; color: #333333; line-height: normal; margin-bottom: 18px;}\n.banner.full-width img {display: block; text-align:center;}\n.row.pods {margin-top:20px;}\n.row.pods > .span4 > p {display:none;}\n</style>'
p2137
sS'dateCreated'
p2138
(ixmlrpclib
DateTime
p2139
(dp2140
g32
S'20120321T10:27:26'
p2141
sbsS'wp_author_display_name'
p2142
S'Rufus Pollock'
p2143
sS'link'
p2144
S'http://schoolofdata.org/6-2/'
p2145
sS'page_status'
p2146
S'publish'
p2147
sS'categories'
p2148
(lp2149
sS'wp_page_template'
p2150
S'onecolumn-page.php'
p2151
sS'mt_allow_pings'
p2152
I0
sS'userid'
p2153
S'2'
p2154
ssS'3942'
p2155
(dp2156
S'wp_author'
p2157
S'Michael Bauer'
p2158
sS'userid'
p2159
S'2191'
p2160
sS'excerpt'
p2161
g8
sS'wp_page_parent_id'
p2162
I0
sS'mt_allow_comments'
p2163
I1
sS'text_more'
p2164
g8
sS'custom_fields'
p2165
(lp2166
(dp2167
S'value'
p2168
S'1232727328'
p2169
sS'id'
p2170
S'19051'
p2171
sS'key'
p2172
S'dsq_thread_id'
p2173
sasS'wp_author_id'
p2174
S'2191'
p2175
sS'title'
p2176
S'Events'
p2177
sS'wp_password'
p2178
g8
sS'wp_page_parent_title'
p2179
g8
sS'page_id'
p2180
I3942
sS'wp_slug'
p2181
S'events'
p2182
sS'wp_page_order'
p2183
I0
sS'permaLink'
p2184
S'http://schoolofdata.org/events/'
p2185
sS'description'
p2186
VTo spread data skills around the world we organize or participate in events. We\u2019re particularly keen to work with NGOs and activists looking to turn data into evidence. We\u2019ll try and find a way to bring workshops and dataexpeditions wherever they are most needed, no matter what the situation, so please contact us and we\u2019re happy to talk!\u000a\u000aFor more information please <a href="/contact">get in touch</a>.\u000a\u000aAt the School of Data we hold the firm believe that these skills are best taught in hands-on approaches (do it, make mistakes, learn, repeat). We have two formats mirroring this thought:\u000a\u000a<h2>Data Expeditions</h2>\u000a\u000a<a href="/data-expeditions/">Data Expeditions</a> are short 2-5 hour events where a group of participants tackle a data related problem. In contrary to Data- and Hackathons, data expeditions do not focus on the outcome. Instead the participants are given a data task or problem, and assigned roles to help to solve it and have to manage and conduct a small data project in the short time they have. \u000a\u000a<h3>Past Events</h3>\u000a<ul>\u000a<li><a href="http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/">Data Expeditions at Mozilla Festival</a></li>\u000a<li><a href="http://schoolofdata.org/2013/02/26/data-expeditions-on-open-data-day/">Data Expeditions on Open Data Day 2013</a></li>\u000a</ul>\u000a\u000a<h2>Workshops</h2>\u000a\u000aWhile Data Expeditions focus on imaginary quests to encourage using data to solve an issue or investigate a question, Workshops focus on the very data the participants are working with - like a data clinic. Think Barcamps for data: Bring your data, issue or project and work on two intensive days on skills you need to improve your workflow! \u000a\u000aSessions during a workshop can range from straight-up talks: how to strategically address back a campaign with data via walkthroughs: making people work along to learn a new tool/skill to data clinics: where the participants project is dissected and discussed and small remedies are brought in to improve the workflow. See the video from our first workshop below:\u000a\u000a<iframe src="http://player.vimeo.com/video/63424029" width="500" height="281" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> <p><a href="http://vimeo.com/63424029">Wrangling For Watchdogs - A Workshop with School of Data</a> from <a href="http://vimeo.com/okf">Open Knowledge Foundation</a> on <a href="http://vimeo.com">Vimeo</a>.</p>\u000a<small>Video by <a href="http://yearofopensource.net">Sam Muirhead</a></small>\u000a\u000a<h3>Past Events</h3>\u000a<ul>\u000a<li><a href="http://schoolofdata.org/2013/03/15/wrangling-for-watchdogs-workshop-berlin/">Wrangling for Watchdogs</a></li>\u000a</ul>\u000a\u000a<h1>Regular Events</h1>\u000a\u000a<h2><a href="http://schoolofdata.org/school-of-data-journalism-international-journalism-festival-perugia/">School of Data Journalism, Perugia</a></h2>\u000a\u000a<div class="well">\u000a<a href="http://schoolofdata.org/school-of-data-journalism-international-journalism-festival-perugia/">This page</a> contains videos and links from the sessions from 2013! \u000a</div>\u000aThe first School of Data Journalism at the International Journalism Festival in Perugia was organised to coincide with the launch of the <a href="http://datajournalismhandbook.org/">Data Journalism Handbook</a>. Co-organised by the Open Knowledge Foundation and the European Journalism Centre, the school is back in 2013 with a new round of courses. \u000a\u000aA combination of panels and workshops, the School gives beginner and experienced journalists alike an oversight into the most innovative movements happening within the data journalism sphere. \u000a\u000a<a href="http://schoolofdata.org/school-of-data-journalism-international-journalism-festival-perugia/">See what happened at the School...</a>\u000a\u000a<img src="http://datadrivenjournalism.net/uploads/school_bus_perugia.jpg" />
p2187
sS'dateCreated'
p2188
(ixmlrpclib
DateTime
p2189
(dp2190
g32
S'20130424T09:44:20'
p2191
sbsS'wp_author_display_name'
p2192
S'Michael Bauer'
p2193
sS'link'
p2194
S'http://schoolofdata.org/events/'
p2195
sS'page_status'
p2196
S'publish'
p2197
sS'categories'
p2198
(lp2199
sS'wp_page_template'
p2200
S'default'
p2201
sS'mt_allow_pings'
p2202
I1
sS'date_created_gmt'
p2203
(ixmlrpclib
DateTime
p2204
(dp2205
g32
S'20130424T09:44:20'
p2206
sbssS'3472'
p2207
(dp2208
S'wp_author'
p2209
S'Lucy Chambers'
p2210
sS'userid'
p2211
S'239'
p2212
sS'excerpt'
p2213
g8
sS'wp_page_parent_id'
p2214
I0
sS'mt_allow_comments'
p2215
I1
sS'text_more'
p2216
g8
sS'custom_fields'
p2217
(lp2218
(dp2219
S'value'
p2220
S'1123625581'
p2221
sS'id'
p2222
S'8146'
p2223
sS'key'
p2224
S'dsq_thread_id'
p2225
sasS'wp_author_id'
p2226
S'239'
p2227
sS'title'
p2228
S'Learn '
p2229
sS'wp_password'
p2230
g8
sS'wp_page_parent_title'
p2231
g8
sS'page_id'
p2232
I3472
sS'wp_slug'
p2233
S'learn'
p2234
sS'wp_page_order'
p2235
I0
sS'permaLink'
p2236
S'http://schoolofdata.org/learn/'
p2237
sS'description'
p2238
S'<div style="border-color:#E0F5FA; border-style:solid; padding:1em; text-align:center; font-weight:bold; background-image:url(\'http://farm9.staticflickr.com/8486/8173093691_97b27dafc3_z.jpg\'); color:#FFFFFF; font-size:20px;" >\n\n\n<p class="white"> Want to know when we update our courses? We can email you to let you know when new material is added! </span> </p>  <br></br>\n\n<form method="post" action="http://lists.okfn.org/mailman/subscribe/school-of-data-announce"> \n\n<input onfocus="this.value=\'\'" type="text" font color="#D3D3D3" name="email" size="15" value="Your email"><br />\n \n<input type="submit" border="black" padding="3px" name="email-button" value="Keep me up to date!" target="_blank">\n\n</div> \n\n\n<div class="row" style="margin-top:15px; margin-bottom:10px;">\n<div class="span4">\n<div class="well">\n<h2><a href="http://schoolofdata.org/handbook/courses/"> Take a course online</a></h2> \n\nExplore a new topic, take quizzes and learn about the possibilities data wrangling skills can bring...\n</div>\n</div>\n<div class="span4">\n<div class="well">\n<h2><a href="http://schoolofdata.org/data-expeditions/">Join a Data Expedition</a> </strong></h2>\nThis is learning through exploration. You\'ll learn the data tricks you really need while getting hands-on and tackling real problems.\n</div>\n</div>\n</div>\n\n## You can also\n \n### <a href="http://schoolofdata.org/handbook/">Take a look in the Handbook for a recipe.</a> \n\nIf you already know what you\'re looking for or want to know how to use a specific tool or method, the handbook is the place to look! \n \n### [Come to an in-person event](http://schoolofdata.org/category/events/) \n\nWe also hold training events offline. Keep an eye on the [Events category](http://schoolofdata.org/category/events/) on the blog to stay up to date. \n\n## Get announcements or ask a question. \n\n<strong>Not sure what you want but want to stay in the loop?</strong> Join the [School of Data Announce List](http://lists.okfn.org/mailman/listinfo/school-of-data-announce), we\'ll keep you in the loop with the lastest happenings from the School of Data World. \n\n<strong>Don\'t see the recipe you need? Stuck on a data problem?</strong> Ask a question via the [School of Data Discussion List](http://lists.okfn.org/mailman/listinfo/school-of-data).'
p2239
sS'dateCreated'
p2240
(ixmlrpclib
DateTime
p2241
(dp2242
g32
S'20130307T18:53:34'
p2243
sbsS'wp_author_display_name'
p2244
S'Lucy Chambers'
p2245
sS'link'
p2246
S'http://schoolofdata.org/learn/'
p2247
sS'page_status'
p2248
S'publish'
p2249
sS'categories'
p2250
(lp2251
sS'wp_page_template'
p2252
S'default'
p2253
sS'mt_allow_pings'
p2254
I1
sS'date_created_gmt'
p2255
(ixmlrpclib
DateTime
p2256
(dp2257
g32
S'20130307T18:53:34'
p2258
sbssS'2873'
p2259
(dp2260
S'wp_author'
p2261
S'Michael Bauer'
p2262
sS'userid'
p2263
S'2191'
p2264
sS'excerpt'
p2265
g8
sS'wp_page_parent_id'
p2266
I2870
sS'mt_allow_comments'
p2267
I1
sS'text_more'
p2268
g8
sS'custom_fields'
p2269
(lp2270
(dp2271
S'value'
p2272
S'1120965792'
p2273
sS'id'
p2274
S'7766'
p2275
sS'key'
p2276
S'dsq_thread_id'
p2277
sasS'wp_author_id'
p2278
S'2191'
p2279
sS'title'
p2280
S'Courses'
p2281
sS'wp_password'
p2282
g8
sS'wp_page_parent_title'
p2283
S'Welcome to the School of Data Handbook'
p2284
sS'page_id'
p2285
I2873
sS'wp_slug'
p2286
S'courses'
p2287
sS'wp_page_order'
p2288
I0
sS'permaLink'
p2289
S'http://schoolofdata.org/handbook/courses/'
p2290
sS'description'
p2291
V<div class="content">  <div class="section" id="courses">   <p>Welcome to the School of Data courses. School of Data produces two types of material:</p> <div class="row" style="margin-top:15px; margin-bottom:10px;"> <div class="span4"> <div class="well"> <strong>Courses:</strong> explain <em>why</em> something is important and help you to understand the basic decisions involved in picking particular tools or approaches and where it is worth investing your time. </div> </div> <div class="span4"> <div class="well"> <strong>Recipes:</strong> explain <em>how</em> to do something and may advocate using a particular tool or method to do so. </div> </div> </div><p>Data might sound scary sometimes - don\u2019t worry, we\u2019re there to guide you through! If you have any questions about the material, simply drop us a line via the <a class="reference external" href="http://lists.okfn.org/mailman/listinfo/school-of-data">mailing list</a></p> <div class="section" id="data-fundamentals"> <h2>Data Fundamentals</h2> <p>The Data Fundamental modules provide a solid overview over the workflow with data guiding you from what data is, to how to make your data tell a story. The courses listed below should be seen as a whole, a quick overview of the elements involved in working with data.</p> <style>.thumbnails li > p {display:none;}</style> <ul class="thumbnails"> <li> <a href="what-is-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img alt="" src="http://farm9.staticflickr.com/8301/7871270682_d1da172951_q_d.jpg"> </div> <div class="caption offset2"> <h3>What is Data?</h3> <p>This course gives a short introduction in the world of data. If you are starting your journey into this wonderful land, this course is for you. The course covers basic concepts, different types of data and gives an introduction to machine readable data.</p> </div> </div> </a> </li> <li> <a href="data-provenance" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img alt="" src="http://farm9.staticflickr.com/8245/8612464961_9ff555410d_q.jpg"> </div> <div class="caption offset2"> <h3>Documenting your process</h3> <p>To make a credible and sustainable data project, you need to document your steps right from the beginning. This course contains tips and tricks and tools for doing so.</p> </div> </div> </a> </li> <li> <a href="finding-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img alt="" src="http://farm9.staticflickr.com/8070/8261230486_cd9aa3ebd5_q_d.jpg"> </div> <div class="caption offset2"> <h3>Finding Data</h3> <p>Don\u2019t know where to start looking for data? This section gives an introduction to data portals and different data sources. Finally we will walk you through how to use one sample data portal.</p> </div> </div> </a> </li> <li> <a href="sort-and-filter" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8448/7871786616_ccc3b95497_q_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>Sort and Filter</h3> <p> So you found and downloaded your dataset? What now? Sort and Filter introduces a powerful tool to manage data: Spreadsheets. Based on Google Spreadsheets, this Course introduces the basic functions as well how to sort and filter data to find what you might be interested in....</p> </div> </div> </a> </li> <li> <a href="analyzing-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8326/8076431832_1b47fcf367_q_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>Basic Analysis</h3> <p> Wonder how to make sense of the data? Basic Analysis will help you to understand what your data might mean. It also introduces spreadsheet formulas and helps you calculate more values out of what you already have. </p> </div> </div> </a> </li> <li> <a href="data-to-diagrams" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8466/8079925578_6ee66193ff_q_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>From Data to Diagrams</h3> <p> A picture says more than a thousand words - yeah but how do we turn a thousand words into a picture? This section will help you to understand basic data visualization and create them using Google spreadsheets. Visualizing data will help you to better understand the data you are handling.</p> </div> </div> </a> </li> <li> <a href="common-misconceptions" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8301/7899098946_4839cc2ed3_q_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>Common Misconceptions</h3> <p> Not everything is easily understood in dataland. In this course we give a short overview over common pitfalls when talking about data and how to avoid them. It can help you avoid the mistakes made as well as read other peoples claims more carefully. If you want to learn what to watch out for: join in! </p> </div> </div> </a> </li> <li> <a href="tell-me-a-story" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8195/8112418106_d524233c41_q_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>Tell me a Story</h3> <p> Data alone is meaningless and often boring. To understand it better you will need context. In this section we will talk about how to publish the data we worked on throughout the basic track. We will talk about how to identify key points of your data to help you use data to make your voice heard. </p> </div> </div> </a> </li>  </ul><div class="hidden" style="display: none;"><div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="what-is-data/">What is Data?</a></li> <li class="toctree-l1"><a class="reference internal" href="data-provenance/">Data provenance</a></li> <li class="toctree-l1"><a class="reference internal" href="finding-data/">Finding Data</a></li> <li class="toctree-l1"><a class="reference internal" href="sort-and-filter/">Sort and Filter: The basics of spreadsheets</a></li> <li class="toctree-l1"><a class="reference internal" href="analyzing-data/">\u2018But what does it mean?\u2019: Analyzing data (spreadsheets continued)</a></li> <li class="toctree-l1"><a class="reference internal" href="data-to-diagrams/">From Data to Diagrams: An introduction to plots and charts</a></li> <li class="toctree-l1"><a class="reference internal" href="common-misconceptions/">Look Out!: Common Misconceptions and how to avoid them.</a></li> <li class="toctree-l1"><a class="reference internal" href="tell-me-a-story/">Tell me a story: Working out what\u2019s interesting in your data</a></li> </ul> </div> </div></div> <div class="section" id="a-gentle-introduction-to-data-cleaning"> <h2>A Gentle Introduction to Data Cleaning</h2> <p>This School of Data course is a gentle introduction to reducing errors by cleaning data. It was created by the <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a> and gives you a clear overview what can go wrong in spreadsheets and how to fix it (if it does). Take this course if you want to learn why it is important to clean data and how to do it.</p> <ul class="thumbnails"> <li> <a href="data-cleaning" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8219/8412778423_2b06c83e7b_o_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>An Introduction to Data Cleaning</h3> <p>In this section, learn about the \u201chorror stories\u201d of where data errors in spreadsheets have led to real consequences and how you can avoid them yourself.  </p> </div> </div> </a> </li> <li> <a href="data-cleaning-nuts-and-gum" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8503/8401143543_a8a9b1bb41_c_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>Formatting spreadsheets</h3> <p>In this section, you'll gain practical knowledge of common formatting and layout features of spreadsheets and some ideas about how to present your raw data to others so they will love you! </p> </div> </div> </a> </li> <li> <a href="data-cleaning-invisible-man-in-spreadsheets" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8086/8402327534_fb1e33e0a7_o_d.png" alt=""> </div> <div class="caption offset2"> <h3>The Invisible Man in Spreadsheets</h3> <p>In this section, you'll learn how even characters which you cannot see can cause havoc in data analysis. The section will teach you to ghostbust white space and other non-printable characters such as carriage returns, spaces and tabs. Once you have removed them, you can get on with your analysis in peace.</p> </div> </div> </a> </li> <li> <a href="data-cleaning-witchs-brew" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8514/8408290492_c3cd31ba41_o_d.png" alt=""> </div> <div class="caption offset2"> <h3>Your Data is a Witch's Brew</h3> <p>Three is not a number. Nor is a million. At least not when they are typed in as text in a cell in a spreadsheet. Your spreadsheet is pedantic and needs everything to be precise and consistent. Read on to learn more. </p> </div> </div> </a> </li> <li> <a href="data-cleaning-wrong-suitcase" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8071/8413876946_529bb56d80_z_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>The wrong suitcase</h3> <p>All our spreadsheet wants from us is each cell of data to be organised and neatly packed. In this section, you will analyse data to highlight problems in the way it has been structured so as to avoid them in your own work with data. </p> </div> </div> </a> </li>  </ul>  <div class="hidden" style="display: none;">  .. toctree:: :maxdepth: 1  data-cleaning data-cleaning-nuts-and-gum data-cleaning-invisible-man-in-spreadsheets data-cleaning-witchs-brew data-cleaning-wrong-suitcase</div></div> <div class="section" id="a-gentle-introduction-to-exploring-and-understanding-data"> <h2>A Gentle introduction to exploring and understanding data</h2> <p>The second course by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a> shows how to use pivot tables to explore your data and gain insights quickly.</p> <ul class="thumbnails"> <li> <a href="gentle-introduction-exploring-and-understanding-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8114/8651881402_513a3b89ac_q_d.jpg" alt=""> </div> <div class="caption offset2"> <h3>A gentle introduction to exploring and understanding data</h3> <p>What if we told you, there is a quick way, your computer can help you to summarize and understand data? Wouldn't this be great? Check this course to learn how to use pivot tables to do this!</p> </div> </div> </a> </li><div class="hidden" style="display:none;">  .. toctree:: :maxdepth: 1  gentle-introduction-exploring-and-understanding-data</div></ul></div> <div class="section" id="school-of-data-journalism"> <h2>School of Data Journalism</h2> [raw] <ul class="thumbnails"> <li> <a href="getting-stories-from-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm7.staticflickr.com/6194/6152461532_13af9c9414_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>Getting Stories from Data</h3> <p>When investigating data - do you start from a hypothesis - or simply get some data and dig around? Award-winning journalists Caelainn Barr and Steve Doig explain their approaches... </p> </div> </div> </a> </li> <li> <a href="spending-stories" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm8.staticflickr.com/7224/7351794700_3ebce21da5.jpg" alt=""> </div> <div class="caption offset2"> <h3>Spending Stories</h3> <p>How do you work with, clean up and present your government's spending information. A quick overview of a fantastic tool for working with government spending information. An introduction to Europe's Financial Transparency Information System. </p> </div> </div> </a> </li> <li> <a href="making-data-pretty" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm7.staticflickr.com/6103/6322529463_34cb825b79_t.jpg" alt=""> </div> <div class="caption offset2"> <h3>Making Data Pretty</h3> <p> There are many fantastic off-the-shelf tools for visualising data. Join Dan Nguyen, Mirko Lorenz and Simon Rogers for a whistlestop tour through some of the staples of a data journalist's workbench.</p> </div> </div> </a> </li> <li> <a href="asking-for-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm7.staticflickr.com/6107/6315300499_e890a5c1e8_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>Asking for Data</h3> <p> Ever wanted to know more about making a Freedom of Information request? Want to know how this works internationally? This course is for you. </p> </div> </div> </a> </li> </ul> [/raw]<div class="hidden" style="display: none;"><div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="getting-stories-from-data/">Getting Stories from Data</a></li> <li class="toctree-l1"><a class="reference internal" href="spending-stories/">Spending Stories</a></li> <li class="toctree-l1"><a class="reference internal" href="making-data-pretty/">Making Data Pretty</a></li> <li class="toctree-l1"><a class="reference internal" href="asking-for-data/">Asking for Data</a></li> </ul> </div> </div></div> <div class="section" id="a-gentle-introduction-to-geocoding"> <h2>A Gentle Introduction to Geocoding</h2> [raw] <ul class="thumbnails"> <li> <a href="geocoding" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm8.staticflickr.com/7279/7850933238_eda901aeec_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>A gentle introduction to Geocoding</h3> <p>Need to put your data on a map but it doesn't contain Latitude and Longitude values? Read on!</p> </div> </div> </a> </li> </ul><p>[/raw]</p> <div class="hidden" style="display: none;"><div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="geocoding/">Online geocoding</a></li> <li class="toctree-l1"><a class="reference internal" href="geocoding/#nominatim-an-open-geocoding-service">Nominatim - An Open Geocoding Service</a></li> <li class="toctree-l1"><a class="reference internal" href="geocoding/#geocoding-the-challenge">Geocoding - The challenge</a><ul> <li class="toctree-l2"><a class="reference internal" href="geocoding/#example-human-readable/">Example - `Human-readable HTML`_</a></li> <li class="toctree-l2"><a class="reference internal" href="geocoding/#example-machine-readable-json">Example - Machine-readable JSON</a></li> </ul> </li> </ul> </div> </div></div> <div class="section" id="a-gentle-introduction-to-extracting-data"> <h2>A Gentle Introduction to Extracting Data</h2> [raw] <ul class="thumbnails"> <li> <a href="scraping" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8243/8612339019_555d1f312c_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>A gentle introduction to Extracting Data from Websites</h3> <p>Learn how to scrape without code in 5 minutes and when you might need to invest time in more sophisticated techniques. </p> </div> </div> </a> </li> <li> <a href="extracting-data-from-pdf" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8246/8664057416_20602746f7_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>PDF busters</h3> <p>Far too much data is trapped in PDFs. In order to be able to work with, analyse and visualise data, we need it in machine-readable formats. It's often not easy to the data out again, but sometimes possible - find out how here.</p> </div> </div> </a> </li> </ul><p>[/raw]</p> <div class="hidden" style="display: none;"><div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="scraping/">Making data on the web useful: scraping</a><ul> <li class="toctree-l2"><a class="reference internal" href="scraping/#introduction">Introduction</a></li> <li class="toctree-l2"><a class="reference internal" href="scraping/#code-free-scraping-in-5-minutes-using-google-spreadsheets-google-chrome">Code-free Scraping in 5 minutes using Google Spreadsheets &amp; Google Chrome</a><ul> <li class="toctree-l3"><a class="reference internal" href="scraping/#recipes">Recipes</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping/#challenge">Challenge</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping/#tip">Tip</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="scraping/#scraping-more-than-one-webpage-scraperwiki">Scraping more than one webpage: Scraperwiki</a><ul> <li class="toctree-l3"><a class="reference internal" href="scraping/#structure-of-a-scraper">Structure of a scraper</a></li> <li class="toctree-l3"><a class="reference internal" href="scraping/#when-should-i-make-the-investment-to-learn-how-to-scrape">When should I make the investment to learn how to scrape?</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="scraping/#summary">Summary:</a></li> <li class="toctree-l2"><a class="reference internal" href="scraping/#further-reading">Further Reading</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="extracting-data-from-pdf/">Extracting Data from PDFs</a></li> <li class="toctree-l1"><a class="reference internal" href="extracting-data-from-pdf/#note-bad-pdfs-and-worse-pdfs">Note: Bad PDFs and worse PDFs</a></li> <li class="toctree-l1"><a class="reference internal" href="extracting-data-from-pdf/#path-1-ocr">Path 1: OCR</a><ul> <li class="toctree-l2"><a class="reference internal" href="extracting-data-from-pdf/#the-ocr-pipeline">The OCR Pipeline</a><ul> <li class="toctree-l3"><a class="reference internal" href="extracting-data-from-pdf/#cleaning-the-pages">Cleaning the pages</a></li> <li class="toctree-l3"><a class="reference internal" href="extracting-data-from-pdf/#file-type-conversion">File type conversion</a></li> </ul> </li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="extracting-data-from-pdf/#path-2-transcription-and-microtasking">Path 2: Transcription and Microtasking</a><ul> <li class="toctree-l2"><a class="reference internal" href="extracting-data-from-pdf/#challenge-free-the-budgets">Challenge: Free the Budgets</a></li> </ul> </li> </ul> </div> </div></div> <div class="section" id="working-with-budgets-and-spending-data"> <h2>Working with Budgets and Spending Data</h2> <p>In this course, we will take you through the steps involved working with budget and spending data. In the process, you\u2019ll learn how to wrangle and clean up some of the most common errors which we see in spending and budget data, as well as doing some dataset gymnastics, such as transposition and cleanup before creating a simple visualisation at the end.</p> <p>If you don\u2019t have your data yet, or don\u2019t have it in machine-readable format - take a look at the two courses above on extracting data, we start from cleaning up and formatting your data.</p> [raw] <ul class="thumbnails"> <li> <a href="budgets-and-spending-intro" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8460/7976488712_9b16eb14b7_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>Spending vs. Budgets</h3> <p>Before we begin working with the data, let's take a closer look at the difference between budgets and spending data - what questions is it possible to answer with this data? </p> </div> </div> </a> </li> <li> <a href="categorisation-and-reference-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8460/7976488712_9b16eb14b7_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>Categorisation and Reference Data</h3> <p>The most interesting data work happens when you combine more than one type of data. In this section, we introduce you to reference data, highlighting a couple of examples particularly relevant to spending and budgets. </p> </div> </div> </a> </li> <li> <a href="cleaning-spending-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8265/8664673857_f85a156945_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>Cleaning Data</h3> <p>A quick introduction to why spending data often needs cleaning, following into a recipe for cleaning spending data with Open Refine. </p> </div> </div> </a> </li> <li> <a href="classifying-financial-data" class="thumbnail sidelink"> <div class="row"> <div class="span2"> <img src="http://farm9.staticflickr.com/8025/7315254516_dd997967a2_q.jpg" alt=""> </div> <div class="caption offset2"> <h3>Classifying financial data</h3> <p>Sometimes you will need to classify your financial data, for example, to reflect services that people care about or to conform to internationally recognised standards.  </p> </div> </div> </a> </li> </ul><p>[/raw]</p> <div class="hidden" style="display: none;"><div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="budgets-and-spending-intro/">What is the difference between budgets and spending?</a><ul> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#budget-data-political-details">Budget Data - Political Details</a></li> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#spending-data-execution-details">Spending Data - Execution Details</a><ul> <li class="toctree-l3"><a class="reference internal" href="budgets-and-spending-intro/#budget-data">Budget data</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#budgets-as-datasets">Budgets as datasets</a></li> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#connecting-revenues-and-spending">Connecting revenues and spending</a></li> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#what-questions-can-be-answered-using-budget-data">What questions can be answered using budget data?</a><ul> <li class="toctree-l3"><a class="reference internal" href="budgets-and-spending-intro/#spending-data">Spending data</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#opening-the-checkbook">Opening the checkbook</a></li> <li class="toctree-l2"><a class="reference internal" href="budgets-and-spending-intro/#what-questions-can-be-answered-using-spending-data">What questions can be answered using spending data?</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="categorisation-and-reference-data/">Categorization and reference data</a><ul> <li class="toctree-l2"><a class="reference internal" href="categorisation-and-reference-data/#classification-reference-data">Classification reference data</a></li> <li class="toctree-l2"><a class="reference internal" href="categorisation-and-reference-data/#geographic-identifiers">Geographic identifiers</a></li> <li class="toctree-l2"><a class="reference internal" href="categorisation-and-reference-data/#company-and-organisational-identifiers">Company and organisational identifiers</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="cleaning-spending-data/">Cleaning spending data</a><ul> <li class="toctree-l2"><a class="reference internal" href="cleaning-spending-data/#normalizing-data">Normalizing data</a><ul> <li class="toctree-l3"><a class="reference internal" href="cleaning-spending-data/#step-1-find-all-distinct-values">Step 1: Find all distinct values</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-spending-data/#step-2-sanity-check">Step 2: Sanity Check</a></li> <li class="toctree-l3"><a class="reference internal" href="cleaning-spending-data/#a-column-of-data-requiring-name-normalization">A column of data requiring name normalization:</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="cleaning-spending-data/#challenge-wrangle-the-data">Challenge: Wrangle the data</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="classifying-financial-data/">Choosing an audience and classifying your data</a><ul> <li class="toctree-l2"><a class="reference internal" href="classifying-financial-data/#grouping-budgets-and-spending-by-topics-people-care-about">Grouping budgets and spending by topics people care about</a><ul> <li class="toctree-l3"><a class="reference internal" href="classifying-financial-data/#why-functional-classifications">Why Functional Classifications?</a></li> <li class="toctree-l3"><a class="reference internal" href="classifying-financial-data/#what-fits">What fits?</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="classifying-financial-data/#international-comparisons">International Comparisons</a></li> <li class="toctree-l2"><a class="reference internal" href="classifying-financial-data/#de-jargonising-cofog">De-jargonising COFOG</a></li> <li class="toctree-l2"><a class="reference internal" href="classifying-financial-data/#how-to-map-your-budget-into-cofog-classifications">How to map your budget into COFOG classifications:</a></li> </ul> </li> </ul> </div> </div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2292
sS'dateCreated'
p2293
(ixmlrpclib
DateTime
p2294
(dp2295
g32
S'20130202T23:10:02'
p2296
sbsS'wp_author_display_name'
p2297
S'Michael Bauer'
p2298
sS'link'
p2299
S'http://schoolofdata.org/handbook/courses/'
p2300
sS'page_status'
p2301
S'publish'
p2302
sS'categories'
p2303
(lp2304
sS'wp_page_template'
p2305
S'default'
p2306
sS'mt_allow_pings'
p2307
I0
sS'date_created_gmt'
p2308
(ixmlrpclib
DateTime
p2309
(dp2310
g32
S'20130202T21:10:02'
p2311
sbssS'4282'
p2312
(dp2313
S'wp_author'
p2314
S'Michael Bauer'
p2315
sS'userid'
p2316
S'2191'
p2317
sS'excerpt'
p2318
g8
sS'wp_page_parent_id'
p2319
I2873
sS'mt_allow_comments'
p2320
I1
sS'text_more'
p2321
g8
sS'custom_fields'
p2322
(lp2323
(dp2324
S'value'
p2325
S'1230791687'
p2326
sS'id'
p2327
S'18741'
p2328
sS'key'
p2329
S'dsq_thread_id'
p2330
sasS'wp_author_id'
p2331
S'2191'
p2332
sS'title'
p2333
S'Categorization and reference data'
p2334
sS'wp_password'
p2335
g8
sS'wp_page_parent_title'
p2336
S'Courses'
p2337
sS'page_id'
p2338
I4282
sS'wp_slug'
p2339
S'categorisation-and-reference-data'
p2340
sS'wp_page_order'
p2341
I0
sS'permaLink'
p2342
S'http://schoolofdata.org/handbook/courses/categorisation-and-reference-data/'
p2343
sS'description'
p2344
V<div class="content">  <div class="section" id="categorization-and-reference-data">   <p>Adapted from the <a class="reference internal" href="#spending-data-handbook">Spending Data Handbook</a>.</p> <p id="spending-data-handbook">One of the most powerful ways of making data more meaningful for analysis is to combine it with reference data and code sheets. Unlike transaction data - such as statistical time series or budget figures - reference data does not describe observations about reality - it merely contains additional details on category schemes, government programmes, persons, companies or geographies mentioned in the data.</p> <p>For example, in the German federal budget, each line item is identified through an eleven-digit code. This code includes three-digit identifiers for the functional and economic purpose of the allocation. By extending the budget data with the titles and descriptions of each economic and functional taxonomy entry, two additional dimensions become available that enable queries such as the overall pension commitments of the government, or the sum of all programmes with defence functions.</p> <p>The main groups of reference data that are used with government finance include code sheets, geographic identifiers and identifiers for companies and other organizations:</p> <div class="section" id="classification-reference-data"> <h2>Classification reference data</h2> <p>Reference data are dictionaries for the categorizations included in a financial datasets. They may include descriptions of government programmes, economic, functional or institutional classification schemes, charts of account and many other types of schemes used to classify and allocate expenditure.</p> <p>Some such schemes are also standardized beyond individual countries, such as the UN\u2019s classification of functions of government (COFOG - <a class="reference external" href="http://unstats.un.org/unsd/cr/registry/regcst.asp?Cl=4">http://unstats.un.org/unsd/cr/registry/regcst.asp?Cl=4</a>) and the OECD DAC Sector codes (<a class="reference external" href="http://www.oecd.org/dac/aidstatistics/dacandcrscodelists.htm">http://www.oecd.org/dac/aidstatistics/dacandcrscodelists.htm</a>). Still, the large majority of governments use their own code sheets to allocate and classify expenditure. In such cases, it is often advisable to request access to the code list versions used internally by government, including revisions over time that may have changed how certain programmes were classified.</p> <p>A library of reference data that can be re-used across different projects and it is a valuable asset for any organization working with government finance. Sharing such data with others is crucial, as it will help to enable comparable outputs and open up options for future data integration. Existing repositories include the IATI Standard (<a class="reference external" href="http://iatistandard.org/">http://iatistandard.org/</a>) and datahub.io.</p> </div> <div class="section" id="geographic-identifiers"> <h2>Geographic identifiers</h2> <p>Geographic identifiers are used to describe administrative boundaries or specific locations identified in a dataset. While some regional classifications (such as the <a class="reference external" href="http://epp.eurostat.ec.europa.eu/portal/page/portal/nuts_nomenclature/introduction">EU NUTS</a>) are released on the web, there is also an increasing number of open databases which contain geographic names - including geonames.org and the recently developed <a class="reference external" href="https://code.google.com/p/worlddb/">world.db</a>.</p> <p>Another related technique is the process of reverse geo-coding: translating a human-readable address into a pair of coordinates. Services like nominatim (<a class="reference external" href="http://nominatim.openstreetmap.org/">http://nominatim.openstreetmap.org/</a>) will not only enable users to generate precise maps of projects in a region, they will also return the responsible administrative boundary for many coordinates. This means that projects which are given by precise address can also be aggregated by state, region or any other geographic unit.</p> <p>Additionally, many countries have <a class="reference external" href="http://en.wikipedia.org/wiki/Shapefile">shapefiles</a> of their political and geographic districts available (usually through the census or interior bureaus) that can be imported into custom mapping applications, like TileMill (<a class="reference external" href="http://mapbox.com/tilemill/">http://mapbox.com/tilemill/</a>).</p> </div> <div class="section" id="company-and-organisational-identifiers"> <h2>Company and organisational identifiers</h2> <p>As you look into spending data that includes recipients outside the government, you\u2019ll find companies which act as suppliers to government, but also other types of entities including charities, associations, foreign governments, political parties and even individuals which act as recipients of direct assistance.</p> <p>Identifying such entities is notoriously hard, since the only information kept by government is often a simple name (which may not uniquely identify the beneficiary, for example \u201cMS\u201d). While most (if not all) countries maintain company registers which assign some type of unique identifier to a company, these databases are often not accessible in bulk and not used coherently across different parts of government. Alternative identifiers - such as tax identifiers and company IDs from private business information suppliers (such as Dun &amp; Bradstreet in the US) - further complicate this process.</p> <p>As an alternative, open registries are beginning to compile organisational identifiers in a form that is easy to re-use and thus enables the sharing of databases which have been augmented with such information. OpenCorporates.com (<a class="reference external" href="http://opencorporates.com">http://opencorporates.com</a>) is a startup that collects information from companies world-wide and provides a convenient API to match datasets with the list of known countries. They offer a service to \u2018reconcile\u2019 companies to link information about a company to a company name. This is especially useful when you have an exist spreadsheet or dataset featuring lots of companies. Matching (or reconciling) to legal entities allows you to get more information about the companies (for example the registered address or statutory filings), and makes it easier to match with other datasets or exchange with other organisations.</p> <p>The IATI project for aid transparency is working towards similar standards for other organisations, such as foreign governments and charities active in the development space.</p> <div class="well"><p><strong>Tasks</strong></p> <ol class="arabic simple"> <li>Find out - does your country use a standard classification for its data such as COFOG?</li> <li>If you have code sheets for your data - try combining them with your main dataset. Take the <a class="reference external" href="http://schoolofdata.org/handbook/courses/merging-data">merging data course</a>  if you need a hand.</li> <li>If relevant: Try geocoding your data. For example - does your data include particular projects? Can you find an address for them? If so, you can geocode them and put them on a map! Take a look at the <a class="reference external" href="http://schoolofdata.org/handbook/courses/geocoding">geocoding</a> course if you need more help.</li> <li>If you have spending data, try to answer the question \u201chow much did company X receive from government\u201d. You may need to correct typos and find out answers to questions such as \u201cis company X\u201d the same thing as \u201ccompany X Ltd\u201d (this is why having organisational identifiers is so important!)? If there is <a class="reference external" href="http://opencorporates.com/">company data for your country</a>, use the OpenCorporates reconciliation service to find out more information about the company (on the right hand side of the page on OpenCorporates.com).</li> </ol> </div><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2345
sS'dateCreated'
p2346
(ixmlrpclib
DateTime
p2347
(dp2348
g32
S'20130423T11:37:13'
p2349
sbsS'wp_author_display_name'
p2350
S'Michael Bauer'
p2351
sS'link'
p2352
S'http://schoolofdata.org/handbook/courses/categorisation-and-reference-data/'
p2353
sS'page_status'
p2354
S'publish'
p2355
sS'categories'
p2356
(lp2357
sS'wp_page_template'
p2358
S'default'
p2359
sS'mt_allow_pings'
p2360
I0
sS'date_created_gmt'
p2361
(ixmlrpclib
DateTime
p2362
(dp2363
g32
S'20130423T09:37:13'
p2364
sbssS'2871'
p2365
(dp2366
S'wp_author'
p2367
S'Michael Bauer'
p2368
sS'userid'
p2369
S'2191'
p2370
sS'excerpt'
p2371
g8
sS'wp_page_parent_id'
p2372
I2870
sS'mt_allow_comments'
p2373
I1
sS'text_more'
p2374
g8
sS'custom_fields'
p2375
(lp2376
(dp2377
S'value'
p2378
S'1128194129'
p2379
sS'id'
p2380
S'8573'
p2381
sS'key'
p2382
S'dsq_thread_id'
p2383
sasS'wp_author_id'
p2384
S'2191'
p2385
sS'title'
p2386
S'Appendix'
p2387
sS'wp_password'
p2388
g8
sS'wp_page_parent_title'
p2389
S'Welcome to the School of Data Handbook'
p2390
sS'page_id'
p2391
I2871
sS'wp_slug'
p2392
S'appendix'
p2393
sS'wp_page_order'
p2394
I0
sS'permaLink'
p2395
S'http://schoolofdata.org/handbook/appendix/'
p2396
sS'description'
p2397
S'<div class="content">  <div class="section" id="appendix">   <div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="glossary/">Glossary</a></li> </ul> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p2398
sS'dateCreated'
p2399
(ixmlrpclib
DateTime
p2400
(dp2401
g32
S'20130202T23:09:56'
p2402
sbsS'wp_author_display_name'
p2403
S'Michael Bauer'
p2404
sS'link'
p2405
S'http://schoolofdata.org/handbook/appendix/'
p2406
sS'page_status'
p2407
S'publish'
p2408
sS'categories'
p2409
(lp2410
sS'wp_page_template'
p2411
S'default'
p2412
sS'mt_allow_pings'
p2413
I0
sS'date_created_gmt'
p2414
(ixmlrpclib
DateTime
p2415
(dp2416
g32
S'20130202T21:09:56'
p2417
sbssS'2870'
p2418
(dp2419
S'wp_author'
p2420
S'Michael Bauer'
p2421
sS'userid'
p2422
S'2191'
p2423
sS'excerpt'
p2424
g8
sS'wp_page_parent_id'
p2425
I0
sS'mt_allow_comments'
p2426
I1
sS'text_more'
p2427
g8
sS'custom_fields'
p2428
(lp2429
(dp2430
S'value'
p2431
S'1121062061'
p2432
sS'id'
p2433
S'7773'
p2434
sS'key'
p2435
S'dsq_thread_id'
p2436
sasS'wp_author_id'
p2437
S'2191'
p2438
sS'title'
p2439
S'Welcome to the School of Data Handbook'
p2440
sS'wp_password'
p2441
g8
sS'wp_page_parent_title'
p2442
g8
sS'page_id'
p2443
I2870
sS'wp_slug'
p2444
S'handbook'
p2445
sS'wp_page_order'
p2446
I0
sS'permaLink'
p2447
S'http://schoolofdata.org/handbook/'
p2448
sS'description'
p2449
S'<div class="content">  <div class="section" id="welcome-to-the-school-of-data-handbook">   <p>The School of Data Handbook is a companion text to the <a class="reference external" href="http://schoolofdata.org/">School of Data</a>. Its function is something like a traditional textbook - it will provide the detail and background theory to support the School of Data courses and challenges.</p> <p>The Handbook should be accessible to all learners. It comes with a <a class="reference internal" href="appendix/glossary/"><em>Glossary</em></a> explaining the important terms and concepts. If you stumble across an unexplained term or a concept that requires more explanation, please do get in touch.</p> </div> <div class="section" id="data-processing-pipeline">   <p>The Handbook will guide you through the key stages of a data project. These stages can be thought of as a pipeline, or a process.</p> <div class="section" id="processing-stages-for-data-projects"> <h2>Processing stages for data projects</h2> <p>While there are many different types of data, almost all processing can be expressed as a set of incremental stages. The most common stages include data acquisition, extraction, cleaning, transformation, integration, analysis and presentation. Of course, with many smaller projects, not each of these stages may be necessary.</p> </div> <div class="section" id="an-introduction-to-the-data-pipeline"> <h2>An introduction to the data pipeline</h2> <ul class="simple"> <li><strong>Acquisition</strong> describes gaining access to data, either through any of the methods mentioned above or by generating fresh data, e.g through a survey or observations.</li> <li>In the <strong>extraction</strong> stage, data is converted from whatever input format has been acquired (e.g. XLS files, PDFs or even plain text documents) into a form that can be used for further processing and analysis. This often involves loading data into a database system, such as MySQL or PostgreSQL.</li> <li><strong>Cleaning and transforming</strong> the data often involves removing invalid records and translating all the columns to use a sane set of values. You may also combine two different datasets into a single table, remove duplicate entries or apply any number of other normalizations. As you acquire data, you will notice that such data often has many inconsistencies: names are used inconsistently, amounts will be stated in badly formatted numbers, while some data may not be usable at all due to file corruptions. In short: data always needs to be cleaned and processed. In fact, processing, augmenting and cleaning the data is very likely to be the most time- and labour-intensive aspect of your project.</li> <li><strong>Analysis of data</strong> to answer particular questions we will not describe in detail in the following chapters of this book. We presume that you are already the experts in working with your data and using e.g. economic models to answer your questions. The aspects of analysis which we do hope to cover here are automated and large-scale analysis, showing tips and tricks for getting and using data, and having a machine do a lot of the work, for example: network analysis or natural language processing.</li> <li><strong>Presentation of data</strong> only has impact when it is packaged in an appropriate way for the audiences it needs to aim at.</li> </ul> <p>As you model a data pipeline, it is important to take care that each step is well documented, granular and - if at all possible - automated.</p> <p>We will also cover best practice guidelines for data projects - which may not fit into any particular categories, but are very important parts of any data work!</p> <div class="section" id="table-of-contents"> <h3>Table of Contents</h3> <div class="toctree-wrapper compound"> <ul> <li class="toctree-l1"><a class="reference internal" href="courses/">Courses</a><ul> <li class="toctree-l2"><a class="reference internal" href="courses//#data-fundamentals">Data Fundamentals</a></li> <li class="toctree-l2"><a class="reference internal" href="courses//#a-gentle-introduction-to-data-cleaning">A Gentle Introduction to Data Cleaning</a></li> <li class="toctree-l2"><a class="reference internal" href="courses//#a-gentle-introduction-to-exploring-and-understanding-data">A Gentle introduction to exploring and understanding data</a></li> <li class="toctree-l2"><a class="reference internal" href="courses//#school-of-data-journalism">School of Data Journalism</a></li> <li class="toctree-l2"><a class="reference internal" href="courses//#a-gentle-introduction-to-geocoding">A Gentle Introduction to Geocoding</a></li> <li class="toctree-l2"><a class="reference internal" href="courses//#a-gentle-introduction-to-extracting-data">A Gentle Introduction to Extracting Data</a></li> <li class="toctree-l2"><a class="reference internal" href="courses//#working-with-budgets-and-spending-data">Working with Budgets and Spending Data</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="recipes/">Recipes</a><ul> <li class="toctree-l2"><a class="reference internal" href="recipes/how-to-find-data/">How to find data</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/getting-data-from-world-bank/">Walkthrough: Downloading Data from the World Bank</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/liberating-html-tables/">Liberating HTML Data Tables</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/scraper-extension-for-chrome/">Scraping websites using the Scraper extension for Chrome</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/introduction-to-html/">A short introduction to HTML</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/scraping-beyond-the-basics/">Scraping - Beyond the Basics</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/scraping-multiple-pages-with-refine-and-scraper/">Scraping multiple Pages using the Scraper Extension and Refine</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/cleaning-data-scraped-from-the-web/">Cleaning up Data Scraped from the Web</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/sorting-data-with-spreadsheets/">Sorting Data with Spreadsheets</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/filtering-data-with-spreadsheets/">Filtering Data</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/formulae-with-spreadsheets/">Spreadsheet Formulae</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/geocoding/">Geocoding Data in a Google Docs Spreadsheet</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/cleaning-data-with-spreadsheets/">Using a spreadsheet to clean up a dataset</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/cleaning-data-with-refine/">Cleaning Data with Refine</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/line-charts-from-spreadsheets/">Creating Line Charts</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/scatterplots-from-spreadsheets/">Walkthrough: Scatterplot</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/choropleth-maps-from-spreadsheets/">Creating a Choropleth map</a></li> <li class="toctree-l2"><a class="reference internal" href="recipes/publishing-work-online/">Walkthrough: Presenting our information as a webpage</a></li> </ul> </li> <li class="toctree-l1"><a class="reference internal" href="appendix/">Appendix</a><ul> <li class="toctree-l2"><a class="reference internal" href="appendix/glossary/">Glossary</a></li> </ul> </li> </ul> </div> </div> </div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p2450
sS'dateCreated'
p2451
(ixmlrpclib
DateTime
p2452
(dp2453
g32
S'20130202T23:09:53'
p2454
sbsS'wp_author_display_name'
p2455
S'Michael Bauer'
p2456
sS'link'
p2457
S'http://schoolofdata.org/handbook/'
p2458
sS'page_status'
p2459
S'publish'
p2460
sS'categories'
p2461
(lp2462
sS'wp_page_template'
p2463
S'default'
p2464
sS'mt_allow_pings'
p2465
I0
sS'date_created_gmt'
p2466
(ixmlrpclib
DateTime
p2467
(dp2468
g32
S'20130202T21:09:53'
p2469
sbssS'2877'
p2470
(dp2471
S'wp_author'
p2472
S'Michael Bauer'
p2473
sS'userid'
p2474
S'2191'
p2475
sS'excerpt'
p2476
g8
sS'wp_page_parent_id'
p2477
I2873
sS'mt_allow_comments'
p2478
I1
sS'text_more'
p2479
g8
sS'custom_fields'
p2480
(lp2481
(dp2482
S'value'
p2483
S'1123850991'
p2484
sS'id'
p2485
S'8191'
p2486
sS'key'
p2487
S'dsq_thread_id'
p2488
sasS'wp_author_id'
p2489
S'2191'
p2490
sS'title'
p2491
S'Section 1: Nuts and chewing gum'
p2492
sS'wp_password'
p2493
g8
sS'wp_page_parent_title'
p2494
S'Courses'
p2495
sS'page_id'
p2496
I2877
sS'wp_slug'
p2497
S'data-cleaning-nuts-and-gum'
p2498
sS'wp_page_order'
p2499
I0
sS'permaLink'
p2500
S'http://schoolofdata.org/handbook/courses/data-cleaning-nuts-and-gum/'
p2501
sS'description'
p2502
V<div class="content">  <div class="section" id="section-1-nuts-and-chewing-gum">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Some things just don\u2019t go together. These things include a stuffed toy puppy and an electric light, or nuts and chewing gum:</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8516/8401143241_924a729397_n_d.jpg" src="http://farm9.staticflickr.com/8516/8401143241_924a729397_n_d.jpg"> <p class="caption">Novelty lamp, Albania, 2011. Photo: Tom Longley. Yes, the lampshade is mounted on the puppy\u2019s head. Image License: some rights reserved CC-BY-SA.</p> </div> <div class="figure"> <img alt="http://farm9.staticflickr.com/8237/8402232902_ec862773eb_n_d.jpg" src="http://farm9.staticflickr.com/8237/8402232902_ec862773eb_n_d.jpg"> <p class="caption">\u2018Nuts and Gum\u2019. From The Simpsons Series 5, Episode 14: Lisa vs. Malibu Stacy, 1994. View clip: <a class="reference external" href="http://vimeo.com/9372862">http://vimeo.com/9372862</a> Copyright: FOX. Reproduced under Fair Use.</p> </div> <p>In spreadsheets, formatting and data don\u2019t go together.  Behold the consequences of spreadsheet formatting:</p> <img alt="http://farm9.staticflickr.com/8503/8401143543_a8a9b1bb41_c_d.jpg" src="http://farm9.staticflickr.com/8503/8401143543_a8a9b1bb41_c_d.jpg"> <p>You\u2019ve probably received something as aesthetically abhorrent as the above. Creators of spreadsheets spend a lot of time formatting data in ways that they find useful to them. They change the text size, colour in the cells, introduce borders and lines to give emphasis to the things they are interested in. However, these may not be useful to you as a receiver of that data, and may get in the way of your ability to use the data.</p> <p>By the end of this section, you\u2019ll have gained the following:</p> <ul class="simple"> <li>practical knowledge of common formatting and layout features of spreadsheets.</li> <li>the skills to transform data other people give from a stuffed toy puppy lamp to something less distracting.</li> <li>some ideas about how to present your raw data to others so they will love you!</li> </ul> </div> <div class="section" id="some-work"> <h2>Some work</h2> <p>To do both the quick and longer tasks below you\u2019ll need:</p> <ul class="simple"> <li>a spreadsheet tool, such as Excel or Libre Office.</li> <li>a copy of the course dataset, which is GRAIN\u2019s data on \u201cland grabbing\u201d  (available <a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data/resource/af57b7b2-f4e7-4942-88d3-83912865d116">here</a>).</li> </ul> <div class="section" id="a-quick-task-15-30-minutes"> <h3>A quick task (15-30 minutes)</h3> <p>Ready to make a mess? Let\u2019s try and get into the minds of people who make spreadsheets as ugly as a stuffed toy puppy lamp.</p> <p>In his excellent essay \u201cThe Art of Spreadsheets\u201d John Raffensperger lists <a class="reference external" href="http://john.raffensperger.org/ArtOfTheSpreadsheet/Chapter09_ShowAllTheInformation.html">37 ways that you can hide data in a spreadsheet</a>. Here are 10 of them:</p> <ul class="simple"> <li>Do not share the file. This is the most common way of hiding information, and the most effective.</li> <li>Hide the sheet. You need at least two sheets first, then: Format, Sheet, Hide.</li> <li>Hide the row: Format, Row, Hide.</li> <li>Hide the column: Format, Column, Hide.</li> <li>Hide the cell and protect the sheet: Format, Cells, Protection, Hidden, then Tools, Protection. This shows a display, but hides the formula: =if(1, \u201cPeace!\u201d, \u201cAttack at dawn.\u201d).</li> <li>Make the column too narrow: Format, Column, Width, 0.</li> <li>For formulas that are likely to be zero, use Tools, Options, View, and clear the Zero values box. For example: =IF(1, 0, \u201cAttack at dawn.\u201d).</li> <li>Use a formula that returns a blank: =IF(1, \u201c \u201d, \u201cAttack at dawn.\u201d).</li> <li>Create a complicated formula that displays the information, but format it as text (with Format, Cells, Number, Text, or just start the cell with a single quotation mark), so the formula is displayed rather than the output.</li> <li>Format the font with Wingdings: Format, Cells, Font, Wingdings. This displays unintelligible characters.</li> </ul> <p>Using John Raffensperger\u2019s list as inspiration, your task is to mess up the GRAIN data as much as  possible.  Marks will be awarded for:</p> <ul class="simple"> <li>making the presentation just bad enough that someone using the data might be tempted to think they can still use it!</li> <li>the use of colour and font effects in ways that really offend the eye</li> <li>ingenuity in hiding bits of data in plain sight.</li> </ul> <p>When you\u2019re finished making a mess, consider how you would undo it and persuade others not to treat their data in this way.</p> </div> <div class="section" id="a-longer-task-30-60-minutes"> <h3>A longer task (30-60 minutes)</h3> <ul class="simple"> <li>From the Data Wrangling Handbook Recipe on Data Cleaning, run through Problem 1: <a class="reference external" href="http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/#problem-1-showing-the-data-plainly">Showing the data plainly using the GRAIN data</a>. This shows you how to remove formatting quickly. It is the first part of a longer \u2018recipe\u2019 on data cleaning.</li> </ul> </div> </div> <div class="section" id="reading-list"> <h2>Reading list</h2> <ol class="arabic simple"> <li>The help documentation for the most common spreadsheet tools outlines the different ways that you can change the way that a spreadsheet displays data. Depending on which spreadsheet you\u2019re using, visit these sites to refresh your memory: <a class="reference external" href="https://help.libreoffice.org/Calc/Format">Libre Office - Formatting</a>, <a class="reference external" href="http://office.microsoft.com/en-us/excel-help/apply-create-or-remove-a-cell-style-HP001216732.aspx">Excel - Apply Cell Style</a>, <a class="reference external" href="http://support.google.com/drive/bin/answer.py?hl=en&amp;answer=46973">Google Docs - Cell Style</a></li> <li>\u201cThe Art of Spreadsheets\u201d by John Raffensperger has a list of <a class="reference external" href="http://john.raffensperger.org/ArtOfTheSpreadsheet/Chapter09_ShowAllTheInformation.html">37 ways to hide information in spreadsheets</a>.</li> <li>Spreadsheet legend Chandoo looks at how to <a class="reference external" href="http://chandoo.org/wp/2009/11/03/make-better-excel-sheets/">Boss proof your spreadsheets</a>.</li> <li>The nuclear option: how to remove all formatting from a spreadsheet (<a class="reference external" href="https://help.libreoffice.org/Common/Undoing_Direct_Formatting_for_a_Document#Removing_all_Direct_Formatting_in_a_LibreOffice_Calc_Spreadsheet">LibreOffice</a>)</li> </ol> </div> <div class="section" id="rest-and-reflect"> <h2>Rest and reflect</h2> <p>Well, you must now be exhausted, so let\u2019s pause a little and consider what we\u2019ve been doing. Here are a few questions to get you started:</p> <ol class="arabic simple"> <li>Are there times when formatting is useful?</li> <li>What are the downsides of removing formatting from a spreadsheet?</li> <li>How should we visually display data in the tools that we work with every day?</li> </ol> <p>Talk about it in the comments threads if you like.</p> <p>And now hurry on to the next instalment of this course, The Invisible Man is in your spreadsheet, messing with your data.</p> <a href="../data-cleaning-invisible-man-in-spreadsheets/" class="btn btn-primary btn-large">Next Course <span class="icon-arrow-right"></span></a><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2503
sS'dateCreated'
p2504
(ixmlrpclib
DateTime
p2505
(dp2506
g32
S'20130202T23:10:13'
p2507
sbsS'wp_author_display_name'
p2508
S'Michael Bauer'
p2509
sS'link'
p2510
S'http://schoolofdata.org/handbook/courses/data-cleaning-nuts-and-gum/'
p2511
sS'page_status'
p2512
S'publish'
p2513
sS'categories'
p2514
(lp2515
sS'wp_page_template'
p2516
S'default'
p2517
sS'mt_allow_pings'
p2518
I0
sS'date_created_gmt'
p2519
(ixmlrpclib
DateTime
p2520
(dp2521
g32
S'20130202T21:10:13'
p2522
sbssS'2876'
p2523
(dp2524
S'wp_author'
p2525
S'Michael Bauer'
p2526
sS'userid'
p2527
S'2191'
p2528
sS'excerpt'
p2529
g8
sS'wp_page_parent_id'
p2530
I2873
sS'mt_allow_comments'
p2531
I1
sS'text_more'
p2532
g8
sS'custom_fields'
p2533
(lp2534
(dp2535
S'value'
p2536
S'1121086845'
p2537
sS'id'
p2538
S'7776'
p2539
sS'key'
p2540
S'dsq_thread_id'
p2541
sasS'wp_author_id'
p2542
S'2191'
p2543
sS'title'
p2544
S'Section 2: the Invisible Man is in your spreadsheet, messing with your data'
p2545
sS'wp_password'
p2546
g8
sS'wp_page_parent_title'
p2547
S'Courses'
p2548
sS'page_id'
p2549
I2876
sS'wp_slug'
p2550
S'data-cleaning-invisible-man-in-spreadsheets'
p2551
sS'wp_page_order'
p2552
I0
sS'permaLink'
p2553
S'http://schoolofdata.org/handbook/courses/data-cleaning-invisible-man-in-spreadsheets/'
p2554
sS'description'
p2555
V<div class="content">  <div class="section" id="section-2-the-invisible-man-is-in-your-spreadsheet-messing-with-your-data">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>There\u2019s something creepy going on in your spreadsheet, and it\u2019s not nice.</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8092/8402327514_10a8f622fd_n_d.jpg" src="http://farm9.staticflickr.com/8092/8402327514_10a8f622fd_n_d.jpg"> <p class="caption">Illustration 1: The Invisible Man movie poster, 1933. Image source. Reproduced under Fair Use.</p> </div> <p>\u201cEven the moon is frightened of me\u201d, shrieks the Invisible Man, otherwise known as Dr Griffen, a genius driven mad after experimenting on himself! If you have the time, watch the short <a class="reference external" href="http://www.youtube.com/watch?v=pb3n0g2NenI">trailer for the 1933 film</a>. Creepy things start happening to people in a small town: mysterious footsteps in the snow, household objects seemingly flying through the air, people being pushed down stairs (and over cliffs!). And in our case: messing with our spreadsheet.</p> <p>We can\u2019t see The Invisible Man himself (obviously, or he wouldn\u2019t be invisible). But we can find traces of his work in our spreadsheet, as we can see his footsteps in the snow:</p> <img alt="http://farm9.staticflickr.com/8086/8402327534_fb1e33e0a7_o_d.png" src="http://farm9.staticflickr.com/8086/8402327534_fb1e33e0a7_o_d.png"> <p>One error he inserted you can clearly see, but the others are far harder to spot with the naked eye:</p> <ul class="simple"> <li>Added extra white spaces at the ends of entries.</li> <li>Tabs that are inserted at the ends of lines</li> <li>Line breaks and \u2018carriage returns\u2019, which you insert by pressing enter (or Ctrl-Enter).</li> </ul> <p>They\u2019re called \u201cnon-printable\u201d characters, and aren\u2019t displayed all the time in spreadsheets. But you will still feel their sinister presence as they seriously affect data analysis. This is because spreadsheets treat these sorts of characters as real data. Ignoring the column label, in the data above you can see four terms that are essentially the same. The spreadsheet, however, sees four different, distinct pieces of data. If you were trying to count how many times \u201cYour Data\u201d was mentioned, a spreadsheet would only show a single entry.</p> <p>In the film, the police set up traps to catch the invisible man. We can do the same in our spreadsheets. By the end of this section you should have:</p> <ul class="simple"> <li>some knowledge about how non-printable characters cause errors in data</li> <li>tried out different functions and features of the spreadsheet that will remove them</li> </ul> </div> <div class="section" id="some-work"> <h2>Some work</h2> <p>To do both the quick and longer tasks below you\u2019ll need:</p> <ol class="arabic simple"> <li>A spreadsheet tool, such as Excel or Libre Office.</li> <li>A copy of the <a class="reference external" href="http://datahub.io/dataset/theinvisibleman">sample spreadsheet</a> for this section.</li> <li>A copy of the course dataset, which is GRAIN\u2019s data on \u201c<a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data">land grabbing</a>\u201d.</li> </ol> <div class="section" id="a-quick-task-15-minutes"> <h3>A quick task (15 minutes)</h3> <ul class="simple"> <li>Download and open this <a class="reference external" href="http://datahub.io/dataset/theinvisibleman">sample spreadsheet</a> on your computer. In column A is the data from above, with different sorts of non-printable characters. In columns B-E are four easy methods of removing non-printable characters from your data using: * the TRIM function (in column B) * the CLEAN function (in column C) * the TRIM and CLEAN functions \u2026. together! (in column D) * the \u201cPaste Special\u201d feature (in column E)</li> <li>Apply an \u201cAutoFilter\u201d to the data (Data \u2192 Filter \u2192 AutoFilter). Click on the little downwards-pointing arrows and a selection list will pop up displaying the number of distinct entries in each column. If you click on the autofilter for each of columns A through to E you can see the effect of the different methods of removing non-printable characters.</li> <li>Double click on cells to view the formulas see how the functions work in practice. There is more information on each of them in the \u2018Study\u2019 section below.</li> <li>Now try it yourself. Create or find a single column of data on your own. Apply these four methods in the same format as our sample the your spreadsheet.</li> </ul> <p>Use the discussion area below to share your work and any observations about this task.</p> </div> <div class="section" id="a-longer-task-30-60-minutes"> <h3>A longer task (30-60 minutes)</h3> <p>From the Data Wrangling Handbook Recipe on Data Cleaning, run through Problem 2: <a class="reference external" href="http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/#problem-2-whitespace-and-new-lines-data-that-shouldnt-be-there">Whitespace and new lines - data that shouldn\u2019t be there</a> using the GRAIN dataset. This goes into more detail about the CLEAN and TRIM functions.</p> </div> </div> <div class="section" id="reading-list"> <h2>Reading list</h2> <ul class="simple"> <li>Watch  this useful YouTube video from <a class="reference external" href="http://www.youtube.com/watch?v=o-dBCS2wgO4&amp;feature=plcp">Excel is Fun</a> about using CLEAN and TRIM.</li> <li>Read Microsoft\u2019s surprisingly helpful help page on removing extra spaces and non-printable characters, <a class="reference external" href="http://office.microsoft.com/en-us/excel-help/top-ten-ways-to-clean-your-data-HA010221840.aspx#BMremoving_spaces_and_nonprinting_chara">here</a>. Much of this will work in LibreOffice and Google Spreadsheets, though there are differences. Cast your eye over the Function documentation: TRIM (Excel, <a class="reference external" href="https://help.libreoffice.org/Calc/Text_Functions#TRIM">LibreOffice</a>, Google Docs) and CLEAN (Excel, <a class="reference external" href="https://help.libreoffice.org/Calc/Text_Functions#CLEAN">LibreOffice</a>, Google Docs).</li> <li>Read the Feature documentation: Paste Special (Excel, <a class="reference external" href="https://help.libreoffice.org/Common/Paste_Special">LibreOffice</a>, Google Docs), Autofilter (Excel, <a class="reference external" href="https://help.libreoffice.org/Calc/Applying_AutoFilter">LibreOffice</a>, Google Docs)</li> <li>For advanced Invisible Man hunters you can read up about using regular  expressions in LibreOffice, <a class="reference external" href="http://www.oooninja.com/2007/12/example-regular-expressions-for-writer.html">here</a>. We also cover this in the longer task above, but it\u2019s not straightforward.</li> </ul> </div> <div class="section" id="rest-and-reflect"> <h2>Rest and reflect</h2> <p>The Invisible Man can appear at any time, so we must be vigilant.</p> <ul class="simple"> <li>How does white space get into your data?</li> <li>Can you think of other ways to approach the problem?</li> </ul> <p>Post your thoughts in the discussion area.</p> <p>Then get moving to the third section in this course on data cleaning, called \u201cYour data is a witch\u2019s brew\u201d.</p> <a href="../data-cleaning-witchs-brew/" class="btn btn-primary btn-large">Next Course <span class="icon-arrow-right"></span></a><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2556
sS'dateCreated'
p2557
(ixmlrpclib
DateTime
p2558
(dp2559
g32
S'20130202T23:10:10'
p2560
sbsS'wp_author_display_name'
p2561
S'Michael Bauer'
p2562
sS'link'
p2563
S'http://schoolofdata.org/handbook/courses/data-cleaning-invisible-man-in-spreadsheets/'
p2564
sS'page_status'
p2565
S'publish'
p2566
sS'categories'
p2567
(lp2568
sS'wp_page_template'
p2569
S'default'
p2570
sS'mt_allow_pings'
p2571
I0
sS'date_created_gmt'
p2572
(ixmlrpclib
DateTime
p2573
(dp2574
g32
S'20130202T21:10:10'
p2575
sbssS'207'
p2576
(dp2577
S'wp_author'
p2578
S'Laura Newman'
p2579
sS'userid'
p2580
S'923'
p2581
sS'excerpt'
p2582
g8
sS'wp_page_parent_id'
p2583
I93
sS'mt_allow_comments'
p2584
I1
sS'text_more'
p2585
g8
sS'custom_fields'
p2586
(lp2587
sS'wp_author_id'
p2588
S'923'
p2589
sS'title'
p2590
S'All Blog Posts'
p2591
sS'wp_password'
p2592
g8
sS'wp_page_parent_title'
p2593
S'Blog'
p2594
sS'page_id'
p2595
I207
sS'wp_slug'
p2596
S'all-blog-posts'
p2597
sS'wp_page_order'
p2598
I0
sS'permaLink'
p2599
S'http://schoolofdata.org/blog/all-blog-posts/'
p2600
sS'description'
p2601
g8
sS'dateCreated'
p2602
(ixmlrpclib
DateTime
p2603
(dp2604
g32
S'20120905T11:31:15'
p2605
sbsS'wp_author_display_name'
p2606
S'Laura Newman'
p2607
sS'link'
p2608
S'http://schoolofdata.org/blog/all-blog-posts/'
p2609
sS'page_status'
p2610
S'publish'
p2611
sS'categories'
p2612
(lp2613
sS'wp_page_template'
p2614
S'default'
p2615
sS'mt_allow_pings'
p2616
I1
sS'date_created_gmt'
p2617
(ixmlrpclib
DateTime
p2618
(dp2619
g32
S'20120905T11:31:15'
p2620
sbssS'2883'
p2621
(dp2622
S'wp_author'
p2623
S'Michael Bauer'
p2624
sS'userid'
p2625
S'2191'
p2626
sS'excerpt'
p2627
g8
sS'wp_page_parent_id'
p2628
I2873
sS'mt_allow_comments'
p2629
I1
sS'text_more'
p2630
g8
sS'custom_fields'
p2631
(lp2632
(dp2633
S'value'
p2634
S'959459576'
p2635
sS'id'
p2636
S'7784'
p2637
sS'key'
p2638
S'dsq_thread_id'
p2639
sasS'wp_author_id'
p2640
S'2191'
p2641
sS'title'
p2642
S'Finding Data'
p2643
sS'wp_password'
p2644
g8
sS'wp_page_parent_title'
p2645
S'Courses'
p2646
sS'page_id'
p2647
I2883
sS'wp_slug'
p2648
S'finding-data'
p2649
sS'wp_page_order'
p2650
I0
sS'permaLink'
p2651
S'http://schoolofdata.org/handbook/courses/finding-data/'
p2652
sS'description'
p2653
V<div class="content">  <div class="section" id="finding-data">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Now we know what data is and the questions we\u2019re interested in, we\u2019re ready to go out and hunt for it online.</p> <p>In this tutorial, you will learn where to start looking for data. In this course, we will then look at different ways of getting hold of data, before setting you loose to find data yourselves!</p> </div> <div class="section" id="data-sources"> <h2>Data Sources</h2> <p>There are three basic ways of getting hold of data:</p> <ol class="arabic simple"> <li><strong>Finding data</strong> - this involves searching and finding data that has already been released</li> <li><strong>Getting hold of more data</strong>  - asking for \u2018new\u2019 data from official sources e.g. through Freedom of Information requests. Sometimes data is public on a website but there is not a download link to get hold of it in bulk - but don\u2019t give up! This data can be liberated with what datawranglers call <a class="reference internal" href="../appendix/glossary/#term-scraping"><em class="xref std std-term">scraping</em></a>.</li> <li><strong>Collecting data yourself</strong> - This means gathering data and entering it into a database or a spreadsheet - whether you work alone or collaboratively.</li> </ol> <p>In this tutorial we\u2019ll focus on finding data that already has been released. We will deal with getting more data and collecting data yourself in future courses.</p> <div class="section" id="step-1-identify-your-data-source"> <h3>Step 1: Identify your Data Source</h3> <p>Many sources frequently release data for public use. Some examples:</p> <ol class="arabic simple"> <li><strong>Government</strong> In recent years governments have begun to release some of their data to the public. Many governments host special (open) government data platforms for the data they create. For example the UK government started <a class="reference external" href="http://data.gov.uk">data.gov.uk</a> to release their datasets. Similar data portals exist in the <a class="reference external" href="http://www.data.gov">US</a>, <a class="reference external" href="http://dados.gov.br/">Brazil</a> and <a class="reference external" href="https://opendata.go.ke/">Kenya</a> - and in many other countries! Does your country have an open data portal (<a class="reference external" href="http://datacatalogs.org">Datacatalogs.org</a> is a good starting point)?</li> <li><strong>Organisations</strong> Other sources of data are large organisations. The <a class="reference external" href="http://data.WorldBank.org">World Bank</a> and the <a class="reference external" href="http://www.who.int/research/en/">World Health Organization</a> for example regularly release reports and data sets.</li> <li><strong>Science</strong> Scientific projects and institutions release data to the scientific community and the general public. Open data is produced by <a class="reference external" href="http://data.nasa.gov/">NASA</a> for example, and many specific disciplines have their own data repositories, some of which are open. More and more initiatives exist trying to provide access to already published data (e.g. <a class="reference external" href="http://datadryad.org/">Dryad</a>)</li> </ol> <p>To help people to find data, projects like the Open Access Directory\u2019s <a class="reference external" href="http://oad.simmons.edu/oadwiki/Data_repositories">data repository list</a> or the Open Knowledge Foundation\u2019s <a class="reference external" href="http://datahub.io">datahub.io</a> have been started. They aim either to collect data sources, or collect together different data sets from various sources. Also the School of Data is building a list of <a class="reference external" href="http://schoolofdata.org/datasources/">data sources</a> with your help!</p> <div class="well"><p><strong>Task:</strong> Are there any data sources we missed? What kind of data would be most interesting to you? Add them to our list of <a class="reference external" href="http://schoolofdata.org/datasources/">data sources</a>.</p> </div></div> <div class="section" id="step-2-getting-data-in-the-format-you-need-it"> <h3>Step 2: Getting data in the format you need it</h3> <p>In the \u201cWhat is Data\u201d course, we talked briefly about the importance of <a class="reference internal" href="../appendix/glossary/#term-machine-readable"><em class="xref std std-term">machine-readable</em></a> data. You\u2019ll save yourself a lot of trouble and time in working with the data if you get hold of data in the correct format initially. Here\u2019s a handy tip for how to tell Google which format you are looking for.</p> <div class="centered"><iframe src="http://p2pu.schoolofdata.org/tip/find-data-with-google.html" width="480" height="290" style="border: none;" align="middle"></iframe></div></div> </div> <div class="section" id="using-data-to-answer-your-question"> <h2>Using data to answer your question</h2> <p>Now that you have an overview of some of the key concepts related to data, it\u2019s time to start hunting for your own! Over the next courses in the Data Fundamentals series, we will be further exploring the question we posed ourselves in the What is Data Course? <strong>How does healthcare spending influence life expectancy?</strong>. To get the data for this course, please see our recipe on Getting Data from the World Bank.</p> <div class="well"><p><strong>Task:</strong> If you found your own alternative data to answer this question, congratulations! Take a moment to upload it to the <a class="reference external" href="http://datahub.io">DataHub</a> - and have a browse to see what other School of Data learners have found.</p> <p><strong>Extension Task:</strong> Explore the web, and see what <a class="reference internal" href="../appendix/glossary/#term-open-data"><em class="xref std std-term">open data</em></a> you can find. If you find something really interesting and think of an exciting question it could help to address, tweet it to @SchoolofData - or write a short post for the School of Data blog.</p> </div></div> <div class="section" id="summary"> <h2>Summary</h2> <p>In this tutorial we discussed how we get the data to answer our question. We explored different ways of accessing data sources and introduced several resources listing different data portals and search engines.</p> <p>At the beginning of Data Fundamentals, we posed ourselves a question: \u2018How does healthcare spending influence life expectancy?\u2019, and by following the recipe, have found a dataset from the World Bank that will help us to answer that question.</p> </div> <div class="section" id="extra-reading"> <h2>Extra Reading</h2> <ol class="arabic simple"> <li><a class="reference external" href="/handbook/recipes/getting-data-from-world-bank/">How to get data from the world bank data portal</a></li> <li>How to upload data to datahub.io <a class="reference external" href="http://vimeo.com/45913395">http://vimeo.com/45913395</a></li> <li>The <a class="reference external" href="http://datajournalismhandbook.org/1.0/en/getting_data_0.html">Data Journalism Handbook</a> has lots of handy tips for finding useful data sources in a \u201cFive Minute Field Guide\u201d</li> </ol> </div> <div class="section" id="quiz"> <h2>Quiz</h2> <p>Take the following quiz to check whether you understood where to find data.</p> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/finding-data.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../sort-and-filter/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2654
sS'dateCreated'
p2655
(ixmlrpclib
DateTime
p2656
(dp2657
g32
S'20130202T23:10:29'
p2658
sbsS'wp_author_display_name'
p2659
S'Michael Bauer'
p2660
sS'link'
p2661
S'http://schoolofdata.org/handbook/courses/finding-data/'
p2662
sS'page_status'
p2663
S'publish'
p2664
sS'categories'
p2665
(lp2666
sS'wp_page_template'
p2667
S'default'
p2668
sS'mt_allow_pings'
p2669
I0
sS'date_created_gmt'
p2670
(ixmlrpclib
DateTime
p2671
(dp2672
g32
S'20130202T21:10:29'
p2673
sbssS'4318'
p2674
(dp2675
S'wp_author'
p2676
S'Michael Bauer'
p2677
sS'userid'
p2678
S'2191'
p2679
sS'excerpt'
p2680
g8
sS'wp_page_parent_id'
p2681
I2889
sS'mt_allow_comments'
p2682
I1
sS'text_more'
p2683
g8
sS'custom_fields'
p2684
(lp2685
sS'wp_author_id'
p2686
S'2191'
p2687
sS'title'
p2688
S'What is an API and how to use one'
p2689
sS'wp_password'
p2690
g8
sS'wp_page_parent_title'
p2691
S'Recipes'
p2692
sS'page_id'
p2693
I4318
sS'wp_slug'
p2694
S'intro-to-apis'
p2695
sS'wp_page_order'
p2696
I0
sS'permaLink'
p2697
S'http://schoolofdata.org/handbook/recipes/intro-to-apis/'
p2698
sS'description'
p2699
V<div class="content">  <div class="section" id="what-is-an-api-and-how-to-use-one">   <p>In some cases, open data is provided through an application programming interface (API), often a web-based method for retrieving, searching or even updating the available information dynamically. APIs provide up-to-date data in a granular and filtered form, removing the need to repeatedly process and update source files.</p> <p>A common use case for APIs is relatively time-sensitive information, such as procurement calls and contracts which are released every day. In the UK, BusinessLink (<a class="reference external" href="http://www.contractsfinder.businesslink.gov.uk/data-feed.aspx">http://www.contractsfinder.businesslink.gov.uk/data-feed.aspx</a>) provides a number of data feeds which contain information about procurement notices. Similarly, the USASpending portal provides a set of APIs that can be used to retrieve up-to-date grants information for the US federal government (<a class="reference external" href="http://usaspending.gov/data">http://usaspending.gov/data</a>).</p> <p>[TODO - how to use one].. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2700
sS'dateCreated'
p2701
(ixmlrpclib
DateTime
p2702
(dp2703
g32
S'20130423T12:13:31'
p2704
sbsS'wp_author_display_name'
p2705
S'Michael Bauer'
p2706
sS'link'
p2707
S'http://schoolofdata.org/handbook/recipes/intro-to-apis/'
p2708
sS'page_status'
p2709
S'publish'
p2710
sS'categories'
p2711
(lp2712
sS'wp_page_template'
p2713
S'default'
p2714
sS'mt_allow_pings'
p2715
I0
sS'date_created_gmt'
p2716
(ixmlrpclib
DateTime
p2717
(dp2718
g32
S'20130423T10:13:31'
p2719
sbssS'3952'
p2720
(dp2721
S'wp_author'
p2722
S'Sam Smith'
p2723
sS'userid'
p2724
S'1134'
p2725
sS'excerpt'
p2726
g8
sS'wp_page_parent_id'
p2727
I0
sS'mt_allow_comments'
p2728
I0
sS'text_more'
p2729
g8
sS'custom_fields'
p2730
(lp2731
(dp2732
S'value'
p2733
S'A short introduction to this presentation'
p2734
sS'id'
p2735
S'14000'
p2736
sS'key'
p2737
S'description'
p2738
sasS'wp_author_id'
p2739
S'1134'
p2740
sS'title'
p2741
S'Presentation'
p2742
sS'wp_password'
p2743
g8
sS'wp_page_parent_title'
p2744
g8
sS'page_id'
p2745
I3952
sS'wp_slug'
p2746
g8
sS'wp_page_order'
p2747
I0
sS'permaLink'
p2748
S'http://schoolofdata.org/?page_id=3952'
p2749
sS'description'
p2750
V<section class="slide">\u000a    <div>\u000a      <h2>Header</h2>\u000a      <p>Typewriter etsy messenger bag <a href="">fingerstache</a>, aesthetic vinyl semiotics twee <strong>DIY</strong> forage chillwave. Thundercats ennui messenger bag, <em>squid</em> carles chillwave shoreditch pickled cliche <b>letterpress</b>. DIY beard locavore <i>occupy</i> salvia, whatever single-origin <code>coffee</code> fanny pack 3 wolf moon typewriter gastropub kale chips. Ennui keffiyeh thundercats jean shorts biodiesel. Terry richardson, swag blog locavore umami vegan helvetica. Fingerstache kale chips.</p>\u000a      <footer> Typewriter etsy messenger bag fingerstache. </footer>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>Header</h2>\u000a      <p>DIY beard locavore occupy salvia, whatever single-origin coffee fanny pack 3 wolf moon typewriter gastropub kale chips. Ennui keffiyeh thundercats jean shorts biodiesel.</p>\u000a      <p>Typewriter etsy messenger bag fingerstache, aesthetic vinyl semiotics twee DIY forage chillwave. Thundercats ennui messenger bag, squid carles chillwave shoreditch pickled cliche letterpress.</p>\u000a      <footer> DIY beard locavore occupy salvia, whatever single-origin coffee fanny pack 3 wolf moon typewriter gastropub kale chips. Ennui keffiyeh thundercats jean shorts biodiesel. </footer>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>Lists in English typography</h2>\u000a      <ul>\u000a        <li>Ennui keffiyeh thundercats</li>\u000a        <li>Jean shorts biodiesel</li>\u000a        <li>Terry richardson, swag blog\u000a          <ol>\u000a            <li>Locavore umami vegan helvetica</li>\u000a            <li>Fingerstache kale chips</li>\u000a            <li>Keytar sriracha gluten-free</li>\u000a          </ol>\u000a        </li>\u000a        <li>Before they sold out master</li>\u000a      </ul>\u000a    </div>\u000a  </section>\u000a  <section class="slide" lang="ru">\u000a    <div>\u000a      <h2>Lists in Russian typography</h2>\u000a      <ul>\u000a        <li>Ennui keffiyeh thundercats</li>\u000a        <li>Jean shorts biodiesel</li>\u000a        <li>Terry richardson, swag blog\u000a          <ol>\u000a            <li>Locavore umami vegan helvetica</li>\u000a            <li>Fingerstache kale chips</li>\u000a            <li>Keytar sriracha gluten-free</li>\u000a          </ol>\u000a        </li>\u000a        <li>Before they sold out master</li>\u000a      </ul>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>Lists in English typography</h2>\u000a      <ol>\u000a        <li>Locavore umami vegan helvetica</li>\u000a        <li>Fingerstache kale chips</li>\u000a        <li>Keytar sriracha gluten-free</li>\u000a      </ol>\u000a      <ul>\u000a        <li>Ennui keffiyeh thundercats</li>\u000a        <li>Jean shorts biodiesel</li>\u000a        <li>Terry richardson, swag blog</li>\u000a      </ul>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>Quote</h2>\u000a      <figure>\u000a        <blockquote>\u000a          <p>Typewriter etsy messenger bag fingerstache, aesthetic vinyl semiotics twee DIY forage chillwave. Thundercats ennui messenger bag, squid carles chillwave shoreditch pickled cliche letterpress.</p>\u000a        </blockquote>\u000a        <figcaption>Author Name</figcaption>\u000a      </figure>\u000a      <p>DIY beard locavore occupy salvia, whatever single-origin coffee fanny pack 3 wolf moon typewriter gastropub kale chips.</p>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>Numbered code listing</h2>\u000a      <pre>\u000a        <code>&lt;html lang="en"&gt;</code>\u000a        <code><mark>&lt;head&gt;</mark> <mark class="comment">&lt;!--Comment--&gt;</mark></code>\u000a        <code>    &lt;title&gt;Shower&lt;/title&gt;</code>\u000a        <code>    &lt;meta charset="<mark class="important">UTF-8</mark>"&gt;</code>\u000a        <code>    &lt;link rel="stylesheet" href="s/screen.css"&gt;</code>\u000a        <code>    &lt;script src="j/jquery.js"&gt;&lt;/script&gt;</code>\u000a        <code><mark>&lt;/head&gt;</mark></code>\u000a      </pre>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>Plain code listing</h2>\u000a      <pre><code>&lt;html lang="en"&gt;\u000a  <mark>&lt;head&gt;</mark> <mark class="comment">&lt;!--Comment--&gt;</mark>\u000a      &lt;title&gt;Shower&lt;/title&gt;\u000a      &lt;meta charset="<mark class="important">UTF-8</mark>"&gt;\u000a      &lt;link rel="stylesheet" href="s/screen.css"&gt;\u000a      &lt;script src="j/jquery.js"&gt;&lt;/script&gt;\u000a  <mark>&lt;/head&gt;</mark></code></pre>\u000a    </div>\u000a  </section>\u000a  <section class="slide shout">\u000a    <div>\u000a      <h2> You Can<br>\u000a        Shout This Way </h2>\u000a      <footer> Typewriter etsy messenger bag fingerstache. </footer>\u000a    </div>\u000a  </section>\u000a  <section class="slide cover">\u000a    <div> <img src="http://assets.okfn.org/web/images/slides/exact.png" alt=""> </div>\u000a  </section>\u000a  <section class="slide cover w">\u000a    <div> <img src="http://assets.okfn.org/web/images/slides/wide.png" alt=""> </div>\u000a  </section>\u000a  <section class="slide cover h">\u000a    <div> <img src="http://assets.okfn.org/web/images/slides/tall.png" alt="">\u000a      <footer> Typewriter etsy messenger bag fingerstache. </footer>\u000a    </div>\u000a  </section>\u000a  <section class="slide cover h">\u000a    <div> <img src="http://assets.okfn.org/web/images/slides/wide.png" alt=""> </div>\u000a  </section>\u000a  <section class="slide cover w">\u000a    <div> <img src="http://assets.okfn.org/web/images/slides/tall.png" alt=""> </div>\u000a  </section>\u000a  <section class="slide shout">\u000a    <div> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place t l"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place t"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place t r"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place l"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place m"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place r"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place b l"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place b"> <img src="http://assets.okfn.org/web/images/slides/square.png" alt="" class="place b r"> </div>\u000a  </section>\u000a  <section class="slide" data-timing="00:03">\u000a    <div>\u000a      <h2>Timer</h2>\u000a      <p>Three seconds to go.</p>\u000a    </div>\u000a  </section>\u000a  <section class="slide">\u000a    <div>\u000a      <h2>List navigation</h2>\u000a      <ol>\u000a        <li>Ennui keffiyeh thundercats</li>\u000a        <li class="next">Jean shorts biodiesel</li>\u000a        <li class="next">Terry richardson, swag blog</li>\u000a        <li class="next">Locavore umami vegan helvetica</li>\u000a        <li class="next">Fingerstache kale chips</li>\u000a        <li class="next">Keytar sriracha gluten-free</li>\u000a        <li class="next">Before they sold out master</li>\u000a      </ol>\u000a    </div>\u000a  </section>\u000a  <!--\u000a      To hide progress bar from entire presentation\u000a      just remove \u201cprogress\u201d element.\u000a      -->\u000a  <div class="progress">\u000a    <div></div>\u000a  </div>\u000a
p2751
sS'dateCreated'
p2752
(ixmlrpclib
DateTime
p2753
(dp2754
g32
S'20130405T16:16:03'
p2755
sbsS'wp_author_display_name'
p2756
S'Sam Smith'
p2757
sS'link'
p2758
S'http://schoolofdata.org/?page_id=3952'
p2759
sS'page_status'
p2760
S'draft'
p2761
sS'categories'
p2762
(lp2763
sS'wp_page_template'
p2764
S'presentation.php'
p2765
sS'mt_allow_pings'
p2766
I0
sS'date_created_gmt'
p2767
(ixmlrpclib
DateTime
p2768
(dp2769
g32
S'20130405T14:16:03'
p2770
sbssS'2879'
p2771
(dp2772
S'wp_author'
p2773
S'Michael Bauer'
p2774
sS'userid'
p2775
S'2191'
p2776
sS'excerpt'
p2777
g8
sS'wp_page_parent_id'
p2778
I2873
sS'mt_allow_comments'
p2779
I1
sS'text_more'
p2780
g8
sS'custom_fields'
p2781
(lp2782
(dp2783
S'value'
p2784
S'1121301145'
p2785
sS'id'
p2786
S'7809'
p2787
sS'key'
p2788
S'dsq_thread_id'
p2789
sasS'wp_author_id'
p2790
S'2191'
p2791
sS'title'
p2792
S'Section 4: Did you bring the wrong suitcase (again)?'
p2793
sS'wp_password'
p2794
g8
sS'wp_page_parent_title'
p2795
S'Courses'
p2796
sS'page_id'
p2797
I2879
sS'wp_slug'
p2798
S'data-cleaning-wrong-suitcase'
p2799
sS'wp_page_order'
p2800
I0
sS'permaLink'
p2801
S'http://schoolofdata.org/handbook/courses/data-cleaning-wrong-suitcase/'
p2802
sS'description'
p2803
V<div class="content">  <div class="section" id="section-4-did-you-bring-the-wrong-suitcase-again">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>All our spreadsheet wants from us is each cell of data to be organised like a briefcase of money ready to be deposited by an investment banker into an offshore tax haven:</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8071/8413876946_529bb56d80_z_d.jpg" src="http://farm9.staticflickr.com/8071/8413876946_529bb56d80_z_d.jpg"> <p class="caption">Image by <a class="reference external" href="http://hairinthegate-ajuk.blogspot.co.uk/2012/06/suitcase-full-of-money.html">Hair in the Gate</a>. License unspecified: permission asked for in comments field (01/2013)</p> </div> <p>It has one type of item, arranged in a perfect, predictable way, in standard units. It probably even smells nice. The spreadsheet is happy with this situation, and will reward us by counting, sorting, charting and so on. However, what we often give to our spreadsheet is more like a toddler\u2019s choice of essential items to take on a day out to the coast:</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8372/8412778391_56424a2a10_o_d.jpg" src="http://farm9.staticflickr.com/8372/8412778391_56424a2a10_o_d.jpg"> <p class="caption">Image by <a class="reference external" href="http://serc.carleton.edu/details/images/26933.html">Science Education Resource Centre</a>. License CC-NC-SA 3.0.</p> </div> <p>This sort of <strong>soft toy chaos</strong> will make our spreadsheet punish us. Lots of different items, with different characteristics and features, all jammed into the same tiny space. What can we do to sort out this mess?</p> <p>By the end of this section, you will have:</p> <ul class="simple"> <li>Analysed data to highlight problems in the way it has been structured.</li> <li>Changed the structure of data to make it more useful.</li> <li>Some ideas about what to avoid in your own work with data.</li> </ul> </div> <div class="section" id="some-work"> <h2>Some work</h2> <p>To do both the quick and longer tasks below you\u2019ll need:</p> <ul class="simple"> <li>a spreadsheet tool, such as Excel or Libre Office.</li> <li>a copy of the course dataset, which is GRAIN\u2019s data on \u201c<a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data/resource/af57b7b2-f4e7-4942-88d3-83912865d116">land grabbing</a>\u201d.</li> </ul> <div class="section" id="a-quick-task-15-minutes"> <h3>A quick task (15 minutes)</h3> <p>Download this <a class="reference external" href="http://datahub.io/dataset/data-structures">sample worksheet</a> and work through the steps below. This section uses some spreadsheet features for which some help can be found in the study section below. But give it a try first.</p> <p>To start with, apply an AutoFilter to the data. Keep going back to the AutoFilter to see how the data changes with each step.</p> <p>To demonstrate this problem, let\u2019s say that we are collecting data and tracking who in the office attends daily meetings (I do hope your organisation doesn\u2019t work with this terrible lack of trust!). The intuitive way to do it would be this way, as in the sample worksheet:</p> <img alt="http://farm9.staticflickr.com/8352/8413876968_4c80101fd5_o_d.png" src="http://farm9.staticflickr.com/8352/8413876968_4c80101fd5_o_d.png"> <p><strong>But spreadsheets aren\u2019t intuitive</strong>. You couldn\u2019t easily use this data to produce a neat attendance report using useful tools like AutoFilter or pivot tables. This is because the spreadsheet sees the text in each cell as one big glob of data, as if one person called \u201cAllan, Rastus, Carl, Tito\u201d attended Monday\u2019s meeting. To make better use of the data that you have in front of you, the ideal situation is to have <strong>one piece of data of a single type in one cell</strong>.</p> <p>So, let\u2019s separate out the data, firstly into different columns. This can be done automatically using the Text to Columns feature in spreadsheets. Select the data in column B, and hit Data \u2192 Text to Columns. Select a comma to be the \u2018separator\u2019. You\u2019ll get something like this (you\u2019ll have to label the columns yourself):</p> <img alt="http://farm9.staticflickr.com/8331/8413876976_7cf07b0fbb_o_d.png" src="http://farm9.staticflickr.com/8331/8413876976_7cf07b0fbb_o_d.png"> <p>(After doing this, you\u2019ll also have some whitespace. Refresh your memory on how to deal with this by looking at this earlier exercise called <a class="reference external" href="../data-cleaning-invisible-man-in-spreadsheets/">The Invisible Man</a>...)</p> <p>So, splitting the text across columns improves the chances of being able to analyse the data, but not by much. If you had a larger team, it would quickly become very tedious to use. What about taking the original data and arranging it down the column? This is called \u201ctransposition\u201d. You can do it manually, or try it automatically using the \u201cPaste Special\u201d feature:</p> <img alt="http://farm9.staticflickr.com/8213/8412778355_1dfb32daef_o_d.png" src="http://farm9.staticflickr.com/8213/8412778355_1dfb32daef_o_d.png"> <p>Far better! However, to make quick sense of the data we\u2019ve had to add in some extra border formatting as data are now missing from the Meeting Day column. This is terrible (for why, see the section called <a class="reference external" href="../data-cleaning-nuts-and-gum/">Nuts and Gum</a>). We\u2019ll have to add in that data in column A:</p> <img alt="http://farm9.staticflickr.com/8351/8412778335_22c13b66d6_o_d.png" src="http://farm9.staticflickr.com/8351/8412778335_22c13b66d6_o_d.png"> <p>This approach allows the spreadsheet to sort, filter and pivot the data accurately. Try it! We can easily produce reports for who attended each meeting, which meeting each staffer attended, and also count and visualise it easily.</p> </div> <div class="section" id="a-longer-task-30-minutes-2-hours"> <h3>A longer task (30 minutes - 2 hours)</h3> <p>From the Data Wrangling Handbook Recipe on Data Cleaning, run through <a class="reference external" href="http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/#problem-5-structural-problems-data-in-inconvenient-places">\u201cProblem 5: Structural problems - data in inconvenient places</a>\u201d using the GRAIN dataset. This is a more detailed exercise that looks at what investors in large-scale land deals have said they will do with the land. It shows how this issue is being categorised, and the difficulties that spreadsheets have in recording multiple uses of land. It shows you how to use filtering to overcome difficulties in badly structured data.</p> <p>If you are feeling very brave, also try <a class="reference external" href="http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/#problem-6-from-banabas-to-bananas-dealing-with-inconsistencies-in-data">\u201cProblem 6: from \u201cbanabas\u201d to \u201cbananas\u201d - dealing with inconsistencies in data</a>\u201d. This is an advanced exercise that walks you through the process of exploding, correcting and then reassembling a problem-ridden dataset to help you get more out of it. It makes use of a range of spreadsheet features including text-to-columns, regular expressions, pivot tables, conditional formatting, data validation and concatenation. It\u2019s hard going, but at the end you\u2019ll see data differently!</p> </div> </div> <div class="section" id="reading-list"> <h2>Reading list</h2> <ul class="simple"> <li>In the short exercise we made use of the following functions:<ul> <li>The <strong>Text to Columns</strong> feature, which is extremely useful in dealing with the \u201cwrong suitcase\u201d issue. Here\u2019s a <a class="reference external" href="http://office.microsoft.com/en-gb/excel-help/split-names-by-using-the-convert-text-to-columns-wizard-HA010342911.aspx">decent tutorial</a> for using this in Excel, <a class="reference external" href="http://www.oooninja.com/2008/01/text-columns-calc-convert-openoffice.html">another for Open Office</a> (and Libre Office). It may upset you to know that Google Spreadsheet doesn\u2019t have a straightforward Text to Columns button! However, the <a class="reference external" href="http://support.google.com/drive/bin/answer.py?hl=en&amp;answer=155358">SPLIT function</a> achieves the same thing, as described in <a class="reference external" href="http://googledocstips.com/2011/03/11/how-to-split-the-contents-of-a-cell/">this tutorial</a>.</li> <li>The Transpose feature, which swaps rows and columns around, is neatly described for Excel in this <a class="reference external" href="http://www.techrepublic.com/blog/msoffice/transpose-excel-data-from-rows-to-columns-or-vice-versa/630">Tech Republic tutorial</a>, and for <a class="reference external" href="http://openoffice.blogs.com/openoffice/2007/02/very_cool_featu.html">Open Office by Solveig Haugland</a> on her Open Office Training blog.</li> </ul> </li> <li>The Tactical Technology Collective \u201cData and Design Guide\u201d has a short chapter called Growing out of Spreadsheets, which is partly about this \u201cwrong suitcase\u201d issue. It looks at the difficulties of using spreadsheets when you have <a class="reference external" href="http://drawingbynumbers.org/data-design-basics/note-2-data-basics#anchor-4">data that describes dynamic and complicated relationships</a>.</li> </ul> </div> <div class="section" id="rest-and-reflect"> <h2>Rest and reflect</h2> <p>What does the \u201cwrong suitcase\u201d problem tell us about recording data in spreadsheets?</p> <a href="../" class="btn btn-primary btn-large">You've finished Data Cleaning <span class="icon-star-empty"></span></a><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2804
sS'dateCreated'
p2805
(ixmlrpclib
DateTime
p2806
(dp2807
g32
S'20130202T23:10:18'
p2808
sbsS'wp_author_display_name'
p2809
S'Michael Bauer'
p2810
sS'link'
p2811
S'http://schoolofdata.org/handbook/courses/data-cleaning-wrong-suitcase/'
p2812
sS'page_status'
p2813
S'publish'
p2814
sS'categories'
p2815
(lp2816
sS'wp_page_template'
p2817
S'default'
p2818
sS'mt_allow_pings'
p2819
I0
sS'date_created_gmt'
p2820
(ixmlrpclib
DateTime
p2821
(dp2822
g32
S'20130202T21:10:18'
p2823
sbssS'2878'
p2824
(dp2825
S'wp_author'
p2826
S'Michael Bauer'
p2827
sS'userid'
p2828
S'2191'
p2829
sS'excerpt'
p2830
g8
sS'wp_page_parent_id'
p2831
I2873
sS'mt_allow_comments'
p2832
I1
sS'text_more'
p2833
g8
sS'custom_fields'
p2834
(lp2835
(dp2836
S'value'
p2837
S'1121291501'
p2838
sS'id'
p2839
S'7807'
p2840
sS'key'
p2841
S'dsq_thread_id'
p2842
sasS'wp_author_id'
p2843
S'2191'
p2844
sS'title'
p2845
VSection 3: your data is a witch\u2019s brew
p2846
sS'wp_password'
p2847
g8
sS'wp_page_parent_title'
p2848
S'Courses'
p2849
sS'page_id'
p2850
I2878
sS'wp_slug'
p2851
S'data-cleaning-witchs-brew'
p2852
sS'wp_page_order'
p2853
I0
sS'permaLink'
p2854
S'http://schoolofdata.org/handbook/courses/data-cleaning-witchs-brew/'
p2855
sS'description'
p2856
V<div class="content">  <div class="section" id="section-3-your-data-is-a-witchs-brew">   <div class="section" id="introduction"> <h2>Introduction</h2> <div class="figure"> <img alt="http://farm9.staticflickr.com/8075/8408290470_cf9905fb04_d.jpg" src="http://farm9.staticflickr.com/8075/8408290470_cf9905fb04_d.jpg"> <p class="caption"><a class="reference external" href="http://www.wpclipart.com/fictional_characters/witches/witches_with_cauldron.jpg">Image source</a> (with adaptations). <a class="reference external" href="http://www.wpclipart.com/terms.html">Public Domain licensed</a>.</p> </div> <p>Three is not a number. Nor is a million. At least not when they are typed in as text in a cell in a spreadsheet. Your spreadsheet is your awkward and pedantic friend that needs everything to be precise, defined and consistent. If you don\u2019t do this, your spreadsheet will become confused and start making an <strong>evil witch\u2019s brew</strong>, as depicted above. Here\u2019s how you and your spreadsheet might see things differently:</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8514/8408290492_c3cd31ba41_o_d.png" src="http://farm9.staticflickr.com/8514/8408290492_c3cd31ba41_o_d.png"> <p class="caption">(If the witches in Shakespeare\u2019s Macbeth (see IV, i, 14-15) had a spreadsheet it would look like the above).</p> </div> <p>With spreadsheets, there are three basic data formats. Or in other words, three ways you can enter data into a spreadsheet cell:</p> <ul class="simple"> <li>as a <strong>number</strong>, like 100.</li> <li>as <strong>text</strong>, like one hundred.</li> <li>as a <strong>formula</strong>, like =SUM(99+1), which creates a \u201ccalculated value\u201d.</li> </ul> <p>To avoid creating a witch\u2019s brew in your spreadsheet, follow two basic rules of thumb:</p> <ul class="simple"> <li>Be consistent and <strong>don\u2019t mix them up</strong> in a column of data.</li> <li>Let the spreadsheet know <strong>what type of data</strong> is in each column.</li> </ul> <p>If you ignore these rules, your spreadsheet will have difficulty doing all the useful things for which we entered the data in the first place, like adding, subtracting, counting, sorting, filtering and so on. After completing the tasks in this section you\u2019ll have gained:</p> <ul class="simple"> <li>understanding of different data types that can be used in spreadsheets</li> <li>sorting data to find errors in data type</li> <li>standardising data entry and using formulas to detect errors</li> </ul> </div> <div class="section" id="some-work"> <h2>Some Work</h2> <p>To do both the quick and longer tasks below you\u2019ll need:</p> <ul class="simple"> <li>a spreadsheet tool, such as Excel or Libre Office.</li> <li>a copy of the course dataset, which is GRAIN\u2019s data on \u201c<a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data/resource/af57b7b2-f4e7-4942-88d3-83912865d116">land grabbing</a>\u201d.</li> </ul> <div class="section" id="a-quick-task-15-minutes"> <h3>A quick task (15 minutes)</h3> <p>Download a copy of the GRAIN database of land grabs onto your computer. Load the spreadsheet and consider the following:</p> <ol class="arabic simple"> <li><strong>What sort of data type do you think the data in each column should be?</strong> Find out what type of data the spreadsheet thinks it is by right clicking on the column heading, selecting Format Cells and looking at the \u201cNumbers tab\u201d. What do you see? Try choosing different options from the Category and Format lists and see what happens to the data.</li> <li><strong>Where there are some numbers in a column, can you add them up and see what happens?</strong> Use your common sense: does the sum look too big or too small? Does it produce an error? This may tell you there\u2019s something wrong with the data.</li> <li><strong>Where there is text or numbers, try sorting in ascending order, and see what happens</strong>. Does it behave as you would expect?</li> <li><strong>Use Auto-Filter to display the distinct values in a column so you can see what sort of data is in the column</strong>. Does anything stand out to you as strange, or inconsistent? Can you see mixes of different data types?</li> </ol> <p>After probing the data in these four different ways, what is your impression about how easy the data is to analyse using the spreadsheet? How could you improve the data?</p> <p>Use the discussion area to let us know what you think.</p> </div> <div class="section" id="a-longer-task-an-hour"> <h3>A longer task (an hour)</h3> <p>From the Data Wrangling Handbook Recipe on Data Cleaning, run through \u201c<a class="reference external" href="http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/#problem-4-fixing-numbers-that-arent-numbers">Problem 4: Fixing Numbers that aren\u2019t numbers</a>\u201d using the GRAIN dataset. This step-by-step exercise explores the specific problem of how data on the size of investments in different land deals has been recorded in the dataset. It explains how you can detect and solve the problem using formulas, and use features like Pivot Tables to check your solutions are working. It will give you a strong idea of how to combine different spreadsheet functions and features.</p> </div> </div> <div class="section" id="reading-list"> <h2>Reading list</h2> <ul class="simple"> <li>Here\u2019s a detailed run through of the different <a class="reference external" href="http://office.microsoft.com/en-us/excel-help/available-number-formats-HP001173902.aspx">basic number formats</a> that are available in Excel.</li> <li>These basic practical spreadsheet skills are useful in exploring and testing out the data:<ul> <li><a class="reference external" href="http://multimedia.journalism.berkeley.edu/tutorials/spreadsheets/adding-numbers-using-sum-formula/">Adding up a column of numbers</a>, using Google Spreadsheet as an example</li> <li><a class="reference external" href="http://multimedia.journalism.berkeley.edu/tutorials/spreadsheets/sorting-results/">Sorting data</a>, using Google Spreadsheet as an example</li> <li>Here\u2019s how to <a class="reference external" href="http://office.microsoft.com/en-us/excel-help/filter-data-in-a-range-or-table-HP010073941.aspx">apply auto-filter</a> in Excel.</li> <li>The <a class="reference external" href="http://schoolofdata.org/handbook/courses/sort-and-filter/">sort and filter</a> course in data fundamentals.</li> </ul> </li> <li>Many people find problems with data types when they start using forms of numbers that are very particular, such as organisational reference numbers, like social security or national identity numbers, telephone numbers, locational information like latitude and longitude. Spreadsheets can build \u201cCustom number formats\u201d. Here\u2019s some reading about them.<ul> <li>A simple example from TechRepublic of how custom number formats <a class="reference external" href="http://www.techrepublic.com/blog/msoffice/use-a-custom-format-in-excel-to-display-easier-to-read-millions/7544">solve annoying</a> problems in spreadsheets.</li> <li>A detailed note about how <a class="reference external" href="http://www.ozgrid.com/Excel/CustomFormats.htm">custom number formats</a> work, by Ozgrid.</li> <li>A nicely put together <a class="reference external" href="http://simoncpage.co.uk/blog/2008/09/excel-custom-and-conditional-number-formatting/">reference for common custom number formats</a> in Excel, by Simon Page.</li> </ul> </li> </ul> </div> <div class="section" id="rest-and-reflect"> <h2>Rest and reflect</h2> <p>This has been a tricky exercise. How was it for you?  Is it easy to make the spreadsheet help you find and correct existing errors?</p> <p>The long task was pretty difficult too. Did you get through it?</p> <p>Use the discussion area to share your thoughts on this section.</p> <p>If you\u2019re keen for more, then head over to the fourth section of this course, called \u201cDid you bring the wrong suitcase (again)?\u201d</p> <a href="../data-cleaning-wrong-suitcase/" class="btn btn-primary btn-large">Next Course <span class="icon-arrow-right"></span></a><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p2857
sS'dateCreated'
p2858
(ixmlrpclib
DateTime
p2859
(dp2860
g32
S'20130202T23:10:16'
p2861
sbsS'wp_author_display_name'
p2862
S'Michael Bauer'
p2863
sS'link'
p2864
S'http://schoolofdata.org/handbook/courses/data-cleaning-witchs-brew/'
p2865
sS'page_status'
p2866
S'publish'
p2867
sS'categories'
p2868
(lp2869
sS'wp_page_template'
p2870
S'default'
p2871
sS'mt_allow_pings'
p2872
I0
sS'date_created_gmt'
p2873
(ixmlrpclib
DateTime
p2874
(dp2875
g32
S'20130202T21:10:16'
p2876
sbssS'3956'
p2877
(dp2878
S'wp_author'
p2879
S'Vanessa Gennarelli'
p2880
sS'userid'
p2881
S'16887'
p2882
sS'excerpt'
p2883
g8
sS'wp_page_parent_id'
p2884
I0
sS'mt_allow_comments'
p2885
I1
sS'text_more'
p2886
g8
sS'custom_fields'
p2887
(lp2888
(dp2889
S'value'
p2890
S'1191442825'
p2891
sS'id'
p2892
S'17856'
p2893
sS'key'
p2894
S'dsq_thread_id'
p2895
sasS'wp_author_id'
p2896
S'16887'
p2897
sS'title'
p2898
S'About Mission Control'
p2899
sS'wp_password'
p2900
g8
sS'wp_page_parent_title'
p2901
g8
sS'page_id'
p2902
I3956
sS'wp_slug'
p2903
S'about-mission-control'
p2904
sS'wp_page_order'
p2905
I0
sS'permaLink'
p2906
S'http://schoolofdata.org/about-mission-control/'
p2907
sS'description'
p2908
g8
sS'dateCreated'
p2909
(ixmlrpclib
DateTime
p2910
(dp2911
g32
S'20130406T14:37:34'
p2912
sbsS'wp_author_display_name'
p2913
S'Vanessa Gennarelli'
p2914
sS'link'
p2915
S'http://schoolofdata.org/about-mission-control/'
p2916
sS'page_status'
p2917
S'publish'
p2918
sS'categories'
p2919
(lp2920
sS'wp_page_template'
p2921
S'default'
p2922
sS'mt_allow_pings'
p2923
I0
sS'date_created_gmt'
p2924
(ixmlrpclib
DateTime
p2925
(dp2926
g32
S'20130406T14:37:34'
p2927
sbssS'3909'
p2928
(dp2929
S'wp_author'
p2930
S'Michael Bauer'
p2931
sS'userid'
p2932
S'2191'
p2933
sS'excerpt'
p2934
g8
sS'wp_page_parent_id'
p2935
I2873
sS'mt_allow_comments'
p2936
I1
sS'text_more'
p2937
g8
sS'custom_fields'
p2938
(lp2939
(dp2940
S'value'
p2941
S'1186257879'
p2942
sS'id'
p2943
S'13681'
p2944
sS'key'
p2945
S'dsq_thread_id'
p2946
sasS'wp_author_id'
p2947
S'2191'
p2948
sS'title'
p2949
S'Getting Stories from Data'
p2950
sS'wp_password'
p2951
g8
sS'wp_page_parent_title'
p2952
S'Courses'
p2953
sS'page_id'
p2954
I3909
sS'wp_slug'
p2955
S'getting-stories-from-data'
p2956
sS'wp_page_order'
p2957
I0
sS'permaLink'
p2958
S'http://schoolofdata.org/handbook/courses/getting-stories-from-data/'
p2959
sS'description'
p2960
S'<div class="content">  <div class="section" id="getting-stories-from-data">   <p>Join Steve Doig and Caelainn Barr for an introduction to finding stories in data.</p> <iframe id="ijf" src="http://webtv.journalismfestival.com/v/1310" width="400" height="280" frameborder="0" scrolling="no" allowtransparency="true"></iframe><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p2961
sS'dateCreated'
p2962
(ixmlrpclib
DateTime
p2963
(dp2964
g32
S'20130404T12:02:39'
p2965
sbsS'wp_author_display_name'
p2966
S'Michael Bauer'
p2967
sS'link'
p2968
S'http://schoolofdata.org/handbook/courses/getting-stories-from-data/'
p2969
sS'page_status'
p2970
S'publish'
p2971
sS'categories'
p2972
(lp2973
sS'wp_page_template'
p2974
S'default'
p2975
sS'mt_allow_pings'
p2976
I0
sS'date_created_gmt'
p2977
(ixmlrpclib
DateTime
p2978
(dp2979
g32
S'20130404T10:02:39'
p2980
sbssS'4312'
p2981
(dp2982
S'wp_author'
p2983
S'Michael Bauer'
p2984
sS'userid'
p2985
S'2191'
p2986
sS'excerpt'
p2987
g8
sS'wp_page_parent_id'
p2988
I2889
sS'mt_allow_comments'
p2989
I1
sS'text_more'
p2990
g8
sS'custom_fields'
p2991
(lp2992
sS'wp_author_id'
p2993
S'2191'
p2994
sS'title'
p2995
S'Freedom of information'
p2996
sS'wp_password'
p2997
g8
sS'wp_page_parent_title'
p2998
S'Recipes'
p2999
sS'page_id'
p3000
I4312
sS'wp_slug'
p3001
S'foi'
p3002
sS'wp_page_order'
p3003
I0
sS'permaLink'
p3004
S'http://schoolofdata.org/handbook/recipes/foi/'
p3005
sS'description'
p3006
V<div class="content">  <div class="section" id="freedom-of-information">   <p>Even before the rise of open data, many countries decided to increase the transparency of their governments by introducing freedom of information (FoI) legislation. Such laws enable every citizen to request documents and other material from parts of the government which do not merit special protection (e.g. due to concerns over privacy, national security or commercial confidentiality).</p> <p>Journalists, activists and CSOs have long had channels of acquiring information. Sometimes, having a good relationship with a press-officer or a civil servant is good enough and making a formal request for information is unnecessary (your friendly press-officer may even feel slightly offended if you don\u2019t ask them nicely first). FoIs generate a lot of paperwork (hence grumpy civil servants), so if you do have the contacts, it may be a good idea to ask nicely first!</p> <p>Freedom of Information requests often require some degree of preparation, so that the documents or databases that are requested are clearly identified, you know which department or unit is in charge of it and you can address possible concerns over privacy or commercial confidentiality in your request.</p> <p>While freedom of information legislation is in force in many countries, it was often made before the need for structured data became apparent - thus many laws do not allow the citizen to specify a particular format. Many governments choose to release information on paper rather than in a structured, digital form, making the data processing step more painful. Still, the legally binding character of freedom of information requests often makes them an invaluable tool in the process of gaining access to financial data.</p> <p>FoI requests may be necessary when you want to get more detail on the projects that government money is funding. Often the transactional spending data released will include only a brief description of the project, if at all. To get more information about it, you might need to submit an FoI request. For instance, if you have the high level payment information for a contract that includes the recipient, location and total amount, but you want to know the details of the contract deliverables, you will probably need to submit an FoI request for the full contract.</p> <p>A good example of this process is the Sunlight Foundation\u2019s request for information on the Airport Improvement Program in the United States. The program accepts applications from airports around the country for infrastructure improvement grants, such as repaving a runway. Each project is assigned a safety priority rating and is prioritized in a queue. The high level spending information for this program was available in USASpending.gov, but since the priority ratings are specific to this program and not spending data in general, they were not included in that dataset. The Sunlight Foundation submitted a FoI request for the full dataset, including the priority ratings. After that, they were able to determine when airports with low priority projects were getting money, and how often. So the lesson is, if you see some interesting patterns in your high level spending data, don\u2019t be afraid to dig deeper and ask for more detailed program information.</p> <p>Wanting to submit a request, but not sure where to start, who to address your request to or how to write it? Access Info (<a class="reference external" href="http://www.access-info.org/">http://www.access-info.org/</a>) are an organisation who work to help people obtain the information they require from the public bodies that hold it. They have also produced a toolkit (<a class="reference external" href="http://www.legalleaks.info/toolkit.html">http://www.legalleaks.info/toolkit.html</a>) to using FoIs. It\u2019s primarily aimed at Journalists, but most of the tips are equally relevant for CSOs.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3007
sS'dateCreated'
p3008
(ixmlrpclib
DateTime
p3009
(dp3010
g32
S'20130423T12:07:43'
p3011
sbsS'wp_author_display_name'
p3012
S'Michael Bauer'
p3013
sS'link'
p3014
S'http://schoolofdata.org/handbook/recipes/foi/'
p3015
sS'page_status'
p3016
S'publish'
p3017
sS'categories'
p3018
(lp3019
sS'wp_page_template'
p3020
S'default'
p3021
sS'mt_allow_pings'
p3022
I0
sS'date_created_gmt'
p3023
(ixmlrpclib
DateTime
p3024
(dp3025
g32
S'20130423T10:07:43'
p3026
sbssS'76'
p3027
(dp3028
S'wp_author'
p3029
S'Laura Newman'
p3030
sS'userid'
p3031
S'923'
p3032
sS'excerpt'
p3033
g8
sS'wp_page_parent_id'
p3034
I0
sS'mt_allow_comments'
p3035
I0
sS'text_more'
p3036
g8
sS'custom_fields'
p3037
(lp3038
sS'wp_author_id'
p3039
S'923'
p3040
sS'title'
p3041
S'Join the Community'
p3042
sS'wp_password'
p3043
g8
sS'wp_page_parent_title'
p3044
g8
sS'page_id'
p3045
I76
sS'wp_slug'
p3046
S'get-involved'
p3047
sS'wp_page_order'
p3048
I0
sS'permaLink'
p3049
S'http://schoolofdata.org/get-involved/'
p3050
sS'description'
p3051
V[toc title="On this page"]\u000a\u000a<br></br> \u000a\u000a<em>The School of Data is a community who are enthusiastic about working with data. Whether you are an experienced data wrangler, a beginner keen to gain skills, or an organisation looking for ways to collaborate, there are many ways you can get involved.\u000a</em>\u000a\u000a## <strong>Only have 5 minutes?...</strong> \u000a\u000a<em>...You can still get involved! </em> \u000a\u000a### Become a news scout!\u000a\u000aThe School of Data aims to provide a weekly newsletter of all that\u2019s going on in the data world. If you spot an interesting story, event, tool or news item - tweet\u000a <a href="https://twitter.com/schoolofdata">@SchoolofData</a> and we'll add it to the roundup. \u000a\u000a### Keep in touch</strong> \u000a\u000aJoin our [discussion list](http://lists.okfn.org/mailman/listinfo/school-of-data). Keep up with the latest news, post questions, spark discussions, or help other learners out by answering their data questions.\u000a\u000aWant the latest from School of Data in your inbox without the chat? Join the <a href="http://lists.okfn.org/mailman/listinfo/school-of-data-announce">announce list</a>. \u000a\u000a## <strong>Got some time? </strong>\u000a\u000a### Have fun with data: become a data-sherpa \u000a\u000a<strong> Volunteer as a guide (sherpa) for a <a href="http://schoolofdata.org/data-expeditions/">data expedition</a></strong>. Gather a group of data explorers who share your interest in [topic of your choice here] and embark on a journey into the land of data. \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8078/8413860823_a083d02ae4_m.jpg" title="Data Sherpa" class="pull-right" style="margin-left: 1em;" />\u000a\u000aWhether you are interested in solving something serious like a global obesity crisis or establishing <a href="http://www.guardian.co.uk/lifeandstyle/wordofmouth/2013/jan/24/brunost-norwegian-cheese-hot-topic">whether Norwegian Cheese causes spontaneous combustion</a>, find likeminded explorers and learn wrangling skills while exploring a topic you care about. \u000a\u000a<em> Get started </em>: Read our <a href="http://schoolofdata.org/data-expeditions/guide-for-guides/">guide for guides</a> and if it sounds interesting, drop us a line via the <a href="http://lists.okfn.org/mailman/listinfo/school-of-data">mailing list</a> including your proposed topic and whether you are planning an online or offline expedition. \u000a\u000a### Have material? add it to the Handbook\u000a\u000a<strong>Contribute to the School of Data Handbook. </strong> - Contribute your tips, tricks and tools for working with data either directly on [Github](https://github.com/okfn/datawrangling), or by emailing schoolofdata [@] okfn.org with the text you would like to include.\u000a\u000aNote: We are keen to experiment with formats so don't feel restricted to text!</em> If you have video tutorials, slideshows or other format which will wow a learner, we'd be delighted to hear from you.\u000a\u000aOrganising content and making sure it gets finished can be tricky (we've done enough sprints in our time to have learned this), so if you'd like help to coordinate efforts, just drop us a line. \u000a\u000a### Write for the School of Data blog: inspire others with your data stories\u000a\u000a<img alt="" src="http://farm8.staticflickr.com/7056/7152195969_a377833ce3_m.jpg" title="Speech Bubble via Vectorportal.com" class="pull-left" style="margin-right: 1em;" />\u000a\u000a<strong>Blog</strong> - Have you done something cool with data? Have you recently discovered a new tool, or found a way to work through a tricky problem? \u000a\u000aSend us an email at schoolofdata [@] okfn.org, and we can help you to develop your experiences into a post for the blog. Read our blogging [guidelines](http://schoolofdata.org/blog/blogging-guidelines/).\u000a\u000a<br> </br>\u000a\u000a## <strong>My organisation would like to collaborate. Is this possible?</strong> \u000a\u000aDefinitely! We welcome input from other organisations, and are always happy to discuss how this could take place. Many opportunities are possible, but here are some suggestions of how your organisation could get involved. We are keen to collaborate with organisations who share our values on producing courses and materials, running events and spreading data literacy across the globe. For more information, please email schoolofdata [@] okfn.org. 
p3052
sS'dateCreated'
p3053
(ixmlrpclib
DateTime
p3054
(dp3055
g32
S'20120614T08:24:50'
p3056
sbsS'wp_author_display_name'
p3057
S'Laura Newman'
p3058
sS'link'
p3059
S'http://schoolofdata.org/get-involved/'
p3060
sS'page_status'
p3061
S'publish'
p3062
sS'categories'
p3063
(lp3064
sS'wp_page_template'
p3065
S'default'
p3066
sS'mt_allow_pings'
p3067
I0
sS'date_created_gmt'
p3068
(ixmlrpclib
DateTime
p3069
(dp3070
g32
S'20120614T08:24:50'
p3071
sbssS'4164'
p3072
(dp3073
S'wp_author'
p3074
S'Michael Bauer'
p3075
sS'userid'
p3076
S'2191'
p3077
sS'excerpt'
p3078
g8
sS'wp_page_parent_id'
p3079
I2873
sS'mt_allow_comments'
p3080
I1
sS'text_more'
p3081
g8
sS'custom_fields'
p3082
(lp3083
(dp3084
S'value'
p3085
S'1217640168'
p3086
sS'id'
p3087
S'17051'
p3088
sS'key'
p3089
S'dsq_thread_id'
p3090
sasS'wp_author_id'
p3091
S'2191'
p3092
sS'title'
p3093
S'Online geocoding'
p3094
sS'wp_password'
p3095
g8
sS'wp_page_parent_title'
p3096
S'Courses'
p3097
sS'page_id'
p3098
I4164
sS'wp_slug'
p3099
S'geocoding'
p3100
sS'wp_page_order'
p3101
I0
sS'permaLink'
p3102
S'http://schoolofdata.org/handbook/courses/geocoding/'
p3103
sS'description'
p3104
V<div class="content">  <p>Geocoding is the conversion of a human-readable location name into a numeric (or other machine-processable) location such as a longitude and latitude. For example:</p> <blockquote> <div>London =&gt; [geocoding] =&gt; {latitude: -0.81, longitude: 51.745}</div></blockquote> <p>Geocoding is a common need when working with data as you may only have human-readable locations (e.g. \u201cLondon\u201d or a zip code like \u201c12245\u201d) but for a computer to display the data on a map or query it requires one to have actual numerical geographical coordinates.</p> <p><em>Aside: in the example just given we\u2019ve the term \u201cLondon\u201d has been converted to a point with a single Latitude and Longitude. Of course, London (the City in the UK) covers a significant area and so a polygon would be a better representation. However, for most purposes a single point is all we need.</em></p> <div class="section" id="online-geocoding">   <p>In theory, to do geocoding we just need a database that lists place names and their corresponding coordinates. Several, such <a class="reference external" href="http://opendefinition.org">open databases</a> exist including <a class="reference external" href="http://geonames.org/">geonames</a> and <a class="reference external" href="http://openstreetmap.org/">OpenStreetMap</a>.</p> <p>However, we don\u2019t want to have to do the lookups ourselves - that would either involve programming or a lot of very tedious scrolling.</p> <p>As a result, various web services have been built which allow look ups online or over a <a class="reference external" href="http://schoolofdata.org/handbook/appendix/glossary/#term-web-api">web API</a>. These services also assist in find the <em>best match</em> for a given name \u2013 for a given simple place name such as London there may be several matching locations (e.g. London, UK and London, Ontario) and one needs some way to match and rank these alternatives.</p> </div> <div class="section" id="nominatim-an-open-geocoding-service">   <p>There are a variety of Geocoding services. We recommend using one based on <strong>open data</strong> such as the <a class="reference external" href="http://open.mapquestapi.com/nominatim/v1/">MapQuest Nominatim</a> service which uses the <a href="#id1"><span class="problematic" id="id2">`Open Street Map`_</span></a> database. This service provides both \u201chuman-readable\u201d service (HTML) and a \u201cmachine-readable\u201d API (JSON and XML) for automated Geocoding.</p> </div> <div class="section" id="geocoding-the-challenge">   <p>Right, so now it\u2019s time to get your hands dirty.</p> <ol class="loweralpha simple"> <li>Pick a dataset with locations you would like to geocode</li> <li>Follow the <a class="reference external" href="http://schoolofdata.org/handbook/recipes/geocoding/">recipe</a> in the handbook to show you how to geolocate.</li> <li>If you like - go one step further and put your data on a map. There are lots of great services available to do this, <a class="reference external" href="http://mapbox.com/tilemill/">Tilemill</a> by Mapbox is very elegant, allowing you to customise your map to your house style - the documentation is also very clear and accessible, <a class="reference external" href="http://support.google.com/fusiontables/answer/2571232?hl=en">Google Fusion Tables</a> also allows you to easily plot points on a map and is a popular choice with many data journalists for it\u2019s ease of getting started.</li> </ol> <p>Once you\u2019ve finished - drop us a link to what you have produced in the comments below - that could just be a full geocoded dataset - or a beautiful map, go as far as you need!</p> <div class="section" id="example-human-readable-html"> <h2>Example - <a href="#id3"><span class="problematic" id="id4">`Human-readable HTML`_</span></a></h2> <blockquote> <div><img alt="http://i.imgur.com/zCpzg8a.jpg" src="http://i.imgur.com/zCpzg8a.jpg"> </div></blockquote> </div> <div class="section" id="example-machine-readable-json"> <h2>Example - <a class="reference external" href="http://open.mapquestapi.com/nominatim/v1/?format=json&amp;q=London">Machine-readable JSON</a></h2> <p>(JSON is also human-readable if you have a <a class="reference external" href="http://schoolofdata.org/handbook/appendix/glossary/#term-json">plugin</a>)</p> <blockquote> <div><img alt="http://i.imgur.com/SjoQuYP.png" src="http://i.imgur.com/SjoQuYP.png"> </div></blockquote> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3105
sS'dateCreated'
p3106
(ixmlrpclib
DateTime
p3107
(dp3108
g32
S'20130417T12:40:20'
p3109
sbsS'wp_author_display_name'
p3110
S'Michael Bauer'
p3111
sS'link'
p3112
S'http://schoolofdata.org/handbook/courses/geocoding/'
p3113
sS'page_status'
p3114
S'publish'
p3115
sS'categories'
p3116
(lp3117
sS'wp_page_template'
p3118
S'default'
p3119
sS'mt_allow_pings'
p3120
I0
sS'date_created_gmt'
p3121
(ixmlrpclib
DateTime
p3122
(dp3123
g32
S'20130417T10:40:20'
p3124
sbssS'4239'
p3125
(dp3126
S'wp_author'
p3127
S'Michael Bauer'
p3128
sS'userid'
p3129
S'2191'
p3130
sS'excerpt'
p3131
g8
sS'wp_page_parent_id'
p3132
I2889
sS'mt_allow_comments'
p3133
I1
sS'text_more'
p3134
g8
sS'custom_fields'
p3135
(lp3136
(dp3137
S'value'
p3138
S'1222172296'
p3139
sS'id'
p3140
S'17744'
p3141
sS'key'
p3142
S'dsq_thread_id'
p3143
sasS'wp_author_id'
p3144
S'2191'
p3145
sS'title'
p3146
S'How to find data'
p3147
sS'wp_password'
p3148
g8
sS'wp_page_parent_title'
p3149
S'Recipes'
p3150
sS'page_id'
p3151
I4239
sS'wp_slug'
p3152
S'how-to-find-data'
p3153
sS'wp_page_order'
p3154
I0
sS'permaLink'
p3155
S'http://schoolofdata.org/handbook/recipes/how-to-find-data/'
p3156
sS'description'
p3157
S'<div class="content">  <div class="section" id="how-to-find-data">   <p>If you are looking for further inspiration on how to find data beyond the ways highlighted in the <a class="reference external" href="http://schoolofdata.org/handbook/courses/finding-data/">course</a> on finding data, read on!</p> <p><em>Section author: Tim McNamara &lt;<a class="reference external" href="mailto:tim.mcnamara%40okfn.org">tim<span>.</span>mcnamara<span>@</span>okfn<span>.</span>org</a>&gt;</em></p> <div class="section" id="edited-directories"> <h2>Edited directories</h2> <p>One of the <a class="reference external" href="http://oad.simmons.edu/oadwiki/Data_repositories">largest directories of open data repositories</a> is provided by the <a class="reference external" href="http://oad.simmons.edu/oadwiki/About_OAD">Open Access Directory</a>. Its collection is mostly focused on scientific or research data and is curated by topic area. Topics covered in the directory include archaeology, astronomy, biology, chemistry, computer science, energy, environmental sciences, earth sciences, linguistics, marine sciences, medicine, physics and social sciences.</p> <p><a class="reference external" href="http://ckan.net">CKAN</a> is a directory that largely works through wiki-like edits. Some of the benefits of CKAN are that it has well developed client libraries that enable you to programmatically access information about each of the datasets within its directory. For example, it is easy to ask it to tell you which datasets have been released into the public domain.</p> <p><a class="reference external" href="http://www.quora.com">Quora</a> has actually become a great source of information about where to find data on specific topic areas. It has several questions related to this topic which are being continually updated. Some examples include:</p> <ul class="simple"> <li><a class="reference external" href="http://www.quora.com/Data/What-are-some-free-public-data-sets">What are some free, public data sets?</a></li> <li><a class="reference external" href="http://www.quora.com/Data/Where-can-I-get-large-datasets-open-to-the-public">Where can I get large datasets open to the public?</a></li> </ul> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p3158
sS'dateCreated'
p3159
(ixmlrpclib
DateTime
p3160
(dp3161
g32
S'20130419T14:55:25'
p3162
sbsS'wp_author_display_name'
p3163
S'Michael Bauer'
p3164
sS'link'
p3165
S'http://schoolofdata.org/handbook/recipes/how-to-find-data/'
p3166
sS'page_status'
p3167
S'publish'
p3168
sS'categories'
p3169
(lp3170
sS'wp_page_template'
p3171
S'default'
p3172
sS'mt_allow_pings'
p3173
I0
sS'date_created_gmt'
p3174
(ixmlrpclib
DateTime
p3175
(dp3176
g32
S'20130419T12:55:25'
p3177
sbssS'2875'
p3178
(dp3179
S'wp_author'
p3180
S'Michael Bauer'
p3181
sS'userid'
p3182
S'2191'
p3183
sS'excerpt'
p3184
g8
sS'wp_page_parent_id'
p3185
I2873
sS'mt_allow_comments'
p3186
I1
sS'text_more'
p3187
g8
sS'custom_fields'
p3188
(lp3189
(dp3190
S'value'
p3191
S'955942835'
p3192
sS'id'
p3193
S'7888'
p3194
sS'key'
p3195
S'dsq_thread_id'
p3196
sasS'wp_author_id'
p3197
S'2191'
p3198
sS'title'
p3199
S'Look Out!: Common Misconceptions and how to avoid them.'
p3200
sS'wp_password'
p3201
g8
sS'wp_page_parent_title'
p3202
S'Courses'
p3203
sS'page_id'
p3204
I2875
sS'wp_slug'
p3205
S'common-misconceptions'
p3206
sS'wp_page_order'
p3207
I0
sS'permaLink'
p3208
S'http://schoolofdata.org/handbook/courses/common-misconceptions/'
p3209
sS'description'
p3210
V<div class="content">  <div class="section" id="look-out-common-misconceptions-and-how-to-avoid-them">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Do you know the popular phrase: \u201cThere are three kinds of lies: lies, damned lies and statistics\u201d? It illustrates the common distrust of numerical data and the way it\u2019s displayed. And it has some truth: for too long, graphical displays of numerical data have been used to manipulate people\u2019s understanding of \u2018facts\u2019. There is a basic explanation for this. All information is included in raw data - but before raw data is processed, it\u2019s too much for our brains to understand. Any calculation or visualisation - whether that\u2019s as simple as calculating the average or as complex as producing a 3D chart - involves losing a certain amount of data, so that we can take it in. It\u2019s when people lose data that\u2019s really important and then try to make big statements about the whole data set that most mistakes get made. Often what they say is \u2018true\u2019, but it doesn\u2019t give the full story\u2019</p> <p>In this tutorial we will talk about common misconceptions and pitfalls when people start analysing and visualising. Only if you know the common errors can you avoid making them in your own work and falling for them when they are mistakenly cited in the work of others.</p> </div> <div class="section" id="the-average-trap"> <h2>The average trap</h2> <p>Have you ever read a sentence like: \u201cThe average european drinks 1 litre of beer per day\u201d? Did you ask yourself who this mysterious \u201caverage european\u201d was and where you could meet him? Bad news: you can\u2019t. He or she doesn\u2019t exist. In some countries, people drink more wine than beer. How about people who don\u2019t drink alcohol at all? And children? Do they drink 1 litre per day too? Clearly this statement is misleading. So how did this number come together?</p> <p>People who make these kind of claims usually get hold of a large number: e.g. every year 109 billion liters of beer is consumed in Europe. They then simply divide that figure by the number of days per year and the total population of Europe, and then blare out the exciting news. We did the same thing two modules ago when we divided healthcare expenditure by population. Does this mean that all people spend that much money? No. It means that some spend less and some spend more - what we did was to find the <em class="xref std std-term">average</em>.The <em class="xref std std-term">average</em> makes a lot of sense - if data is normally distributed. <a class="reference internal" href="../appendix/glossary/#term-normal-distribution"><em class="xref std std-term">Normal distribution</em></a> is the classic bell shaped curve.</p> <img alt="http://farm9.staticflickr.com/8301/7899098946_4839cc2ed3_b_d.jpg" src="http://farm9.staticflickr.com/8301/7899098946_4839cc2ed3_b_d.jpg"> <p>The image above shows three different normal distributions. They all have the same <em class="xref std std-term">average</em>. And yet they are clearly different.What the average doesn\u2019t tell you is the range of data.</p> <p>Most of the time we do not deal with normal distributions either: take e.g. income. The average income (something frequently reported) would suggest that half of the people would earn less and half of them would earn more than the average. This is wrong. In most countries, many more people earn below the average salary than above it. How? Incomes are not normally distributed. They show a peak around a certain level and then have a long tail towards large salaries.</p> <img alt="http://farm9.staticflickr.com/8320/7995322063_5c8b05b458_o_d.png" src="http://farm9.staticflickr.com/8320/7995322063_5c8b05b458_o_d.png"> <p>The chart shows actual income distribution in US$ for households up to 200,000 US$ Income from the 2011 census. You can see a large number of households have incomes around 15,000-65,000 US$, but we have a long tail skewing the average up.</p> <p>If the average income rises, it could be because most of the people are earning more. But it could also be that a few people in the top income group are earning way more - both would move the average.</p> <div class="well"><p><strong>Task:</strong> If you need some figures to help you think of this, try the following:</p> <p>Imagine 10 people. One earns 1\u20ac, one earns 2\u20ac, one earns 3\u20ac... up to 10\u20ac. Work out the average salary.</p> <p>Now add 1\u20ac to each of their salaries (2\u20ac, 3\u20ac....11\u20ac). What is the average?</p> <p>Now go back to the original salaries (1\u20ac, 2\u20ac, 3\u20ac etc) and add 10\u20ac only to the very top salary (so you have 1\u20ac, 2\u20ac, 3\u20ac... 9\u20ac, 20\u20ac). What\u2019s the average now?</p> </div><p>Economists recognise this and have added another value. The \u201c <a class="reference external" href="http://en.wikipedia.org/wiki/Gini_coefficient">GINI-Coefficient</a> \u201d tells you something about the distribution of income. The \u201cGINI-Coefficient\u201d\u201d is a little complicated to calculate and beyond the scope of this basic introduction. However, it is worth knowing it exists. A lot of information gets lost when we only calculate an average. Keep your eyes peeled as you read the news and browse online.</p> <div class="well"><p><strong>Task:</strong> Can you spot examples of where the use of the average is problematic?</p> </div><div class="section" id="more-than-just-your-average"> <h3>More than just your average...</h3> <p>So if we\u2019re not to use the <em class="xref std std-term">average</em> - what should we use? There are various other measures which can be used to give a simple mean figure some more context.</p> <ul class="simple"> <li>Combine the average figure with the range; e.g say range 20-5000 with an average of 50. Take our beer example: it would be slightly better to say 0-5 litres a day  with an average of 1 litre.</li> <li>Use the <a class="reference internal" href="../appendix/glossary/#term-median"><em class="xref std std-term">median</em></a>: the median is the value right in the middle where 50% of values are above and 50% of values are below. For the median income it holds true that 50% of people earn less and 50% of people earn more.</li> <li>Use <a class="reference internal" href="../appendix/glossary/#term-quartiles"><em class="xref std std-term">quartiles</em></a> or <a class="reference internal" href="../appendix/glossary/#term-percentiles"><em class="xref std std-term">percentiles</em></a>: Quartiles are like the median but for 25,50 and 75%. Percentiles are the same but for varying percent ranges (usually 10% steps.) This gives us way more information than the average - it also tells us something about the distribution of data (e.q. do 1% of the people really hold 80% of the wealth?)</li> </ul> </div> </div> <div class="section" id="size-matters"> <h2>Size matters</h2> <p>In data visualization, size actually matters. Look at the two column charts below:</p> <img alt="http://farm9.staticflickr.com/8459/7899190314_bf9dae849b_b_d.jpg" src="http://farm9.staticflickr.com/8459/7899190314_bf9dae849b_b_d.jpg"> <p>Imagine the headlines for these two graphs. For the graph on the left, you might read \u201cHealth Expenditure in Finland Explodes!\u201d. The graph on the right might come under the headline \u201cHealth Expenditure in Finland remains mainly stable\u201d. Now look at the data. It\u2019s the same data presented in two different (incorrect) ways.</p> <div class="well"><p><strong>Task:</strong> Can you spot why the data is misleading?</p> </div><p>In the graph on the left, the data doesn\u2019t start at $0, but somewhere around $3000. This makes the differences appear proportionally much larger - for example, expenditure from 2001-2002 appears to have tripled, at least! In reality, this wasn\u2019t the case.  The square aspect ratio (the graph is the same height as width) of the graph further aggravates the effect.</p> <p>The graph on the right starts with $0 but has a range up to $30,000, even though our data only ranges to $9000. This is <em>more</em> accurate than the graph on the left, but is still confusing. No wonder people think of statistics as lies if they are used to deceive people about data.</p> <p>This example illustrates how important it is to visualize your data properly. Here are some simple rules:</p> <ul class="simple"> <li>Always use a range that is appropriate to your data</li> <li>Note it properly on the respective axis!</li> <li>The changes in size we see in a chart should actually reflect the change of size in your data. So if your data shows B is 2 times A, then B should be 2 times bigger in your visualization.</li> </ul> <p>The simple \u201creflect the size\u201d rule becomes even more difficult in 2 dimensions, when you have to worry about the total area. At one point, news outlets started to replace columns with pictures, and then continue to scale the dimensions of pictures up in the old way. The problem? If you adjust the height to reflect the change and the width automatically increases with it, the area increases even more and will become completely wrong! Confused? Look at these bubbles:</p> <blockquote> <div><img alt="http://farm9.staticflickr.com/8037/7899435168_e13622dc8f_b_d.jpg" src="http://farm9.staticflickr.com/8037/7899435168_e13622dc8f_b_d.jpg"> </div></blockquote> <div class="well"><p><strong>Task:</strong> We want to show that B is double the size of A. Which representation is correct? Why?</p> </div><p><strong>Answer:</strong> The diagram on the right.</p> <p>Remember the formula for calculating the area of a circle? (Area = \u03c0r If this doesn\u2019t look familiar, see <a class="reference external" href="http://www.mathsisfun.com/geometry/circle-area.html">here</a>). In the left hand diagram, the radius of A (r) was doubled. This means that the total area goes up by a scale factor of four! This is wrong. If B is to represent a number twice the size of A, we need the area of B to be double the area of A. To correctly calculate this, we need to adjust the length of the radius by \u23b72. This gives us a realistic change in size.</p> </div> <div class="section" id="time-will-tell"> <h2>Time will tell?</h2> <p>Time lines are also critical when displaying data. Look at the chart below:</p> <img alt="http://farm9.staticflickr.com/8178/7899506212_29a422c92c_o_d.png" src="http://farm9.staticflickr.com/8178/7899506212_29a422c92c_o_d.png"> <p>A clear stable increase in health care costs since 2002? Not quite. Notice how before 2004, there are 1 year steps. After, there is a gap between 2004 and 2007, and 2007 and 2009. This presentation makes us believe that healthcare expenditure increases continuously at the same rate since 2002 - but actually it doesn\u2019t. So if you deal with time lines: make sure that the spacing between the data points are correct! Only then will you be able to see the trends correctly.</p> </div> <div class="section" id="correlation-is-not-causation"> <h2>Correlation is not causation</h2> <div class="figure"> <img alt="http://imgs.xkcd.com/comics/correlation.png" src="http://imgs.xkcd.com/comics/correlation.png"> <p class="caption">by XKCD</p> </div> <p>This misunderstanding is so common and well known that it has its own <a class="reference external" href="http://en.wikipedia.org/wiki/Correlation_does_not_imply_causation">wikipedia article</a>. There is nothing more to say about this. Simply because two data points show changes that can be correlated, it doesn\u2019t mean that one causes the other.</p> </div> <div class="section" id="context-context-context"> <h2>Context, context, context</h2> <p>One thing incredibly important for data is context: A number or quality doesn\u2019t mean a thing if you don\u2019t give context. So explain what you are showing - explain how it is read, explain where the data comes from and explain what you did with it. If you give the proper context the conclusion should come right out of the data.</p> </div> <div class="section" id="percent-versus-percentage-points-change"> <h2>Percent versus Percentage points change</h2> <p>This is a common pitfall for many of us. If a value changes from 5% to 10% how many percent is the change?</p> <p>If you answered 5% - I\u2019m afraid you\u2019re wrong! The answer is 100% (10% is 200% of 5%). It\u2019s a change in 5 percentage points. So take care the next time people try to report on elections, surveys and the like - can you spot their errors?</p> <p>Need a refresher on how to calculate percentage change? Check out the \u201cMaths is Fun\u201d <a class="reference external" href="http://www.mathsisfun.com/numbers/percentage-change.html">page</a> on it.</p> </div> <div class="section" id="catching-the-thief-sensitivity-and-large-numbers"> <h2>Catching the thief - sensitivity and large numbers</h2> <p>Imagine, you are a shop owner and you just installed and electronic theft detection system. The system has a 99% accuracy of detecting theft. The alarm goes off, how likely is it, that the person who just passed is a thief?</p> <p>It\u2019s tempting to answer that there is a 99% chance that this person stole something. But actually, that isn\u2019t necessarily the case.</p> <p>In your store you\u2019ll have honest customers and shoplifters. However, the honest customers outnumber the thiefs:: there are 10,000 honest customers and just 1 thief. If all of them pass in front of your alarm, the alarm will sound 101 times. 1% of the time, it will mistakenly identify a honest customer as a thief - so it will sound 100 times. 99% of the time, it will correctly recognise that a shoplifter is a shoplifter. So it will probably sound once when your thief does walk past. But of the 101 times it sounds, only 1 time will there actually be a shoplifter in your store. So the chance that a person is <em>actually</em> a thief when it sounds is just below 1% (0.99%, if you want to be picky).</p> <p>Overestimating the probability if something is reported positive in such a scenario is called the <a class="reference external" href="http://en.wikipedia.org/wiki/Base_rate_fallacy">base rate fallacy</a>. This explains why airport searches and other methods of mass screening always will turn up lots of false positives.</p> <blockquote> <div></div></blockquote> </div> <div class="section" id="summary"> <h2>Summary</h2> <p>In this module we reviewed a few common mistakes made when presenting data. When using data as a tool to tell stories or to communicate our issues and results. While we need simplification to understand what the data means - doing it wrong will mislead us. When we present graphical evidence: try to stay true to the data itself. If possible: don\u2019t only release your analysis: release the raw data as well!</p> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/common-misconceptions.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../tell-me-a-story/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3211
sS'dateCreated'
p3212
(ixmlrpclib
DateTime
p3213
(dp3214
g32
S'20130202T23:10:07'
p3215
sbsS'wp_author_display_name'
p3216
S'Michael Bauer'
p3217
sS'link'
p3218
S'http://schoolofdata.org/handbook/courses/common-misconceptions/'
p3219
sS'page_status'
p3220
S'publish'
p3221
sS'categories'
p3222
(lp3223
sS'wp_page_template'
p3224
S'default'
p3225
sS'mt_allow_pings'
p3226
I0
sS'date_created_gmt'
p3227
(ixmlrpclib
DateTime
p3228
(dp3229
g32
S'20130202T21:10:07'
p3230
sbssS'4163'
p3231
(dp3232
S'wp_author'
p3233
S'Michael Bauer'
p3234
sS'userid'
p3235
S'2191'
p3236
sS'excerpt'
p3237
g8
sS'wp_page_parent_id'
p3238
I2873
sS'mt_allow_comments'
p3239
I1
sS'text_more'
p3240
g8
sS'custom_fields'
p3241
(lp3242
(dp3243
S'value'
p3244
S'1217765169'
p3245
sS'id'
p3246
S'17090'
p3247
sS'key'
p3248
S'dsq_thread_id'
p3249
sasS'wp_author_id'
p3250
S'2191'
p3251
sS'title'
p3252
S'A gentle introduction to exploring and understanding your data'
p3253
sS'wp_password'
p3254
g8
sS'wp_page_parent_title'
p3255
S'Courses'
p3256
sS'page_id'
p3257
I4163
sS'wp_slug'
p3258
S'gentle-introduction-exploring-and-understanding-data'
p3259
sS'wp_page_order'
p3260
I0
sS'permaLink'
p3261
S'http://schoolofdata.org/handbook/courses/gentle-introduction-exploring-and-understanding-data/'
p3262
sS'description'
p3263
V<div class="content">  <div class="section" id="a-gentle-introduction-to-exploring-and-understanding-your-data">   <div class="well"><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology. This course builds on Tactical Tech\u2019s earlier course for the School of Data, <a class="reference external" href="/handbook/courses/data-cleaning/">A Gentle Introduction to Cleaning Data</a>.</p> </div><div class="section" id="table-of-contents"> <h2>Table of Contents</h2> <ul class="simple"> <li><a class="reference external" href="#introduction">Introduction</a></li> <li><a class="reference external" href="#section-1-getting-started">Section 1: Getting Started</a></li> <li><a class="reference external" href="#section-2-make-a-pivot-table-even-more-useful-by-adding-data-fields">Section 2: Make a pivot table even more useful by adding \u2018data fields\u2019</a></li> <li><a class="reference external" href="#id5">Section 3: Adding columns to pivot tables</a></li> <li><a class="reference external" href="#id8">Section 4: Adding charts to pivot tables</a></li> </ul> <div class="section" id="id1"> <h3>Introduction</h3> <div style="font-size: 300%; margin-left: 150px; margin-bottom: 20px;"> 2 + 2 = ___ </div><p>Your resistance to answering this question is futile: you\u2019ve probably just answered it without even thinking.</p> <p>We doubt it\u2019s controversial to say that many of you taking this course have the instinct and itch to know what a column of numbers adds up to, or how the numbers are spread across the different categories in the dataset in front of you. Spreadsheets make this sort of descriptive analysis easy by giving you a kit of mathematical functions to add, subtract, multiply, divide and create averages and percentages from numbers. We think that you know how to use some of these, but if you want to brush up your skills, run through our <a class="reference external" href="/handbook/courses/analyzing-data">data fundamentals course on analysing data</a>.</p> <p>However, the spreadsheet also has another powerful descriptive analysis tool called <strong>pivot tables</strong>.  In a nutshell, this is what they do:</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8114/8651881402_8622b4d4a1_o_d.png" src="http://farm9.staticflickr.com/8114/8651881402_8622b4d4a1_o_d.png"> <p class="caption">Image: \u201cMore Kittens\u201d, courtesy Hitchster. Some rights reserved: CC-BY 2.0. Adapted by Tactical Tech.</p> </div> <p>Pivot tables summarise complete datasets without you having to write formulae, create new columns, or arrange your data in any particular way. They enable you to combine data in ways that reveal the relationships that exist in the data, and show it to you in a new light. They don\u2019t change your data, they have a stack of useful functions built in and using them effectively can cut down on a lot of repetitive tasks, saving you time.</p> <p>A combination of a number of spreadsheet functions - like sort and filter, and some formulae - work in a similar way to pivot tables in that they enable you to rearrange and pull out small bits of data more easily. Pivot tables do these things for the complete dataset, and present it to you so you can see it all.</p> <p>Upon completion of this course, you will:</p> <ul class="simple"> <li>understand the basics of pivot tables and how they work;</li> <li>have created around 20 different examples of pivot tables;</li> <li>be able to build and adapt the layout of pivot tables; and,</li> <li>be able to use pivot tables to examine and explore a dataset.</li> </ul> </div> </div> <div class="section" id="course-requirements"> <h2>Course requirements</h2> <p>A gentle introduction to exploring and understanding your data builds on two earlier School of Data courses:</p> <ol class="arabic simple"> <li><a class="reference external" href="/handbook/courses/#data-fundamentals">Data Fundamentals</a>, which covers the basics of data, and how to work with a spreadsheet.</li> <li>A <a class="reference external" href="/handbook/courses/data-cleaning/">Gentle Introduction to Cleaning Data</a>, which looks at the four most common ways that data gets messy and dirty, and outlines practical solutions to them using a spreadsheet.</li> </ol> <p>To do this course you will require the following:</p> <ol class="arabic simple"> <li>An up-to-date version of the free and open source software <a class="reference external" href="http://libreoffice.org">Libre Office</a> installed on your computer. We assume you know how to do this. We have chosen to use LibreOffice because it doesn\u2019t cost anything (unlike Microsoft Excel), doesn\u2019t systematically invade your privacy or require a continual broadband internet connection (like Google Spreadsheet).</li> <li>a <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2013-03-09T023150/pivot_building_sample20130309.xls">copy of the sample dataset</a> for this course, which is a small set of data about the contents of the author\u2019s kitchen shelves. In the course, we\u2019ll use it to demonstrate the basics of making pivot tables.</li> <li>a copy of GRAIN\u2019s data on \u201c<a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2012-10-31T183207/Original+clean_GRAIN_dataset_20121003.xls">land grabbing</a>\u201d. This dataset is typical of the sorts of data that Non-Governmental Organisations (NGOs) create and work with. We have used it as the example dataset in our earlier course on data cleaning. In this download there are two worksheets: the original \u2018dirty\u2019 data, and the \u2018cleaned\u2019 version. Throughout, we will work with the cleaned version.</li> </ol> </div> <div class="section" id="course-contents"> <h2>Course contents</h2> <p>There are four sections in this course.</p> <ul class="simple"> <li><strong>Section 1</strong> covers the first steps in building a pivot table, showing what happens to your data when it is added as a Row Field in a pivot table.</li> <li>In <strong>Section 2</strong> we look at how to make a pivot table even more useful by adding \u2018data fields\u2019.</li> <li>Adding Column Fields is covered in <strong>Section 3</strong>.</li> <li>To complete the course, <strong>Section 4</strong> looks at how to create charts from data in pivot tables, adding a visual aspect to your understanding of the data.</li> </ul> <p>There are three parts in each section:</p> <ul class="simple"> <li>A <strong>quick task</strong> which uses a dataset about the contents of a kitchen shelf to illustrate the concept of pivot tables.</li> <li>A <strong>longer task</strong> using a dataset about the massive sell-off of agricultural land in the developing world. This will go deeper into creating pivot tables, along with some problems that will help you put your new skills into practice.</li> <li>A <strong>bonus feature</strong>, which explains how pivot tables relate to the other useful features in a spreadsheet.</li> </ul> </div> <div class="section" id="how-to-do-this-course"> <h2>How to do this course</h2> <p>This course is quite short. We suggest you work sections 1 to 4 in sequence, as later sections probably won\u2019t make much sense on their own.</p> <div class="section" id="id2"> <h3>Section 1: Getting started</h3> <p>Make sure you\u2019ve got copies of <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2013-03-09T023150/pivot_building_sample20130309.xls">the sample dataset</a> and the <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2012-10-31T183207/Original+clean_GRAIN_dataset_20121003.xls">GRAIN dataset</a> on landgrabbing open in your copy of LibreOffice.</p> </div> </div> <div class="section" id="a-quick-task"> <h2>A quick task</h2> <p>Take a look at the sample dataset about the selection of snacks on the author\u2019s kitchen shelves. It has data about their main ingredient, quantity, and the risk they pose to the author\u2019s health:</p> <img alt="http://farm9.staticflickr.com/8528/8650783189_8c39e83f5a_o_d.png" src="http://farm9.staticflickr.com/8528/8650783189_8c39e83f5a_o_d.png"> <p>Start by building a pivot table using the data from the sample sheets:</p> <ol class="arabic"> <li><p class="first">Select all the data. You can do this by selecting cell A1 and dragging the mouse to cell D9, or holding down Ctrl-A (Cmd-A on Apple Mac computers).</p> </li> <li><p class="first">With the data now selected choose <strong>Data \u2192 Pivot Table \u2192 Create</strong> from the spreadsheet\u2019s top menu. A pop-up window will appear asking if you want to use the \u2018current selection\u2019. Choose <strong>OK</strong>.</p> </li> <li><p class="first">As illustrated below, you\u2019ll see some grey tiles that correspond with the column headings from your raw data.</p> </li> <li><p class="first">Let\u2019s pivot them, that is, turn a column into a row. Select and hold the tile labelled <strong>Snack</strong> and drag it into the white area called <strong>Row Field</strong>, as illustrated below:</p> <img alt="http://farm9.staticflickr.com/8259/8650783239_013f6acaf3_b_d.jpg" src="http://farm9.staticflickr.com/8259/8650783239_013f6acaf3_b_d.jpg"> </li> <li><p class="first">Click OK. A new worksheet will be created, which you\u2019ll see in the tabs at the bottom of the spreadsheet. Below is the data it will contain:</p> <img alt="http://farm9.staticflickr.com/8404/8651881512_d5de55d642_o_d.png" src="http://farm9.staticflickr.com/8404/8651881512_d5de55d642_o_d.png"> </li> </ol> <p>So, what has happened to the data?</p> <p>In the original data, \u201cBiscuit\u201d is mentioned 3 times: the Pivot table shows it only once. \u201cSandwich\u201d is mentioned 2 times: the Pivot table shows it only once. And so on. The Pivot table has <strong>grouped and summarised</strong> the data in the <strong>Snack</strong> column of your raw dataset. It answers the question of what different types of snack are included in the data.</p> <p>Pivot tables can be created with more than one <strong>Row Field</strong>. Using the sample dataset, let\u2019s choose another row of data to add:</p> <ol class="arabic"> <li><p class="first">In the pivot table you have created, there is a secondary menu. This is activated with a right click of your mouse (or a two-fingered tap on the keypad on Apple Mac computers) anywhere on the pivot table. It will look like this:</p> <img alt="http://farm9.staticflickr.com/8254/8651881506_4358fa812e_o_d.png" src="http://farm9.staticflickr.com/8254/8651881506_4358fa812e_o_d.png"> </li> <li><p class="first">Select <strong>Edit Layout</strong>. This will open the pivot table editor again.  This time, drag <strong>Ingredient</strong> into the <strong>Row Fields</strong> area, then click on <strong>OK</strong>. The data produced by the pivot table will now look different:</p> <img alt="http://farm9.staticflickr.com/8405/8651881524_aca9fa03a0_o_d.png" src="http://farm9.staticflickr.com/8405/8651881524_aca9fa03a0_o_d.png"> </li> </ol> <p>What\u2019s happened this time? In the same way as before, the pivot table has also grouped and  summarised the data about \u2018Ingredients\u2019. The great thing about this is that it has grouped the data about ingredients to show them for each type of snack.  We can turn this around to give another view, from the perspective of the ingredient, not the treat.</p> <p>To do this, edit the pivot table layout again (right click on the pivot table), re-order the tiles that appear as <strong>Row Fields</strong> (as shown below) to place \u2018<strong>Ingredient</strong>\u2019 on top.</p> <img alt="http://farm9.staticflickr.com/8546/8650783267_cda9dc955d_o_d.png" src="http://farm9.staticflickr.com/8546/8650783267_cda9dc955d_o_d.png"> <p>Select <strong>OK</strong> to re-create the pivot table with the new layout. This is how the data in it will look:</p> <img alt="http://farm9.staticflickr.com/8249/8650783409_2779f16f42_o_d.png" src="http://farm9.staticflickr.com/8249/8650783409_2779f16f42_o_d.png"> <p>In this pivot table the groups of values are arranged in a different way. Rather than showing the ingredients that go into each snack, this shows the types of snack that contain a particular ingredient.</p> <p>Got it? Let\u2019s try it out on a larger dataset where we can see the value of a pivot table more dramatically.</p> </div> <div class="section" id="a-longer-task"> <h2>A longer task</h2> <p>Let\u2019s try the same technique on the larger GRAIN dataset on commercial landgrabbing, a cleaned version of which you can <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2012-10-31T183207/Original+clean_GRAIN_dataset_20121003.xls">download from the Datahub</a>.</p> <p>Spend a bit of time familiarising yourself with this dataset. A good (but more time consuming) way of doing this is to work through the School of Data course called <a class="reference external" href="/handbook/courses/data-cleaning/">A Gentle Introduction to Cleaning Data</a>, which also uses the GRAIN dataset as the basis of lessons.</p> <p>If you don\u2019t have time right now, the basics of this dataset are as below:</p> <ul class="simple"> <li>the dataset has been made by <a class="reference external" href="http://www.grain.org/">GRAIN</a>, a research and advocacy organisation which works to support biodiversity and sustainable, community-controlled food systems.</li> <li>each row of the dataset contains details about the sale of a huge amount of agricultural land in a country, often in the global south.</li> <li>the columns contain data about the names of investors and the countries where they are based, the country where the land deal has been carried out, the size of the land deal, and the amount of money invested to purchase the land, and whether the deal went ahead.</li> </ul> <p>To create a pivot table in the GRAIN dataset the steps are the same:</p> <ol class="arabic simple"> <li>Select the complete dataset (from cell A1 to I417). Remember that if you don\u2019t select data, it won\u2019t be included in the pivot table.</li> <li>From the top menu, select <strong>Data \u2192 Pivot Table \u2192 Create</strong>.</li> <li>In the window that appears, choose \u201cCurrent selection\u201d and then click \u201cOK\u201d.</li> <li>Choose the layout of your pivot table by dragging the \u2018tiles\u2019 representing the different columns of data into different parts of the pivot table layout.</li> <li>When you\u2019re happy, select \u2018OK\u2019 to create the pivot table.</li> <li>If you want to change the layout of a pivot table, right click on the pivot table to bring up a secondary menu, and select \u2018Edit Layout\u2019.</li> </ol> <p>The GRAIN dataset has nine columns of data. In this lesson, we\u2019ll just add different combinations of fields into the <strong>Row Fields</strong> part of the pivot table to answer specific questions.</p> <p>We\u2019ll walk through one of the questions to get you started: <strong>\u201cIn which countries has land been acquired?\u201d</strong></p> <ol class="arabic"> <li><p class="first">The data you need to answer this is in column A, labelled \u2018Landgrabbed\u2019.</p> </li> <li><p class="first">Select the complete dataset. Go to Data \u2192 Pivot Table \u2192 Create.</p> </li> <li><p class="first">Choose \u2018Current selection\u2019 and the empty layout window will appear, as below:</p> <img alt="http://farm9.staticflickr.com/8264/8651881598_507370689f_b_d.jpg" src="http://farm9.staticflickr.com/8264/8651881598_507370689f_b_d.jpg"> </li> <li><p class="first">Uh oh! As you can see, there are two tiles that are labelled the same. This is because there are two columns that are very similar - \u2018LandgrabbeD\u2019 and \u2018LandgrabbeR\u2019 - and the pivot table layout unhelpfully trims the label. Hover your mouse over the tile to reveal the full name of the column of data you want to add, as below:</p> <img alt="http://farm9.staticflickr.com/8262/8650783349_4a70be6197_o_d.png" src="http://farm9.staticflickr.com/8262/8650783349_4a70be6197_o_d.png"> </li> <li><p class="first">Now you know which tile contains the right data, drag \u2018Landgrabbed\u2019 into the Row Fields area, and click on OK to make the pivot table:</p> <img alt="http://farm9.staticflickr.com/8528/8650783423_9e1dc2f9a0_b_d.jpg" src="http://farm9.staticflickr.com/8528/8650783423_9e1dc2f9a0_b_d.jpg"> </li> <li><p class="first">The data in this pivot table will be as below, a list of countries:</p> <img alt="http://farm9.staticflickr.com/8264/8651881642_5b064291ed_o_d.png" src="http://farm9.staticflickr.com/8264/8651881642_5b064291ed_o_d.png"> </li> </ol> <p>We can now build on this list to increase our understanding of what is in the dataset. For example, by editing the layout and dragging the tile called \u2018Landgrabber\u2019 into the Row Fields area, we can answer this question: <strong>\u201cWhich companies have acquired land in which countries?\u201d</strong></p> <ol class="arabic"> <li><p class="first">Here\u2019s how the pivot table layout should look:</p> <img alt="http://farm9.staticflickr.com/8252/8651881694_ab1b3b1853_b_d.jpg" src="http://farm9.staticflickr.com/8252/8651881694_ab1b3b1853_b_d.jpg"> </li> <li><p class="first">After clicking \u201cOK\u201d, here\u2019s the first few rows of data that you\u2019ll get in the pivot table:</p> <img alt="http://farm9.staticflickr.com/8109/8651881792_32af36febd_o_d.png" src="http://farm9.staticflickr.com/8109/8651881792_32af36febd_o_d.png"> </li> <li><p class="first">For extra points, try reversing the order of the tiles and creating a pivot table from that layout. It will show you the same data but arranged around the investor (the \u2018Landgrabber\u2019) rather than the country where land has been acquired. Here\u2019s a bit of the data you\u2019ll get from that layout:</p> <img alt="http://farm9.staticflickr.com/8543/8650783527_d90b0bb1e6_o_d.png" src="http://farm9.staticflickr.com/8543/8650783527_d90b0bb1e6_o_d.png"> </li> </ol> <p>Now you\u2019re pretty much an expert, here are a few more questions that you can answer by adding in data to the Row Fields of a pivot table. Have a go at these:</p> <ol class="arabic simple"> <li>In which countries are investors based (their base)?</li> <li>In which countries are investors based, and where did they acquire land?</li> <li>Which investors are working in which sectors?</li> <li>Which investors are working in which sectors, and how did they use the land they purchased? Tip: data on how acquired land was used is in the column called \u2018Production\u2019.</li> <li>Which companies work in which sectors, broken down by base country?</li> <li>What are the names of investors that have made similar sized land acquisitions, and in which countries did they make those acquisitions?</li> <li>What were similar sized land acquisitions used for, and in which country, and what is the status of the deal?</li> </ol> </div> <div class="section" id="bonus-features-sort-and-autofilter"> <h2>Bonus features: sort and autofilter</h2> <p>Where you see a downwards-pointing triangle in the top row of a pivot table, click it to activate the <strong>sort and autofilter</strong> features of the spreadsheet. Click on them to bring up the interface and have a play around with it to see how it affects the data in the pivot table.</p> <div class="section" id="id3"> <h3>Section 2: Make a pivot table even more useful by adding \u2018data fields\u2019</h3> <p>In <strong>Section 1</strong> we tried out building sorted and grouped lists that can use your data to answer questions. But what else can a pivot table do? In this section we\u2019ll look at how the \u2018Data Field\u2019 part of the pivot table works.</p> </div> </div> <div class="section" id="id4"> <h2>A quick task</h2> <p>Build a pivot table of the different types of snack again, as outlined in Section 1 above. This time however, we\u2019ll add in a \u201cData Field\u201d  that will calculate how many of each type of snack there are:</p> <ol class="arabic"> <li><p class="first">Your pivot table layout should look like the image below:</p> <img alt="http://farm9.staticflickr.com/8522/8650783577_b64b706933_b_d.jpg" src="http://farm9.staticflickr.com/8522/8650783577_b64b706933_b_d.jpg"> </li> <li><p class="first">After creating this pivot table, the data you get will look like this:</p> <img alt="http://farm9.staticflickr.com/8263/8650783579_7b37cd0f45_o_d.png" src="http://farm9.staticflickr.com/8263/8650783579_7b37cd0f45_o_d.png"> </li> </ol> <p>So, what\u2019s happened?</p> <p>The pivot table has grouped and summarised the data on the types of snacks, which you put into a <strong>Row Field</strong>. The data on the quantity of snacks - which you put in the <strong>Data Field</strong> -  has been added up to create a total for each type of snack. Neat, huh?  Let\u2019s add in another <strong>Row Field</strong>, just as we did in Section 1, and see what it tells us:</p> <ol class="arabic"> <li><p class="first">Bring up the secondary menu by right clicking on the pivot table, and select \u2018edit layout\u2019.</p> </li> <li><p class="first">Change the pivot table layout so it looks like the screenshot below:</p> <img alt="http://farm9.staticflickr.com/8263/8650783605_68b4b3af7c_b_d.jpg" src="http://farm9.staticflickr.com/8263/8650783605_68b4b3af7c_b_d.jpg"> </li> <li><p class="first">The data shown will change again. This time, the types of snack are sub-grouped by the sort of ingredient, along with the quantities:</p> <img alt="http://farm9.staticflickr.com/8393/8650783633_8cd805bc48_o_d.png" src="http://farm9.staticflickr.com/8393/8650783633_8cd805bc48_o_d.png"> </li> </ol> </div> <div class="section" id="id5"> <h2>A longer task</h2> <p>We can apply the same steps to the GRAIN dataset on landgrabbing to create more useful summary views of the data. For example, let\u2019s find out how much land was reported as being acquired in each country:</p> <ol class="arabic"> <li><p class="first">We won\u2019t repeat in full the steps required to create a pivot table, but will show you the layout:</p> <img alt="http://farm9.staticflickr.com/8100/8651881912_e6857dcf86_b_d.jpg" src="http://farm9.staticflickr.com/8100/8651881912_e6857dcf86_b_d.jpg"> <p>Note: in the image above, the tile in Row Fields is \u2018Landgrabbed\u2019. As noted above, the layout editor shortens it in an annoying manner. Hover your mouse over it to show the full fieldname.</p> </li> <li><p class="first">The effect is the same as with the example above in the short task. The data in the <strong>Row Field</strong> is summarised and grouped to show a list of countries, without duplicates. The data in the <strong>Data Field</strong> has been added up to give a total figure for each country. Here are some sample rows of what this pivot table will produce:</p> <img alt="http://farm9.staticflickr.com/8111/8651881924_f5f2fe488a_o_d.png" src="http://farm9.staticflickr.com/8111/8651881924_f5f2fe488a_o_d.png"> </li> </ol> <p>As before, we can continue to ask questions of the data by adding in different Row Fields. The data above shows the amount of land acquired in each country. Add in \u2018Status of deal\u2019 as a row field to refine this picture even further and show which deals are done, in process, proposed and so on.</p> <ol class="arabic"> <li><p class="first">Again, here\u2019s the layout of the pivot table:</p> <img alt="http://farm9.staticflickr.com/8537/8651882012_9688445f9f_b_d.jpg" src="http://farm9.staticflickr.com/8537/8651882012_9688445f9f_b_d.jpg"> </li> <li><p class="first">After creating the pivot table from the layout above, here are a few rows of the data it will generate for you:</p> <img alt="http://farm9.staticflickr.com/8520/8651881972_0094e4665e_o_d.png" src="http://farm9.staticflickr.com/8520/8651881972_0094e4665e_o_d.png"> </li> </ol> <p>Using your knowledge of choosing Row Fields, and now adding Data Fields, try creating pivot tables which show the following:</p> <ol class="arabic simple"> <li>a little profile for each investor, showing the countries where they have acquired land, and the size of the land area they have acquired e.g. a pivot table that shows Adecoagro reportedly made deals in Argentina for 242000 ha, Brazil for 165000 ha and Uruguay for 8600 ha.</li> <li>The total amount that that each investor has invested to acquire land e.g. this pivot table should show that Saxonian Estates reportedly made investments totalling USD 7.7 million.</li> <li>The amount of land that has been acquired, organised by investment sector e.g. this pivot table will show that 160,000 ha have been acquired by investors that work in the telecommunications sector.</li> <li>The amount of investment made, organised by the size of the land acquired, showing the country where the land was acquired e.g. the pivot table you make here should be able to quickly show us that land deals of 6000 ha were made in Australia for USD 335 million, in Russia for USD 39 million and in Nigeria where there is no record of the amount invested.</li> </ol> </div> <div class="section" id="bonus-features-change-which-aspects-of-data-are-shown"> <h2>Bonus features: change which aspects of data are shown</h2> <p>The fields that you add to pivot tables have two useful features you should know about. We\u2019ll provide a workthrough below, but here\u2019s an overview:</p> <ol class="arabic"> <li><p class="first">The data that we have positioned in the Data Field of the pivot table is often just added up - that is, where there are multiple values they are added together to show the \u201csum\u201d. However, the pivot table can show this data differently by:</p> <ol class="loweralpha simple"> <li>picking out the <strong>highest</strong> (the \u201cmax\u201d) or <strong>lowest</strong> (the \u201cmin\u201d) values from a list.</li> <li>giving a total of the number of values (the \u201ccount\u201d).</li> <li>calculating the data as a percentage or running total.</li> </ol> <p>This feature is activated by double-clicking on any tile that you\u2019ve dragged into any area of the pivot table layout editor.</p> </li> <li><p class="first">As with the <strong>Row Fields</strong>, you can have more than one data field in a pivot table. This means you can display different aspects of the same data next to each other. To use it, just drag another fieldname into the <strong>Data Fields</strong> area.</p> </li> </ol> <p>Here\u2019s an example pivot table layout that demonstrates both these features.</p> <ol class="arabic"> <li><p class="first">This is the layout you\u2019re aiming for:</p> <img alt="http://farm9.staticflickr.com/8519/8650783759_25799b909b_b_d.jpg" src="http://farm9.staticflickr.com/8519/8650783759_25799b909b_b_d.jpg"> </li> <li><p class="first">To get there, build your pivot table as usual. This time drag \u2018Hectares\u2019 into the Data Fields four times. You\u2019ll see this:</p> <img alt="http://farm9.staticflickr.com/8120/8650783763_950020dd67_o_d.png" src="http://farm9.staticflickr.com/8120/8650783763_950020dd67_o_d.png"> </li> <li><p class="first">Next, change the way that the data are displayed. To do this, double click on one of the tiles you\u2019ve dragged into Data Fields . A pop-up window will appear, like the one below:</p> <img alt="http://farm9.staticflickr.com/8105/8651882022_4def49f6ca_o_d.png" src="http://farm9.staticflickr.com/8105/8651882022_4def49f6ca_o_d.png"> </li> <li><p class="first">Choose an option from the list, then select OK.</p> </li> <li><p class="first">When you\u2019ve done all four, the tiles in the Data Fields part of the layout will look like this below:</p> <img alt="http://farm9.staticflickr.com/8105/8650783783_b21f9dea9b_o_d.png" src="http://farm9.staticflickr.com/8105/8650783783_b21f9dea9b_o_d.png"> </li> <li><p class="first">After you\u2019ve completed your layout, create the pivot table.</p> </li> <li><p class="first">This pivot table will show four pieces of data for each country where land has been acquired: the number (or \u2018count\u2019) of deals where the amount of land is recorded, the largest acquisition (\u2018max\u2019), the smallest acquisition (\u2018min\u2019) and the total amount of land (\u2018sum\u2019). Here\u2019s a clipping from the pivot table which shows the entry for Argentina:</p> <img alt="http://farm9.staticflickr.com/8536/8650783799_e5f073b57f_o_d.png" src="http://farm9.staticflickr.com/8536/8650783799_e5f073b57f_o_d.png"> </li> </ol> <div class="section" id="id6"> <h3>Section 3: Adding columns to pivot tables</h3> <p>In the previous sections, we looked at how to add row fields and data fields to your pivot tables. We also looked at how to sort and filter data in pivot tables, and how to adapt the display of data to pick out the largest and smallest values in a list. In this section, we\u2019ll add the final basic component: Column Fields.</p> </div> </div> <div class="section" id="id7"> <h2>A quick task</h2> <p>After building nearly 30 pivot tables in this course, we\u2019re sure you\u2019re now getting the hang of this. The next step is to choose the data that can be a Column Field in your pivot table.</p> <ol class="arabic"> <li><p class="first">Take as a starting point the pivot table you made about snacks in Section 2. Edit the layout. This time, drag the tile labelled \u2018Risk to Health\u2019 into the Column Fields area. It will look like this:</p> <img alt="http://farm9.staticflickr.com/8240/8650783997_2349e16a88_b_d.jpg" src="http://farm9.staticflickr.com/8240/8650783997_2349e16a88_b_d.jpg"> </li> <li><p class="first">After creating the pivot table, below is how the data in it will look with the new columns added:</p> <img alt="http://farm9.staticflickr.com/8258/8651882116_19373fb432_o_d.png" src="http://farm9.staticflickr.com/8258/8651882116_19373fb432_o_d.png"> </li> </ol> <p>The effect of adding the Column Field is to further sub-group the data. Here\u2019s the <strong>original</strong> pivot table from Section 2, so you can see the difference:</p> <img alt="http://farm9.staticflickr.com/8249/8650783891_95e27f9b02_o_d.png" src="http://farm9.staticflickr.com/8249/8650783891_95e27f9b02_o_d.png"> <p>The version that includes columns enables you to see at a glance which the high risk snacks are, what they are made of, and how many of them there are. Better avoid chocolate biscuits and cream cake!</p> </div> <div class="section" id="id8"> <h2>A longer task</h2> <p>Returning to the GRAIN dataset, we can see how adding this final dimension affects how the data is shown.</p> <ol class="arabic"> <li><p class="first">Create a basic pivot table which shows how much land (\u2018Hectares\u2019) has been acquired in each country (\u2018Landgrabbed\u2019).</p> </li> <li><p class="first">This time include the \u2018Status of deal\u2019 field in the <strong>Column Fields</strong> area of the pivot table layout editor:</p> <img alt="http://farm9.staticflickr.com/8249/8650783917_025a6c59e8_b_d.jpg" src="http://farm9.staticflickr.com/8249/8650783917_025a6c59e8_b_d.jpg"> </li> </ol> <p>The effect should be quite predictable for you by now. The pivot table will give an overview of the total amounts of land acquired for each country, broken down by the status of the deal:</p> <img alt="http://farm9.staticflickr.com/8241/8651882184_aa92a7a4ce_b_d.jpg" src="http://farm9.staticflickr.com/8241/8651882184_aa92a7a4ce_b_d.jpg"> <p>The \u2018Status of deal\u2019 field is a fairly convenient field to add to the Column Fields area. When summarised by the pivot table it has only five distinct categories. This means it fits easily into the screen area! Something like \u2018Production\u2019, which has over 100 categories, would not be as easy to view.</p> <p>Have a go at changing the layout of the pivot table whilst keeping \u2018Status of deal\u2019 as a column:</p> <ol class="arabic simple"> <li>Replace the tile in the Row Fields with \u2018Landgrabber\u2019 (ie. the investor) and change the tile in Data Fields to \u2018Projected Investment\u2019 (ie. the amount paid for land). This shows how much money investors have tied up in done deals, deals that are signed, proposed and so on.</li> <li>Replace the Row Fields with \u2018Sector\u2019 and the Data Fields with a <strong>count</strong> of the number of investors.  We covered how to do this in Section 2\u2019s Bonus Feature section. This pivot table will show the number and status of deals by the sector that the investor is most associated with.</li> </ol> </div> <div class="section" id="bonus-features-standard-filters"> <h2>Bonus features: standard filters</h2> <p>As we noted in <strong>Section 1</strong>, the sort and filter features of the spreadsheet work in pivot tables. Another useful feature that operates in pivot table data is the <strong>standard filter</strong>. We can use this to exercise far more control over what data is displayed in a worksheet, and in pivot tables. Let\u2019s see how it works.</p> <ol class="arabic"> <li><p class="first">Create this pivot table from the GRAIN data. It has \u2018Landgrabbed\u2019 and \u2018Landgrabber\u2019 as the Row Fields, \u2018Status of deal\u2019 as a Column Field, and a sum of the total size of deals (\u2018Hectares\u2019) as the Data Fields:</p> <img alt="http://farm9.staticflickr.com/8531/8650783981_1a48a58842_b_d.jpg" src="http://farm9.staticflickr.com/8531/8650783981_1a48a58842_b_d.jpg"> </li> <li><p class="first">Click <strong>OK</strong>. The data it produces will be like this:</p> <img alt="http://farm9.staticflickr.com/8246/8650784015_fd8e793109_b_d.jpg" src="http://farm9.staticflickr.com/8246/8650784015_fd8e793109_b_d.jpg"> </li> <li><p class="first">In the resulting pivot table click on the tile called \u2018Filter\u2019 in cell A1. The Filter Criteria window will pop-up.</p> </li> <li><p class="first">Change the fields to make them look the same as the below.  Then click \u2018OK\u2019 to apply this filter to the pivot table:</p> <img alt="http://farm9.staticflickr.com/8117/8651882252_5eebe5a07a_b_d.jpg" src="http://farm9.staticflickr.com/8117/8651882252_5eebe5a07a_b_d.jpg"> </li> <li><p class="first">This will filter the data to show only those deals that are equal to or larger than (&gt;= in mathematical notation) 100,000 ha.</p> </li> <li><p class="first">The filter can be removed by opening the Filter Criteria window and selecting \u2018none\u2019 in the field name drop-down menu.</p> </li> </ol> <div class="section" id="id9"> <h3>Section 4: Adding charts to pivot tables</h3> <p>You can chart data that is produced from a pivot table. Having both a summary of the data, and a chart is a way of further exploring and coming to an understanding of the data you have. Using the GRAIN data, here\u2019s a simple example of how it works.</p> <p>Once again, create a basic pivot table which shows the amount of land purchased in each country: drag \u2018Landgrabbed\u2019 into the Row Fields and \u2018Hectares\u2019 into the Data Fields. Here\u2019s a sample of how the data will appear:</p> <img alt="http://farm9.staticflickr.com/8525/8650784073_49f0d4076d_o_d.png" src="http://farm9.staticflickr.com/8525/8650784073_49f0d4076d_o_d.png"> <p>First, sort the data so the largest land deal is at the top of the list:</p> <ol class="arabic simple"> <li>Select cells B4 to A69 (in that order).</li> <li>Click the \u201cSort Descending\u201d button in the spreadsheet toolbar (it\u2019s a little \u2018up\u2019 arrow).</li> </ol> <p>Second, add a chart:</p> <ol class="arabic"> <li><p class="first">The data should still be selected from when you filtered it.</p> </li> <li><p class="first">In the top menu, go to <strong>Insert \u2192 Chart</strong></p> </li> <li><p class="first">The Chart Wizard window will pop-up. The chart it will choose is a Vertical Bar Graph. Don\u2019t change a thing, just select Finish and you\u2019ll get this dense chart:</p> <img alt="http://farm9.staticflickr.com/8099/8650784079_73eab1974a_o_d.png" src="http://farm9.staticflickr.com/8099/8650784079_73eab1974a_o_d.png"> </li> </ol> <p>Third, refine the chart to show only the 10 countries where the most land has been acquired:</p> <ol class="arabic"> <li><p class="first">By hiding rows in the pivot table, we can change what data is shown in the chart.</p> </li> <li><p class="first">Select rows 14 to 70. In the top menu, go to <strong>Format \u2192 Row \u2192 Hide</strong>. The chart will change to the below, which is far easier to grasp:</p> <img alt="http://farm9.staticflickr.com/8380/8650784069_9383c79099_o_d.png" src="http://farm9.staticflickr.com/8380/8650784069_9383c79099_o_d.png"> </li> </ol> </div> </div> <div class="section" id="id10"> <h2>A quick task</h2> <p>Try to create a pivot table with a chart showing which investors have acquired the most land.</p> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3264
sS'dateCreated'
p3265
(ixmlrpclib
DateTime
p3266
(dp3267
g32
S'20130417T12:39:48'
p3268
sbsS'wp_author_display_name'
p3269
S'Michael Bauer'
p3270
sS'link'
p3271
S'http://schoolofdata.org/handbook/courses/gentle-introduction-exploring-and-understanding-data/'
p3272
sS'page_status'
p3273
S'publish'
p3274
sS'categories'
p3275
(lp3276
sS'wp_page_template'
p3277
S'default'
p3278
sS'mt_allow_pings'
p3279
I0
sS'date_created_gmt'
p3280
(ixmlrpclib
DateTime
p3281
(dp3282
g32
S'20130417T10:39:48'
p3283
sbssS'93'
p3284
(dp3285
S'wp_author'
p3286
S'Laura Newman'
p3287
sS'userid'
p3288
S'923'
p3289
sS'excerpt'
p3290
g8
sS'wp_page_parent_id'
p3291
I0
sS'mt_allow_comments'
p3292
I1
sS'text_more'
p3293
g8
sS'custom_fields'
p3294
(lp3295
sS'wp_author_id'
p3296
S'923'
p3297
sS'title'
p3298
S'Blog'
p3299
sS'wp_password'
p3300
g8
sS'wp_page_parent_title'
p3301
g8
sS'page_id'
p3302
I93
sS'wp_slug'
p3303
S'blog'
p3304
sS'wp_page_order'
p3305
I0
sS'permaLink'
p3306
S'http://schoolofdata.org/blog/'
p3307
sS'description'
p3308
g8
sS'dateCreated'
p3309
(ixmlrpclib
DateTime
p3310
(dp3311
g32
S'20120619T16:56:04'
p3312
sbsS'wp_author_display_name'
p3313
S'Laura Newman'
p3314
sS'link'
p3315
S'http://schoolofdata.org/blog/'
p3316
sS'page_status'
p3317
S'publish'
p3318
sS'categories'
p3319
(lp3320
sS'wp_page_template'
p3321
S'magazine-front.php'
p3322
sS'mt_allow_pings'
p3323
I1
sS'date_created_gmt'
p3324
(ixmlrpclib
DateTime
p3325
(dp3326
g32
S'20120619T16:56:04'
p3327
sbssS'2880'
p3328
(dp3329
S'wp_author'
p3330
S'Michael Bauer'
p3331
sS'userid'
p3332
S'2191'
p3333
sS'excerpt'
p3334
g8
sS'wp_page_parent_id'
p3335
I2873
sS'mt_allow_comments'
p3336
I1
sS'text_more'
p3337
g8
sS'custom_fields'
p3338
(lp3339
(dp3340
S'value'
p3341
S'1121103404'
p3342
sS'id'
p3343
S'7805'
p3344
sS'key'
p3345
S'dsq_thread_id'
p3346
sasS'wp_author_id'
p3347
S'2191'
p3348
sS'title'
p3349
S'Course outline: a gentle introduction to cleaning data'
p3350
sS'wp_password'
p3351
g8
sS'wp_page_parent_title'
p3352
S'Courses'
p3353
sS'page_id'
p3354
I2880
sS'wp_slug'
p3355
S'data-cleaning'
p3356
sS'wp_page_order'
p3357
I0
sS'permaLink'
p3358
S'http://schoolofdata.org/handbook/courses/data-cleaning/'
p3359
sS'description'
p3360
V<div class="content">  <div class="well"><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology.</p> </div><div class="section" id="course-outline-a-gentle-introduction-to-cleaning-data">   <p>It\u2019s quite hard to get emotional about data, but let\u2019s try. Stop what you\u2019re doing for a minute. Look at the picture below. What  joy! The yellow smiling bears \u2026 what a scene! All that\u2019s missing is fireworks.</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8219/8412778423_2b06c83e7b_o_d.jpg" src="http://farm9.staticflickr.com/8219/8412778423_2b06c83e7b_o_d.jpg"> <p class="caption">Image source: China Daily / Reuters, 17 January 2006. Image rights reserved.</p> </div> <p>Now, imagine the disappointment of finding out that your attempt to create the world\u2019s largest ice cream cake had been ruined because of a <strong>spreadsheet error</strong> caused by a single blank space in the column called \u201cquantities of ice cream\u201d.  It\u2019s not a nice feeling is it? (Luckily this didn\u2019t happen, and probably nobody got fired, and everyone is very happy with the truly meaningful achievement of creating an <a class="reference external" href="http://thelargest.net/ice-cream-cake">8 ton ice cream cake</a>.)</p> <p>Errors in data and the tools used to manage it are common enough that there is actually an international organisation called the European Spreadsheet Risks Interest Group that advises on how to reduce the errors people make when using spreadsheets. ESRIG tracks \u201chorror stories\u201d of where <a class="reference external" href="http://www.eusprig.org/horror-stories.htm">data errors in spreadsheets have led to real consequences</a>. These include billions in missing oil revenue, tens of thousands of Olympic tickets being oversold, and huge salaries being given because of accidentally inserted zeros. Some errors are deliberate and criminal. Others are just down to the complexity of managing data.  Some errors occur because of the way spreadsheets behave.</p> <p>This School of Data course is a gentle introduction to <strong>reducing errors by cleaning data</strong>, which means a number of things, including:</p> <ul class="simple"> <li>finding and removing unwanted bits of data in spreadsheets</li> <li>formatting data correctly for the tools that you are using</li> <li>dealing with inconsistencies in the data</li> <li>structuring it so it can be used effectively for what you want it to do</li> </ul> <div class="section" id="course-requirements"> <h2>Course requirements</h2> <p><strong>A gentle Introduction to cleaning data</strong> builds on the School of Data course called <a class="reference external" href="../#data-fundamentals">Data Fundamentals</a>, which covers the basics of working with data.</p> <p>To do this course you will <strong>require the following</strong>:</p> <ul class="simple"> <li>a spreadsheet tool, such as Excel (which costs money) or Libre Office (which doesn\u2019t), installed on your computer. We assume you know how to do this.</li> <li>some basic knowledge of using a spreadsheet, including creating files, entering data and simple formulae into cells, selecting, copying and pasting data. If you want to brush up on these things, the Knight Digital Media Centre has an excellent set of <a class="reference external" href="http://multimedia.journalism.berkeley.edu/tutorials/spreadsheets/">basic tutorials on spreadsheets</a>.</li> <li>a copy of the course dataset, which is GRAIN\u2019s data on \u201c<a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data">land grabbing</a>\u201d. We have used this data both because it is an interesting dataset, and because it speaks to the experience of activists in researching and pulling data together about and issue.It also provides a full set of really excellent problems that we can work to solve. Finally, we will also be using it as the basis of the course on descriptive analysis of data, which is coming soon.</li> </ul> </div> <div class="section" id="course-contents"> <h2>Course contents</h2> <p>The course content is as follows:</p> <ul class="simple"> <li>The Course Outline, which is this page you\u2019re reading now.</li> <li>Section 1: <a class="reference external" href="../data-cleaning-nuts-and-gum/">Nuts and chewing gum</a> looks at the the way data is presented in spreadsheets and how it might cause errors.</li> <li>Section 2: <a class="reference external" href="../data-cleaning-invisible-man-in-spreadsheets/">The Invisible Man is in your spreadsheet</a> is concerned with the problems of white spaces and non-printable characters and how they affect our ability to use the data.</li> <li>Section 3: <a class="reference external" href="../data-cleaning-witchs-brew/">Your data is a witch\u2019s brew</a> deals with consistency in data entry, and how to choose the right unit and format for data.</li> <li>Section 4: <a class="reference external" href="../data-cleaning-wrong-suitcase/">Did you bring the wrong suitcase (again)?</a> is about where to put data, and how to structure it.</li> <li>Accompanying these sections is a <a class="reference external" href="../../recipes/cleaning-data-with-spreadsheets/">step-by-step recipe</a> for cleaning a dataset. This is an extensive, handbook-style resource which we refer to in each section. It takes a set of \u2018dirty\u2019 data and moves it through the different steps to make it \u2018clean\u2019.</li> </ul> <p>Each section of this course contains:</p> <ul class="simple"> <li>An <strong>introduction</strong> to the challenge: we\u2019ve tried to explain the problems in a helpful, lighthearted and possibly inappropriate way.</li> <li>A <strong>quick task</strong> which should take around 15 minutes to familiarise yourself with the issue. We\u2019ll usually ask you to make or do something, and post your work in the section\u2019s discussion area.</li> <li>A <strong>longer task</strong> taken from the data cleaning recipe. Some tasks are short, but others may take up to an hour.</li> <li>A <strong>reading list</strong> containing useful references and resources. We have included links to essays, spreadsheet product help pages, blogs and so on.</li> <li>A <strong>question</strong> about the material in the section which you can answer in the discussion area. Please post comments on each section, share your thoughts and give feedback on your progress.</li> </ul> </div> <div class="section" id="how-to-do-this-course"> <h2>How to do this course</h2> <p>We suggest that:</p> <ul class="simple"> <li>You go through sections 1-4 and do the quick tasks first, and then do it again with the longer tasks based on the data cleaning recipe.</li> <li>Don\u2019t suffer in silence. We know you\u2019re persistent and driven to learn and we\u2019re here to help.</li> </ul> <p>Set up? Ready to go?</p> <p>Good. Say hello and introduce yourself in the discussion area, and then get cracking with Section 1: Nuts and chewing gum.</p> <a href="../data-cleaning-nuts-and-gum/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3361
sS'dateCreated'
p3362
(ixmlrpclib
DateTime
p3363
(dp3364
g32
S'20130202T23:10:19'
p3365
sbsS'wp_author_display_name'
p3366
S'Michael Bauer'
p3367
sS'link'
p3368
S'http://schoolofdata.org/handbook/courses/data-cleaning/'
p3369
sS'page_status'
p3370
S'publish'
p3371
sS'categories'
p3372
(lp3373
sS'wp_page_template'
p3374
S'default'
p3375
sS'mt_allow_pings'
p3376
I0
sS'date_created_gmt'
p3377
(ixmlrpclib
DateTime
p3378
(dp3379
g32
S'20130202T21:10:19'
p3380
sbssS'3052'
p3381
(dp3382
S'wp_author'
p3383
S'Lucy Chambers'
p3384
sS'userid'
p3385
S'239'
p3386
sS'excerpt'
p3387
g8
sS'wp_page_parent_id'
p3388
I2889
sS'mt_allow_comments'
p3389
I1
sS'text_more'
p3390
g8
sS'custom_fields'
p3391
(lp3392
(dp3393
S'value'
p3394
S'1123342415'
p3395
sS'id'
p3396
S'8079'
p3397
sS'key'
p3398
S'dsq_thread_id'
p3399
sasS'wp_author_id'
p3400
S'239'
p3401
sS'title'
p3402
S'Walkthrough: Presenting our information as a webpage'
p3403
sS'wp_password'
p3404
g8
sS'wp_page_parent_title'
p3405
S'Recipes'
p3406
sS'page_id'
p3407
I3052
sS'wp_slug'
p3408
S'publishing-work-online'
p3409
sS'wp_page_order'
p3410
I0
sS'permaLink'
p3411
S'http://schoolofdata.org/handbook/recipes/publishing-work-online/'
p3412
sS'description'
p3413
V<div class="content">  <p>Now let\u2019s go ahead and publish our results on a webpage. This will get a bit techy but don\u2019t worry we\u2019ll guide you through. We will create a small web page containing some of the visualizations we created using a simple online tool called pastehtml. Pastehtml allows you to create html websites easily by simply editing the text online and then saving it for sharing.</p> <div class="section" id="walkthrough-presenting-our-information-as-a-webpage">   <ol class="arabic"> <li><p class="first">To start a webpage simply visit pastehtml.com</p> </li> <li><p class="first">See the input box with all the brackets? This is html code and we\u2019ll be editing it to present your results. (If you want to learn more about html code head to the <a class="reference external" href="https://p2pu.org/en/schools/school-of-webcraft/">school of webcraft</a></p> <img alt="http://farm9.staticflickr.com/8470/8112394583_9c6c439893_o.png" src="http://farm9.staticflickr.com/8470/8112394583_9c6c439893_o.png"> </li> <li><p class="first">First let\u2019s change the title of the webpage: This is the bit between \u201c&lt;title&gt;\u201d and \u201c&lt;/title&gt;\u201d. Edit it so it is appropriate.</p> </li> <li><p class="first">Then let\u2019s go and edit the content for a webpage (this is the part between \u201c&lt;body&gt;\u201d and \u201c&lt;/body&gt;\u201d). See the text between \u201c&lt;p&gt;\u201d this defines a paragraph. Go ahead and edit it!</p> </li> <li><p class="first">You can click on \u201cPublish page\u201d to see how your page will look like (approximately).</p> </li> <li><p class="first">On the top you\u2019ll always have the possibility to go back and edit.</p> </li> <li><p class="first">Now let\u2019s add some charts we made.</p> </li> <li><p class="first">Go back to one of the charts in the spreadsheet.</p> </li> <li><p class="first">Click on the chart. See the small triangle top right of the chart: this is the options menu.</p> </li> <li><p class="first">Go and select \u201cPublish chart\u201885\u201d.There will be a popup with a lot of code in a grey box:</p> <img alt="http://farm9.staticflickr.com/8195/8112418106_fac64f623f_o.png" src="http://farm9.staticflickr.com/8195/8112418106_fac64f623f_o.png"> </li> <li><p class="first">Copy this code and paste it into the pastehtml (somewhere between &lt;body&gt; and &lt;/body&gt;). Now if you go and look at your page, the chart should be there.</p> <img alt="http://farm9.staticflickr.com/8050/8112418146_72872fde90_o.png" src="http://farm9.staticflickr.com/8050/8112418146_72872fde90_o.png"> </li> <li><p class="first">Once you are finished, click on publish and you\u2019ll get a url to your webpage. use this to share your results with your friends.</p> </li> </ol> <p>Of course if you already have a blog or something similar you can share the results there... raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3414
sS'dateCreated'
p3415
(ixmlrpclib
DateTime
p3416
(dp3417
g32
S'20130209T14:15:48'
p3418
sbsS'wp_author_display_name'
p3419
S'Lucy Chambers'
p3420
sS'link'
p3421
S'http://schoolofdata.org/handbook/recipes/publishing-work-online/'
p3422
sS'page_status'
p3423
S'publish'
p3424
sS'categories'
p3425
(lp3426
sS'wp_page_template'
p3427
S'default'
p3428
sS'mt_allow_pings'
p3429
I0
sS'date_created_gmt'
p3430
(ixmlrpclib
DateTime
p3431
(dp3432
g32
S'20130209T12:15:48'
p3433
sbssS'3053'
p3434
(dp3435
S'wp_author'
p3436
S'Lucy Chambers'
p3437
sS'userid'
p3438
S'239'
p3439
sS'excerpt'
p3440
g8
sS'wp_page_parent_id'
p3441
I2889
sS'mt_allow_comments'
p3442
I1
sS'text_more'
p3443
g8
sS'custom_fields'
p3444
(lp3445
(dp3446
S'value'
p3447
S'1121411159'
p3448
sS'id'
p3449
S'7825'
p3450
sS'key'
p3451
S'dsq_thread_id'
p3452
sasS'wp_author_id'
p3453
S'239'
p3454
sS'title'
p3455
S'Walkthrough: Scatterplot'
p3456
sS'wp_password'
p3457
g8
sS'wp_page_parent_title'
p3458
S'Recipes'
p3459
sS'page_id'
p3460
I3053
sS'wp_slug'
p3461
S'scatterplots-from-spreadsheets'
p3462
sS'wp_page_order'
p3463
I0
sS'permaLink'
p3464
S'http://schoolofdata.org/handbook/recipes/scatterplots-from-spreadsheets/'
p3465
sS'description'
p3466
V<div class="content">  <div class="section" id="walkthrough-scatterplot">   <p><strong>This tutorial uses Google spreadsheets to create a scatterplot. There is sample data for this tutorial `here`_ .</strong></p> <p>So let\u2019s create a scatterplot.</p> <ol class="arabic"> <li><p class="first">Start with World Bank Data.</p> </li> <li><p class="first">Copy it to a new sheet and put the columns \u201chealthcare expenditure total per person\u201d and \u201clife expectancy\u201d next to each other.</p> <img alt="http://farm9.staticflickr.com/8032/7982225274_2374aee969_o_d.png" src="http://farm9.staticflickr.com/8032/7982225274_2374aee969_o_d.png"> </li> <li><p class="first">Click <tt class="docutils literal"><span class="pre">insert</span></tt> <tt class="docutils literal"><span class="pre">charts...</span></tt> and select \u201cscatter plot\u201d from charts.</p> </li> <li><p class="first">Select the first one, since this is what we want to do.</p> </li> </ol> <p>#. And there you go: simply adapt the scatterplot so it looks nice. Don\u2019t forget to label axes. Try to make the dots smaller if there is significant overlap. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3467
sS'dateCreated'
p3468
(ixmlrpclib
DateTime
p3469
(dp3470
g32
S'20130209T14:15:57'
p3471
sbsS'wp_author_display_name'
p3472
S'Lucy Chambers'
p3473
sS'link'
p3474
S'http://schoolofdata.org/handbook/recipes/scatterplots-from-spreadsheets/'
p3475
sS'page_status'
p3476
S'publish'
p3477
sS'categories'
p3478
(lp3479
sS'wp_page_template'
p3480
S'default'
p3481
sS'mt_allow_pings'
p3482
I0
sS'date_created_gmt'
p3483
(ixmlrpclib
DateTime
p3484
(dp3485
g32
S'20130209T12:15:57'
p3486
sbssS'3050'
p3487
(dp3488
S'wp_author'
p3489
S'Lucy Chambers'
p3490
sS'userid'
p3491
S'239'
p3492
sS'excerpt'
p3493
g8
sS'wp_page_parent_id'
p3494
I2889
sS'mt_allow_comments'
p3495
I1
sS'text_more'
p3496
g8
sS'custom_fields'
p3497
(lp3498
sS'wp_author_id'
p3499
S'239'
p3500
sS'title'
p3501
S'Creating an Interactive Bubble Chart'
p3502
sS'wp_password'
p3503
g8
sS'wp_page_parent_title'
p3504
S'Recipes'
p3505
sS'page_id'
p3506
I3050
sS'wp_slug'
p3507
S'interactive_bubble_charts'
p3508
sS'wp_page_order'
p3509
I0
sS'permaLink'
p3510
S'http://schoolofdata.org/handbook/recipes/interactive_bubble_charts/'
p3511
sS'description'
p3512
V<div class="content">  <div class="section" id="creating-an-interactive-bubble-chart">   <p><strong>This tutorial uses Google spreadsheets to create an Interactive Bubble Chart. There is sample data for this tutorial `here`_ .</strong></p> <ol class="arabic"> <li><p class="first">Start with the World Bank dataset.</p> </li> <li><p class="first">Select all years and all countries (except the names that are definitely not countries: such as world, North America and son on).</p> </li> <li><p class="first">Copy the data to a new sheet.</p> </li> <li><p class="first">In order to do animated bubble plots you\u2019ll need to order your columns so that is country names, B is year and the rest are values you\u2019re interested in. The column order will affect the way the gadget is set up per default.</p> <img alt="http://farm9.staticflickr.com/8453/7982243972_2913843fa7_o.png" src="http://farm9.staticflickr.com/8453/7982243972_2913843fa7_o.png"> </li> <li><p class="first">Now mark the whole sheet and click \u201cinsert\u201d \u201cgadget\u201d</p> </li> <li><p class="first">Select \u201ccharts\u201d and \u201cmotion chart\u201d.</p> <img alt="http://farm9.staticflickr.com/8463/8112394477_f78ca0eecf_o.png" src="http://farm9.staticflickr.com/8463/8112394477_f78ca0eecf_o.png"> </li> <li><p class="first">You\u2019ll see the chart loading.</p> </li> <li><p class="first">You can adjust the values for each of the axis and the size. And you can slide through the years.</p> </li> </ol> <p>#. Click on play and see how the world changes in 10 years. .. raw:: html</p> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3513
sS'dateCreated'
p3514
(ixmlrpclib
DateTime
p3515
(dp3516
g32
S'20130209T14:15:32'
p3517
sbsS'wp_author_display_name'
p3518
S'Lucy Chambers'
p3519
sS'link'
p3520
S'http://schoolofdata.org/handbook/recipes/interactive_bubble_charts/'
p3521
sS'page_status'
p3522
S'publish'
p3523
sS'categories'
p3524
(lp3525
sS'wp_page_template'
p3526
S'default'
p3527
sS'mt_allow_pings'
p3528
I0
sS'date_created_gmt'
p3529
(ixmlrpclib
DateTime
p3530
(dp3531
g32
S'20130209T12:15:32'
p3532
sbssS'3051'
p3533
(dp3534
S'wp_author'
p3535
S'Lucy Chambers'
p3536
sS'userid'
p3537
S'239'
p3538
sS'excerpt'
p3539
g8
sS'wp_page_parent_id'
p3540
I2889
sS'mt_allow_comments'
p3541
I1
sS'text_more'
p3542
g8
sS'custom_fields'
p3543
(lp3544
(dp3545
S'value'
p3546
S'1121101559'
p3547
sS'id'
p3548
S'7783'
p3549
sS'key'
p3550
S'dsq_thread_id'
p3551
sasS'wp_author_id'
p3552
S'239'
p3553
sS'title'
p3554
S'Creating Line Charts'
p3555
sS'wp_password'
p3556
g8
sS'wp_page_parent_title'
p3557
S'Recipes'
p3558
sS'page_id'
p3559
I3051
sS'wp_slug'
p3560
S'line-charts-from-spreadsheets'
p3561
sS'wp_page_order'
p3562
I0
sS'permaLink'
p3563
S'http://schoolofdata.org/handbook/recipes/line-charts-from-spreadsheets/'
p3564
sS'description'
p3565
V<div class="content">  <div class="section" id="creating-line-charts">   <p><strong>This tutorial uses Google spreadsheets to create a line chart.</strong></p> <p>There is sample data for this tutorial <a class="reference external" href="http://dump.tentacleriot.eu/wb-gdp-health-life.csv">here</a> .</p> <p>So let\u2019s create a line chart. Let\u2019s say we want to see how healthcare expenditure evolved in Luxembourg, our top spending country.</p> <blockquote> <div><ol class="arabic"> <li><p class="first">Go back to your World Bank data sheet.</p> </li> <li><p class="first">Remove the filter for years and filter for a single country: Luxembourg (you can do so by clicking the \u201cclear\u201d label in the filtering menu - then type Luxem and you\u2019ll see Luxembourg appear - select it).</p> </li> <li><p class="first">Now the only thing that\u2019s left is sorting by years - so you have them in right order.</p> </li> <li><p class="first">Select all of it and copy it to a new sheet.</p> </li> <li><p class="first">Now move the columns year and \u201chealthcare expenditure total per person\u201d next to each other.</p> <img alt="http://farm9.staticflickr.com/8305/7982104847_5a4be76fc7_o_d.png" src="http://farm9.staticflickr.com/8305/7982104847_5a4be76fc7_o_d.png"> </li> <li><p class="first">Select both columns and select \u201cChart...\u201d from the \u201cinsert\u201d menu.</p> </li> <li><p class="first">Click on the \u201ccharts\u201d tab and select the line chart you want to plot.</p> <img alt="http://farm9.staticflickr.com/8330/8079886985_49583d3d90_o_d.png" src="http://farm9.staticflickr.com/8330/8079886985_49583d3d90_o_d.png"> </li> <li><p class="first">You already know how to manipulate the look of a chart, so go and play around until it looks similar to the chart above!.. raw:: html</p> </li> </ol> <blockquote> <div>&lt;div class=\u201dalert alert-info\u201d&gt;Any questions? Got stuck? &lt;a class=\u201dbtn btn-large btn-info\u201d href=\u201d<a class="reference external" href="http://ask.schoolofdata.org">http://ask.schoolofdata.org</a>\u201c&gt;Ask School of Data! &lt;/a&gt;&lt;/div&gt;</div></blockquote> </div></blockquote> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3566
sS'dateCreated'
p3567
(ixmlrpclib
DateTime
p3568
(dp3569
g32
S'20130209T14:15:40'
p3570
sbsS'wp_author_display_name'
p3571
S'Lucy Chambers'
p3572
sS'link'
p3573
S'http://schoolofdata.org/handbook/recipes/line-charts-from-spreadsheets/'
p3574
sS'page_status'
p3575
S'publish'
p3576
sS'categories'
p3577
(lp3578
sS'wp_page_template'
p3579
S'default'
p3580
sS'mt_allow_pings'
p3581
I0
sS'date_created_gmt'
p3582
(ixmlrpclib
DateTime
p3583
(dp3584
g32
S'20130209T12:15:40'
p3585
sbssS'4281'
p3586
(dp3587
S'wp_author'
p3588
S'Michael Bauer'
p3589
sS'userid'
p3590
S'2191'
p3591
sS'excerpt'
p3592
g8
sS'wp_page_parent_id'
p3593
I2873
sS'mt_allow_comments'
p3594
I1
sS'text_more'
p3595
g8
sS'custom_fields'
p3596
(lp3597
(dp3598
S'value'
p3599
S'1230791636'
p3600
sS'id'
p3601
S'18740'
p3602
sS'key'
p3603
S'dsq_thread_id'
p3604
sasS'wp_author_id'
p3605
S'2191'
p3606
sS'title'
p3607
S'What is the difference between budgets and spending?'
p3608
sS'wp_password'
p3609
g8
sS'wp_page_parent_title'
p3610
S'Courses'
p3611
sS'page_id'
p3612
I4281
sS'wp_slug'
p3613
S'budgets-and-spending-intro'
p3614
sS'wp_page_order'
p3615
I0
sS'permaLink'
p3616
S'http://schoolofdata.org/handbook/courses/budgets-and-spending-intro/'
p3617
sS'description'
p3618
V<div class="content">  <div class="section" id="what-is-the-difference-between-budgets-and-spending">   <p>This section draws on material from the <a class="reference external" href="http://openspending.org/resources/handbook/">Spending Data Handbook</a>.</p> <p>Before you start to work with your financial data, it\u2019s important to get a feeling for the two key different types of data you may encounter.</p> <p>While these terms may have different meanings on a country by country basis, it is possible to separate the types of data into two basic types by looking at the political significance and technical differences between the data. In this section, we look briefly at the two different types of data and what questions can be addressed using them.</p> <div class="section" id="budget-data-political-details"> <h2>Budget Data - Political Details</h2> <p>Budget data is defined as data relating to the broad funding priorities set forth by a government, often highly aggregated or grouped by goals at a particular agency or ministry. For instance, a government may pass a budget which contains elements such as \u201cAllocate $20 million in funding for clean energy grants\u201d or \u201cAllocate $5 billion for space exploration on Mars\u201d. These data are often produced by a parliament or legislature, on an annual or semi-annual basis.</p> </div> <div class="section" id="spending-data-execution-details"> <h2>Spending Data - Execution Details</h2> <p>Spending data is defined as data relating to the specific expenditure of funds from the government. This may take the form of a contract, loan, refundable tax credit, pension fund payments, or payments from other retirement assistance programs and government medical insurance programs. In the context of our previous examples, spending data examples might be a $5,000 grant to Johnson\u2019s Wind Farm for providing renewable wind energy, or a contract for $750,000 to Boeing to build Mars rover component parts. Spending data is often transactional in nature, specifying a recipient, amount, and funding agency or ministry. Sometimes, when the payments are to individuals or there are privacy concerns, the data are aggregated by geographic location or fiscal year.</p> <p>The fiscal data of some governments may blur the lines of these definitions, but the aim is to separate the political documents from the raw output of government activity. It will always be an ultimate goal to link these two datasets, and to allow the public to see if the funding priorities set by one part of the government are being carried out by another part, but this is often impractical in larger governments since definitions of programs and goals can be \u201cfuzzy\u201d and vary from year to year.</p> <img alt="http://content.openspending.org/resources/handbook/static/budget-spending-data-3.jpg" src="http://content.openspending.org/resources/handbook/static/budget-spending-data-3.jpg"> <div class="section" id="budget-data"> <h3>Budget data</h3> <p>Using the definitions above, budget data is often comprised of two main portions: revenue and taxation data and planned expenditures. Revenue and spending are two sides of the same coin and thus deserve to be jointly considered when budget data is released by a government. Especially since revenue tends to be aggregated to protect the privacy of individual taxpayers, it makes more sense to view it alongside the budget data. It often appears aggregated by income bracket (for personal taxes) or by industrial classification (for corporate taxes) but does not appear at all in spending data. Therefore, budget data ends up being the only source for determining trends and changes in revenue data.</p> <p>Somewhat non-intuitively, revenue data itself can include expenditures as well. When a particular entity or economic behaviour would normally be taxed but an exception is written into the law, this is often referred to as a tax expenditure. Tax expenditures are often reported separately from the budget, often in different documents or at a different time. This often stems from the fact that they are released by separate bodies, such as executive agencies or ministries that are responsible for taxation, instead of the legislature (<a class="reference external" href="http://internationalbudget.org/wp-content/uploads/Looking-Beyond-the-Budget-2-Tax-Expenditures.pdf">http://internationalbudget.org/wp-content/uploads/Looking-Beyond-the-Budget-2-Tax-Expenditures.pdf</a>).</p> </div> </div> <div class="section" id="budgets-as-datasets"> <h2>Budgets as datasets</h2> <p>A growing number of governments make their budget expenditure data available as machine-readable spreadsheets. This is the preferred method for many users, as it is accessible and requires few software skills to get started. Other countries release longer reports that discuss budget priorities as a narrative. Some countries do something in between where they release reports that contain tables, but that are published in PDF and other formats from which the data is difficult to extract.</p> <p>On the revenue side, the picture is considerably bleaker, as many governments are still entrenched in the mindset of releasing revenue estimates as large reports that are mostly narrative with little easily extractable data. Tax expenditure reports often suffer from these same problems.</p> <p>Still, some areas that relate to government revenue are beginning to be much better documented and databases are beginning to be established. This includes budget support through development aid, for which data is published under the IATI (<a class="reference external" href="http://www.aidtransparency.net/">http://www.aidtransparency.net/</a>) and OECD DAC CRS (<a class="reference external" href="http://stats.oecd.org/Index.aspx?DatasetCode=CRSNEW">http://stats.oecd.org/Index.aspx?DatasetCode=CRSNEW</a>) schemes. Data about revenues from extractive industries is starting to be covered under the EITI (<a class="reference external" href="http://eiti.org/">http://eiti.org/</a>) with the US and various other regions introducing new rules for mandatory and granular disclosure of extractives revenue. Data regarding loans and debt is fairly scattered, with the World Bank providing a positive example (<a class="reference external" href="https://finances.worldbank.org/">https://finances.worldbank.org/</a>), while other major lenders (such as the IMF) only report highly aggregated figures. An overview of related data sources can be found at the Public Debt Management Network (<a class="reference external" href="http://www.publicdebtnet.org/public/Statistics/">http://www.publicdebtnet.org/public/Statistics/</a>).</p> </div> <div class="section" id="connecting-revenues-and-spending"> <h2>Connecting revenues and spending</h2> <p>It is highly desirable to be able to determine the flow of money from revenues to spending. For the most part, many taxes go into a general fund and many expenditures come out of that general fund, making this comparison moot. But in some cases, in many countries, there are taxes on certain behaviours that are used to fund specific items.</p> <p>For example, a car registration fee might be used to fund the construction of roads and highways. This would be an example of a user fee, where the main users of the government service are funding it directly. Or you might have a tax on cigarettes and alcohol that funds healthcare grants. In this case, the tax is being used to offset the added healthcare expense of individuals taking part in at-risk activities. Allowing citizens to view what activities are taxed in order to pay for other expenditures makes it possible to see when a particular activity is being cross-subsidized or heavily funded by non-beneficiaries. It can also allow them to see when funds are being diverted or misused. This may not always be practical at the country level, as federal governments tend to make much larger use of the general fund than other local governments. Typically, local governments are more comprehensive with regards to releasing budget data by fund. Having granular, fund-level data is what makes this kind of comparison and oversight possible.</p> <img alt="http://content.openspending.org/resources/handbook/static/funding_1.jpg" src="http://content.openspending.org/resources/handbook/static/funding_1.jpg"> </div> <div class="section" id="what-questions-can-be-answered-using-budget-data"> <h2>What questions can be answered using budget data?</h2> <p>Budget expenditure data has an array of different applications, but it\u2019s prime role is to communicate to it\u2019s user broad trends and priorities in government spending. While it can help to have a prose accompaniment, the data itself promotes a more clear-cut interpretation of proposed government spending over political rhetoric. Additionally, it is much easier to communicate budget priorities by economic sector or category than it is at the spending data level. These data also help citizens and CSOs track government spending year over year, provided that the classification of the budget expenditure data stays relatively consistent.</p> <div class="section" id="spending-data"> <h3>Spending data</h3> <p>For most purposes, spending data can be interpreted as transactional or near-transactional data. Rather than communicating the broad spending priorities of the government like budget data should, spending data is intended to convey specific recipients, geographic locations of spending, more detailed categorisation, or even spending by account number.</p> <p>Spending data is often created at the executive level, as opposed to legislative, and should be more frequently reported than budget data. It can include many different types of expenditures, such as contracts, grants, loan payments, direct payments for income assistance and maintenance, pension payments, employee salaries and benefits, intergovernmental transfers, insurance payments, and more.</p> <p>Some types of spending data - such as contracts and grants - can be connected to related procurement information (such as the tender documents and contracts) to add more context regarding the individual payments and to get a clearer picture of the goods and services covered under these transactions.</p> </div> </div> <div class="section" id="opening-the-checkbook"> <h2>Opening the checkbook</h2> <p>In the past five years, there have been a spate of countries and local governments that have opened up spending data, often referred to as \u201ccheckbook level\u201d data. These countries include, but are not limited to, the US (including various state governments), UK, Brazil, India (including some state governments) and many funds of the European Union.</p> </div> <div class="section" id="what-questions-can-be-answered-using-spending-data"> <h2>What questions can be answered using spending data?</h2> <p>Spending data can be used in several different areas: oversight and accountability, strategic resource deployment by local governments and charities, and economic research. However, it is first and foremost a primary right of citizens to view detailed information about how their tax dollars are spent. Tracking who gets the money and how it\u2019s used is how citizens can detect preferential treatment to certain recipients that may be illegal, or if certain political districts might be getting more than their fair share.</p> <p>It can also help local governments and charities respond to areas of social need without duplicating federal spending that is already occurring in a certain district or going to a particular organization. Lastly, businesses can see where the government is making infrastructure improvements and investments and use that criteria when selecting future sites of business locations. These are only a few examples of the potential uses of spending data. It\u2019s no coincidence that it has ended up in a variety of commercial and non-commercial software products \u2013 it has a real, economic value as well as an intangible value as a societal good and anti-corruption measure.</p> <div class="well"><p><strong>Task:</strong> Examine whether budget and / or spending data are available for your country. Note: these may have different names (e.g. Enacted Budget)! \u201cBudget\u201d and \u201cspending\u201d are categories rather than necessarily the names of the documents, policy-folks may actually refer to what we refer to here as spending as budgets (with a particular qualifier).</p> <p>Save your file online somewhere. You may like to add it to the OpenSpending group on the <a class="reference external" href="http://datahub.io/dataset?groups=openspending&amp;q=openspending">Datahub</a> - make sure to add all the necessary tags and details so that you (and others) can find it there.</p> <p><strong>Extra Credit:</strong> Read the definition of <em class="xref std std-term">machine readable</em> in the School of Data <a class="reference external" href="http://schoolofdata.org/handbook/appendix/glossary/">glossary</a>. Determine whether your budget or spending data is machine readable. You will need machine readable data in the next stage, so if it is non machine readable you may:</p> <ol class="arabic simple"> <li>If your data is available in a webpage, but there is no download link - scrape it! Take the <a class="reference external" href="http://schoolofdata.org/handbook/courses/scraping/">introduction to scraping</a> course. (Don\u2019t be afraid - you don\u2019t necessarily need to be able to code!)</li> </ol> <p>#. If your data is available in a PDF - take the <a class="reference external" href="http://schoolofdata.org/handbook/courses/extracting-data-from-pdf/">extracting data from PDFs</a> course. # Note: You may find it easier to submit a Freedom of Information request for machine-readable data. See this <a class="reference external" href="http://www.asktheeu.org/en/request/machine_readable_version_of_the#incoming-185">example of a successful request</a> for machine-readable data for the EU budget. Don\u2019t forget to ask for any of the supporting documents which help you to understand things like jargon, or how figures were calculated!</p> </div><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3619
sS'dateCreated'
p3620
(ixmlrpclib
DateTime
p3621
(dp3622
g32
S'20130423T11:36:39'
p3623
sbsS'wp_author_display_name'
p3624
S'Michael Bauer'
p3625
sS'link'
p3626
S'http://schoolofdata.org/handbook/courses/budgets-and-spending-intro/'
p3627
sS'page_status'
p3628
S'publish'
p3629
sS'categories'
p3630
(lp3631
sS'wp_page_template'
p3632
S'default'
p3633
sS'mt_allow_pings'
p3634
I0
sS'date_created_gmt'
p3635
(ixmlrpclib
DateTime
p3636
(dp3637
g32
S'20130423T09:36:39'
p3638
sbssS'10'
p3639
(dp3640
S'wp_author'
p3641
S'Rufus Pollock'
p3642
sS'userid'
p3643
S'2'
p3644
sS'excerpt'
p3645
g8
sS'wp_page_parent_id'
p3646
I0
sS'mt_allow_comments'
p3647
I0
sS'text_more'
p3648
g8
sS'custom_fields'
p3649
(lp3650
sS'wp_author_id'
p3651
S'2'
p3652
sS'title'
p3653
S'FAQs'
p3654
sS'wp_password'
p3655
g8
sS'wp_page_parent_title'
p3656
g8
sS'page_id'
p3657
I10
sS'wp_slug'
p3658
S'frequently-asked-questions'
p3659
sS'wp_page_order'
p3660
I0
sS'permaLink'
p3661
S'http://schoolofdata.org/frequently-asked-questions/'
p3662
sS'description'
p3663
V[toc title="On this page"]\u000a\u000a### What is the purpose of the School of Data?\u000a\u000aSchool of Data works to empower civil society organizations, journalists and citizens with the skills they need to use data effectively in their efforts to create more equitable and effective societies.\u000a\u000a### Why is it needed? \u000a\u000a<img alt="" src="http://farm8.staticflickr.com/7129/8166758202_665574e31d_m.jpg" title="School of Data Sticker" class="pull-left" style="margin-right: 1em;" />\u000a\u000aThere is huge potential to use data and open data to improve the lives of citizens around the world, especially in increasing the transparency and accountability of government.\u000a\u000aHowever, many of the groups who are closest to the problems - NGOs, journalists, and citizens - currently lack the skills to use data effectively -- and even an awareness of the potential of data for their work.\u000a\u000aSchool of Data's mission is to teach people how to gain powerful insights and create compelling stories using data.\u000a\u000a### Who is the School of Data for?\u000a\u000aEveryone! \u000a\u000aThe School of Data is a global community and people from all backgrounds are welcome to participate. We hope that the School of Data will prove particularly valuable for civil society organisations, journalists and those looking to use data in their workplace (or to get a job). \u000a\u000a#### What levels do you cater for? \u000a\u000a<img alt="" src="http://farm7.staticflickr.com/6060/6270098126_a1792b8c98_n.jpg" title="Visualising budgets" class="pull-right" style="margin-left: 1em;" />\u000a\u000aThe School of Data begins with the basics and aims to get as technical as you need to get. Sometimes you may need to learn a little bit of code to really get the most out of your data and we'll aim to teach you where to learn more by curating the best resources from around the web and filling in any gaps where required.\u000a\u000aThere are no prior requirements for statistical knowledge or the ability to code. But if you\u2019re struggling or we're going too fast, do <a href="mailto:schoolofdata@okfn.org?Subject=Help%20me">let us know</a>! \u000a\u000a### Is it free? \u000a\u000aAll our online materials are free and built by our community. They're released under a CC-BY-SA licence so that anyone can use, reuse and redistribute them. \u000a\u000aWe also offer offline training courses and can send one of our data wranglers to run a custom workshop in your area or advise you on your organisation's data-policies. If you would like more details of what we can offer, please simply <a href="mailto:schoolofdata@okfn.org?Subject=Workshop">get in touch</a>.\u000a\u000a<img alt="" src="http://farm4.staticflickr.com/3503/5809999714_a9f58ee785.jpg" title="Europe's Energy Visualisation" class="alignnone" width="640" height="640" />\u000a\u000a### How does the School of Data work?\u000a\u000aA key point starting point is that almost none of the groups we want to engage start out saying: "I want data skills" - indeed they are often unaware of the potential of data to assist them in their work (and it\u2019s impossible to ask people what they do not know!). Thus, our approach focuses on learning by doing and is driven by helping participants address real problems - with skilling-up happening as part of this this process.\u000a\u000a#### Data Expeditions\u000a\u000aA data expedition is an exploration-based approach to learning. We get hands on with real data and take people through all of the steps of a data investigation from formulating the right question through cleaning, analysis - all the way to presenting your data. People learn the skills they need, as they need them. \u000a\u000aIn a data expedition, you are given a topic to research and you learn in a team. We try and pair participants with someone with more advanced skills and we encourage people to ask and answer questions along the way.  Expeditions have been designed (and tested) for both online and offline.\u000a\u000a### Community mentoring (as support for the Data Expeditions)\u000a\u000aOn a data expedition, where participants can pick everything from the angle to the execution of the final projects themselves - having human support can be a lot faster and more effective than just reading a tutorial (if people can find one in the first place). \u000a\u000aWe're aiming to pilot a mentoring scheme from the community, where community members will jump in to help with particular questions and issues as and when they are required. \u000a\u000a### Can I get a formal qualification from the School of Data?\u000a\u000aA key aspect to valuing and showcasing your skills is accreditation. We\u2019ll be working with the new OpenBadging community to deliver lightweight accreditation and recognition through certified online \u201cbadges\u201d. \u000a\u000a### Who is behind the School of Data?\u000a\u000aThe School of Data is being led by the [Open Knowledge Foundation](http://okfn.org/) (OKFN) and [Peer 2 Peer University](https://p2pu.org/en/) (P2PU). Other organisations are welcome to join us - for example, we are already working with [Tactical Technology Collective](http://www.tacticaltech.org/) to produce courses geared towards their human rights audience. \u000a\u000aIf your organisation would like to get involved in the School of Data contact us at schoolofdata [@] okfn.org\u000a\u000aThe School of Data is generously supported by [Open Society Foundations](http://www.soros.org/), the [Hewlett Foundation](http://www.hewlett.org/) and the [Shuttleworth Foundation](http://www.shuttleworthfoundation.org/). We are very grateful to them all for making this initiative possible.\u000a\u000a### Is the School of Data independent?\u000a\u000a<img alt="" src="http://farm8.staticflickr.com/7079/7301641264_eb8b7f71c5_n.jpg" title="Laura at the Planning Sprint" class="pull-right" style="margin-left: 1em;" />\u000a\u000aYep - we do our own thing, driven by what our community needs and wants.   \u000a\u000a### Do you promote any particular political agenda?\u000a\u000aSchool of Data does not promote any specific political agenda. \u000a\u000aWe work with open data where possible but acknowledge that a lot of data that people will need to use or re-mash with is closed so we work with whatever data is available. \u000a\u000a### What is the School of Data\u2019s attitude towards proprietary or closed source software and data tools?\u000a\u000aThe School of Data adopts a \u2018pragmatic not fanatic\u2019 approach to the question of open source software. \u000a\u000aP2PU and the OKFN both believe strongly in the principle of open source. Where an open source tool is as effective as a closed alternative, it will always be preferred. However, questions of functionality, usability and accessibility are paramount so we'll occasionally recommend the use of closed source programs where these are in the best interests of learners. For example - in many of our courses we make use of Google tools (particularly spreadsheets) as they provide a very easy solution to a lot of the online data work and collaborative editing which we do. \u000a\u000a### How are School of Data materials licensed?\u000a\u000aAll School of Data materials will be released under CC-BY-SA license including contributor material - so please make sure you are happy with this or that a suitably compatible licence applies to material from other places. \u000a\u000a### I have a question that isn\u2019t answered here, what should I do?\u000a\u000aDrop an email to schoolofdata [@] okfn.org and someone will get back to you as soon as possible!
p3664
sS'dateCreated'
p3665
(ixmlrpclib
DateTime
p3666
(dp3667
g32
S'20120321T10:37:06'
p3668
sbsS'wp_author_display_name'
p3669
S'Rufus Pollock'
p3670
sS'link'
p3671
S'http://schoolofdata.org/frequently-asked-questions/'
p3672
sS'page_status'
p3673
S'publish'
p3674
sS'categories'
p3675
(lp3676
sS'wp_page_template'
p3677
S'default'
p3678
sS'mt_allow_pings'
p3679
I0
sS'date_created_gmt'
p3680
(ixmlrpclib
DateTime
p3681
(dp3682
g32
S'20120321T10:37:06'
p3683
sbssS'1068'
p3684
(dp3685
S'wp_author'
p3686
S'Michael Bauer'
p3687
sS'userid'
p3688
S'2191'
p3689
sS'excerpt'
p3690
g8
sS'wp_page_parent_id'
p3691
I925
sS'mt_allow_comments'
p3692
I1
sS'text_more'
p3693
g8
sS'custom_fields'
p3694
(lp3695
(dp3696
S'value'
p3697
S'985738155'
p3698
sS'id'
p3699
S'1559'
p3700
sS'key'
p3701
S'dsq_thread_id'
p3702
sasS'wp_author_id'
p3703
S'2191'
p3704
sS'title'
p3705
S'Guide for Guides'
p3706
sS'wp_password'
p3707
g8
sS'wp_page_parent_title'
p3708
S'Data Expeditions'
p3709
sS'page_id'
p3710
I1068
sS'wp_slug'
p3711
S'guide-for-guides'
p3712
sS'wp_page_order'
p3713
I0
sS'permaLink'
p3714
S'http://schoolofdata.org/data-expeditions/guide-for-guides/'
p3715
sS'description'
p3716
VSchool of Data teaches data skills through exploration. We believe the best way to learn is by working through datasets which have relevance for you personally. We're looking for people with a deep interest in a particular topic or who have particular skills in coding, analysis, scouting out data, design or data-storytelling who will work with a team to guide them through a data-based investigation. \u000a\u000a\u000a<div class="centered">\u000a <a href="https://plus.google.com/u/0/communities/105002691570765593693" class="btn btn-large blue centred" style="color:#0DB1DB" "text-align:centre">Lead a Data Expedition</a>\u000a</div>\u000a<br></br>\u000a\u000a[toc title="On this page"]\u000a\u000a<br></br>\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8078/8413860823_a083d02ae4_m.jpg" title="Data Sherpa Sticker" class="pull-left" style="margin-right: 1em;" />\u000a\u000a\u000aThe Land of Data is vast and largely uncharted and you, brave explorer, find yourself heading an expedition to mount its peaks. Like sherpas on real expeditions, the guide plays an essential role in keeping an expedition on track. \u000a\u000aThe guide ensures that no-one gets stuck in dead ends, snowed under avalanches (of data or email) and sees that their team makes it to the peak. \u000a\u000aThis document contains handy tips and tricks for keeping an expedition on track. For more information on expeditions themselves, take a look at the [Data Expeditions Page](http://schoolofdata.org/data-expeditions/). \u000a\u000a<h2>The Guide</h2>\u000a\u000aThe Guide is an important role in data expeditions. While most of the\u000aexpedition is shaped by participants the guide will add to the success and\u000aexperiences of the group. As a Guide you will have numerous\u000aresponsibilities:\u000a\u000a<ul><li>Sketching and drafting a quest</li>\u000a<li>Recruiting people to your quest</li>\u000a<li>Choosing how to organise yourselves (Online)</li>\u000a<li>Introducing the first quest and setting roles</li>\u000a<li>Kicking off the introductions, making introductions and breaking the ice</li>\u000a<li>Taking care not to leave anyone behind</li>\u000a<li>Keeping the explorers on track</li>\u000a<li>Keeping morale up.</li>\u000a</ul>\u000a\u000a<h2>How to become a guide?</h2>\u000a\u000aThere are two types of data expeditions: online and offline. There are no minimum requirements in terms of skill levels, though a background in the area you are exploring or some experience in working with data will help. The only minimum requirement is that you can commit to the expedition for it's whole length - so as not to leave your expedition partners stranded up the mountain!\u000a\u000a<h3> Online </h3>\u000a\u000aTo propose an online expedition, simply suggest your proposed topic on the School of Data mailing list or contact us directly (schoolofdata [at] okfn.org) for help in organising it. \u000a\u000a<h3> Offline </h3>\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8480/8173129738_06a92976cb_n.jpg" title="Draw a Giraffe" class="pull-right" style="margin-left: 2em;" />\u000a\u000aFor offline expeditions, a lot of the same guidance applies to online expeditions. In addition, we've put together a simple pack to help you form the groups and identify roles. It's based around the role-playing game ["Dungeons and Dragons"](http://en.wikipedia.org/wiki/Dungeons_%26_Dragons) (D&D) (in case you were wondering what the picture of a dragon was for). In online role-playing games like D&D, the importance of having clearly defined roles is paramount, that's just what we're trying to recreate here with these sheets. \u000a\u000aTo run an offline expedition, you'll also need a lot of big paper, coloured pens and post-it notes! \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8059/8173096061_83bd95bac8_m.jpg" title="Draw a Giraffe" class="pull-left" style="margin-right: 2em;" />\u000a\u000a* Character sheet to print out ([front](http://www.flickr.com/photos/okfn/8181999544/in/photostream), [back](http://www.flickr.com/photos/okfn/8181962079/in/photostream)). One copy per participant. \u000a* Additionally, you might want to print out role description cards. See below for where this fits in, it is helpful to have an idea of possible tasks that someone with each skillset could perform.  \u000a* You may also want to buy yourself a cape (this is optional, but really helped to create the atmosphere at some of the offline events we've done so far. Putting slightly awkward coders in a cape is generally quite amusing.) \u000a\u000a<h4> How to use the character sheets </h4>\u000a\u000a\u000a* Hand out your role description sheets\u000a<img alt="" src="http://farm9.staticflickr.com/8489/8173087691_4f54320a72_n.jpg" title="Radial plots" class="pull-right" style="margin-left: 1em;" /> \u000a* Get people to fill in the radar plot and assign roles based on areas they are strong in. \u000a* Allow people to also specify a role that they are not so strong in, but which they would like to know more about. You can buddy them up with someone who is more advanced in those skills and encourage them to watch closely and ask lots of questions. Everyone should be willing both to teach something (no matter how basic) as well as learning something.  \u000a\u000a<h2>The Quest </h2> \u000a\u000aYou have your idea for the subject you want to tackle, you're ready to roll. (Optional) You may want to devise a suitably ridiculous name for your group: our first online expeditions ranged from "the Resourceful Puffins" to "the Hardworking Aunts"... You should also name your expedition (Bonus points for ridiculous puns revolving around online gaming).\u000a\u000aYour next tasks will fall into the main phases of the expedition.\u000a\u000a<h3> Phase 1: Getting set up and recruiting </h3>\u000a\u000aIf you are running an online data expedition, it is very important to have a way to organise your group online and communicate effectively. We suggest deciding this *before* signup begins (from experience, you'll waste a lot of time if you allow your group members to debate tools - some people enjoy this debate, but others really don't and it's not the point of the exercise). \u000a\u000aMake sure your tool of choice is appropriate to your group (if you've got a group of coders, Github may be appropriate, if not make sure you've got another way to communicate which doesn't exclude anyone!). \u000a\u000a<h4> A note on organising groups online </h4>\u000a\u000aAll of these are methods that we have seen used to organise groups online in the past. If you have ideas for more, please let us know! \u000a\u000a* Google Plus Groups (public or private)\u000a* Google Docs \u000a* Github (for code)\u000a* Email lists (OKFN can help to set up a mailing list for groups). Note: use emails sparingly - it's very easy for information to get lost in a long email thread. \u000a* Google Hangouts / Skype. Note: teams in the past have found it very useful at the very least to have audio contact, even if most of the group's contact is a-synchronous. \u000a* Meeting in person! Obviously not feasible for everyone, but great if it can happen... \u000a* Hackpads / Etherpads \u000a* Doodle for scheduling meetings \u000a\u000a<h4> A note on time frames for online expeditions </h4>\u000a \u000aDecide on a time-frame for your expedition: how long is this going to take? \u000a\u000aMake sure you communicate it clearly to your participants. Expeditions can range from a day to however long you like. \u000a\u000aSo far we have capped online expeditions at around 3 weeks to get a balance of sufficient time to participate and keeping momentum and energy high enough for long periods of time - but feel free to experiment!\u000a\u000a<h4> A note on time frames for online expeditions </h4>\u000a\u000aWe did our first data expedition at MozFest in 3 hours - you may like to try doing it for longer, however make sure your session is short enough to have people's full attention for the duration of the session and keep energy high. \u000a\u000a<h4> A note on group size </h4>\u000a\u000aTry to find the right group size it's a balance between: \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8197/8173084664_0c71c1f0ff_n.jpg" title="Friedrich Lindenberg in a cape" class="pull-left" style="margin-right: 2em;" />\u000a\u000a\u000a* **Big Group** - Higher probability that you will have all the necessary skills covered but more chance that people will not feel they have a defined role \u000a* **Small Group** - Range of skills not so broad but more likely to be focussed\u000a\u000aFor previous offline expeditions, we had group sizes of around 8 people. For online (expecting more dropout), we chose bigger groups, between 20 and 45 people. Interestingly, the bigger groups were the ones who produced the most visible outputs but people also reported feeling less like they had a clearly defined role, while smaller groups sometimes lacked the critical mass to get off the ground. \u000a\u000a<h4>A note on group dynamic and working together</h4>\u000a\u000aIt is important when you pick a topic that you think carefully about who you would like to participate. Some things to think about for your particular expedition:\u000a\u000a* Is it best to pick a group of people who already know about the topic or can you handle people who are totally new to the topic? If the latter - you may want to think about having some kind of introduction, a primer, a video or a live talk - so that people can really get into the topic and know what kind of work has been done before. \u000a* Is it best to have a mix of abilities or are you aiming for a particular level? We'd encourage a mix so that people can learn from each other, but make sure you frame whatever expectations you have... \u000a\u000a<div class="well" 'markdown="1"'>\u000a<strong>Feedback from an expedition participant</strong>\u000a"I am really impressed by what our group produced, but wondered if it would be possible to make future expeditions <em>even more radical</em>. Perhaps you could group people by those who wanted to find a particular <em>type</em> of solution to the problem, e.g. a super beautiful solution, an extremely nerdy solution... and tell them to push the expedition to its limits... "</div>\u000a\u000a<h4>A note on recruiting</h4> \u000a\u000aYou may find it helpful to have some kind of lightweight application process for your expedition. If people have to invest a little time upfront, you are more likely to get people who have enough time to put into the expedition. \u000a    \u000a\u000a\u000a<h3> Phase 2: Introductions, icebreakers, assigning roles and pairing up </h3>\u000a\u000aThe Introduction round has two purposes: \u000a1. to give everyone an overview of the skills and people present, *NOTE: don't forget to ask people which level they think they are* \u000a2. to get everyone talking. The second one is often underrated but a good introduction round will also break the ice and help people communicate later on. \u000a\u000aIn **offline** expeditions, introductions can be done along with the character sheets. \u000a\u000aIn **online** expeditions, the introduction phase is trickier. \u000a\u000aAs the groups can be relatively large, spamming everyone with email may not be the right method. Some other methods that have been suggested were:\u000a\u000a<ul>\u000a<li>Google Hangouts - visual introductions!</li>\u000a<li>Have people do a simple chart/diagram to present key facts about themselves</li>\u000a<li>Producing an online version of a character sheet</li>\u000a<li>Introductory emails introducing individuals by name, and also mentioning where they are from, what they need help with and what they would like to learn</li>\u000a<li>Use <a href="http://dev.intertwinkles.org/firestarter/">Firestarter</a> to get your group talking with a question. See our <a href="http://dev.intertwinkles.org/firestarter/f/p9sG8N#">example</a>.</li>\u000a</ul>\u000a\u000a<h4>Defining roles</h4>\u000a\u000aNow, here's the tricky part, **you need to make sure that everyone on your team has a clearly defined role.** We usually let people pick this themselves. This is important both so they know where they should start, but also so they know that being present is crucial to the success of the mission. In our offline expeditions, we tried to assign people to the following categories (see the character sheet for more details): \u000a\u000a* **Storyteller** - People who are good at finding interesting angles to explore and producing outputs that really speak to the intended audience. Storytellers are particularly key in defining the question and in pulling together the final mission reports at the end.\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8203/8172339840_4e8abee0b9_n.jpg" title="Group bonding at MozFest" class="pull-right" style="margin-left: 1em;" />\u000a\u000a* **Scout** - Scouts hunt down data from across the web. They can be non-technical or technical, depending on how difficult it is to obtain data (whether it is easily downloadable or needs to be scraped etc).\u000a* **Analyst** - Analysts are the ones who crunch the data found by the scouts and test the hypotheses generated by the storytellers.\u000a* **Engineers** - Put together the final outputs with help of the group. Engineers are usually somewhere on the technical spectrum but they don't have to necessarily be coders, we've seen loads of great outputs from people who know how to use off-the-shelf tools.\u000a* **Designers** - Beautify the outputs and make sure the *story* really comes through the data. *Note: a paper representation of how you would like to present your outputs is **just as valid** as a fully-fledged interactive graphic produced by a coder (sometimes it even serves as a precursor to an interactive).* \u000a\u000aThese are here just for guidance, feel free to adapt! \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8058/8172309015_008b597904_n.jpg" title="Skills sharing" class="pull-left" style="margin-right: 1em;" />\u000a\u000aOnce you have the roles assigned, you may want to give the roles brief descriptions of a few key tasks that will fall to people in each role. *You obviously won't be able to determine all of them - expeditions are necessarily unpredictable, but give people a ballpark!*\u000a\u000a<h4>Buddying up</h4>\u000a\u000aAllow people to also specify a role that they are not so strong in, but which they would like to know more about, you can buddy them up with someone who is more advanced in those skills and encourage them to watch closely and ask lots of questions. This is tricky online, but encourage people to let it happen. \u000a\u000a<h4>Introduce people to the notion of the expedition</h4>\u000a\u000aTalk everyone through the notion of the expedition and explain their roles to them. Make it clear the aim is to produce *something* at the end of the session, that could be a blog post, a visualisation or a load of post-it leads - don't specify, let them be as creative as possible!\u000a\u000a<h3>Phase 3: Expeditions are GO! Find your angle... </h3>\u000a\u000aStart the storytellers off thinking of a question and get them talking to the scouts and analysts about where they might find that data. \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8341/8172313597_c277cec973_n.jpg" title="Jump in death: Botswana" class="pull-right" style="margin-left: 1em;" />\u000a\u000aFor offline expeditions, you'll need lots of post it notes for this stage. For online - see the suggested tools above for ways to brainstorm creatively. This is one of the most difficult phases of the expedition and you'll probably find that lots of the angles generate nothing meaning you'll end up back at square one. \u000a\u000aTry to put a cap on the time for this so that the other phases can begin, you can always revisit and review later. \u000a\u000a<h3>Phase 4: Find and analyse the data...</h3>\u000a\u000aOnce the angle has been sorted, set the analysts and scouts hunting for and trying to find out more about the data. Is it possible to find data that answers that particular question? In this phase, storytellers can already begin documenting the mission's progress ready for the final report. \u000a\u000a<h3>Phase 5: Tell the story...</h3>\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8480/8173115870_86aae87408_n.jpg" title="Mining Mines" class="pull-left" style="margin-right: 1em;" />\u000a\u000aGet the designers and engineers listening in to the conversations happening and working out how it might be possible to present the information, and feed back into the discussion...*Note: you may choose not to have designers or engineers - we don't specify what the outputs of an expedition should be, storytellers may simply choose to present the story in a writeup... All of this is ok!*\u000a\u000a<h3>Phase 6: Wrapup...</h3> \u000a\u000aGet everyone to document their expedition, the avenues they tried which failed for some reason (the path was blocked), what worked, what data-sources the found and what tools they used. These are all useful for generating leads which people could follow up on afterwards and teaching people how a real data-campaign may be run.\u000a\u000aShare what you\u2019ve achieved! Ping @schoolofdata or schoolofdata [at] okfn.org and let us know what you did. We happily spread the word and feature the outputs on the School of Data blog!\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8200/8172340524_6692d6726a_n.jpg" title="What stopped you from achieving your goal?" class="pull-right" style="margin-left: 1em;" />\u000a\u000a\u000a<h2>Ideas for keeping expeditions running:</h2>\u000a\u000aKeeping expeditions running is tough. Sometimes the explorers are sulky that their lead has not worked out and their clothes have been damp since you left the base... Here are some ideas to keep expeditions running:\u000a\u000a<ul>\u000a<li>Have Hangouts - regular hangouts will help to build the group feeling</li>\u000a<li>Do mini sprints - In the next 5 minutes we want to \u2026 Let\u2019s do X in an hour.</li>\u000a<li>Start communicating more - ask questions, give hints, show your excitement</li>\u000a<li>If you\u2019re meeting offline - take a break. Breathe and do some exercise</li>\u000a</ul>\u000a\u000a<h2> A few things to be aware of </h2>\u000a\u000a* You will experience some attrition, it's somewhat inevitable, particularly for online expeditions. What can be helpful is to have some phases to regroup and show who is still *in*. If attrition is too bad for your expedition to continue, sometimes people get sick or busy, let us know, we'll try and find a stand-in. \u000a* Sometimes it helps to make things *over* clear. Your group members will need to know what the state of play is, what phase of the expedition they are in, where to find some information. If in doubt, the mantra <em>Tell 'em what you're gonna do, then tell 'em they're doing it, then tell 'em they've done it. </em> will probably help you a lot. \u000a\u000a# FAQs - Data Expeditions \u000a\u000a## Will there be badges or ways to recognise people for their roles in data expeditions? \u000a\u000aOur partners, P2PU are currently working on a badging infrastructure which we will experiment with in future expeditions. Watch this space! \u000a\u000a## Is there a role for topic-specific experts in a Data Expedition \u000a\u000aAbsolutely! How about inviting them to kick off an expedition with an introduction to a subject? Maybe they could also be a guide, all of these are possible! \u000a\u000a## Should you start with a dataset or start with a question? \u000a\u000aEither is possible. Adding a key dataset at the beginning of a data expedition is sometimes helpful as insurance that you'll be able to find at least some data for the expedition. For expeditions involving beginners, it can be very helpful to know some of the common pitfalls of a dataset, such as whether the data is dirty or incomplete, so that you can guide them around it! \u000a\u000a## What is School of Data's role in organising data expeditions? \u000a\u000aSchool of Data acts as a facilitator for Data Expeditions, we can: \u000a\u000a* Run individual data expeditions online or offline\u000a* Support individuals or organisations in running expeditions \u000a* Provide communications channels and infrastructure for people running data expeditions, such as mailing lists \u000a* Promote your data expedition on the blog or on the data expeditions page\u000a\u000aWe're very happy to arrange a chat to help with expeditions. Simply drop us a line via the <a href="http://lists.okfn.org/mailman/listinfo/school-of-data">School of Data mailing list</a>. \u000a\u000a<h2> If you're planning an expedition - let us know... </h2> \u000a\u000a... We'll help to spread the word about it. We'd also love to hear from you on your experiences of running expeditions to help build on and improve this guide. Looking forward to hearing from you!
p3717
sS'dateCreated'
p3718
(ixmlrpclib
DateTime
p3719
(dp3720
g32
S'20121221T11:34:40'
p3721
sbsS'wp_author_display_name'
p3722
S'Michael Bauer'
p3723
sS'link'
p3724
S'http://schoolofdata.org/data-expeditions/guide-for-guides/'
p3725
sS'page_status'
p3726
S'publish'
p3727
sS'categories'
p3728
(lp3729
sS'wp_page_template'
p3730
S'default'
p3731
sS'mt_allow_pings'
p3732
I1
sS'date_created_gmt'
p3733
(ixmlrpclib
DateTime
p3734
(dp3735
g32
S'20121221T11:34:40'
p3736
sbssS'4284'
p3737
(dp3738
S'wp_author'
p3739
S'Michael Bauer'
p3740
sS'userid'
p3741
S'2191'
p3742
sS'excerpt'
p3743
g8
sS'wp_page_parent_id'
p3744
I2873
sS'mt_allow_comments'
p3745
I1
sS'text_more'
p3746
g8
sS'custom_fields'
p3747
(lp3748
(dp3749
S'value'
p3750
S'1230436784'
p3751
sS'id'
p3752
S'18676'
p3753
sS'key'
p3754
S'dsq_thread_id'
p3755
sasS'wp_author_id'
p3756
S'2191'
p3757
sS'title'
p3758
S'Cleaning spending data'
p3759
sS'wp_password'
p3760
g8
sS'wp_page_parent_title'
p3761
S'Courses'
p3762
sS'page_id'
p3763
I4284
sS'wp_slug'
p3764
S'cleaning-spending-data'
p3765
sS'wp_page_order'
p3766
I0
sS'permaLink'
p3767
S'http://schoolofdata.org/handbook/courses/cleaning-spending-data/'
p3768
sS'description'
p3769
V<div class="content">  <div class="section" id="cleaning-spending-data">   <p>Often, you will need to clean up the spending data that you receive. Even government data is not perfect.</p> <p>In this section, we highlight some common issues experience when working with spending data.</p> <p>In the recipe book - you will find a recipe to help you solve these issues.</p> <p>Common issues with spending data:</p> <ul class="simple"> <li><strong>Typos</strong> - E.g. some of your cells contain \u201cRroceeds from global taxes\u201d rather than \u201cProceeds from global taxes\u201d</li> <li><strong>Inconsistencies</strong> - You may be looking to try and find out how much money does company X receive from government. However in your data, sometimes the company is entered variously as \u201cFuzzy Robot Llama Exporters\u201d, \u201cFuzzy Robot Llama Exporters Ltd\u201d, \u201cFRLE Ltd\u201d - you need a way to tell that these are all the same.</li> <li><strong>Blank columns, rows and cells</strong> - When you are summing up values it is very important to know what is a genuine zero and what is a blank due to the absence of data.</li> <li><strong>Human Friendly Formatting</strong> - such as pseudo rows and things being in horizontal rows when you need them in verticals - your computer probably needs the computer to be laid out somewhat consistently if it is to be able to process it.</li> <li><strong>Multiple types of information contained in a single column</strong>. For example:</li> </ul> <p>Actually, it would be more helpful to have a column just to have one column with just whether a transaction was revenue or expenditure and a second to allow you to filter by revenue / expenditure type.</p> <ul class="simple"> <li><strong>Whitespace</strong> - You don\u2019t see it, but it causes big problems in datasets. To many databases, the two transactions below would be treated differently due to the extra space at the end:</li> </ul> <p>So if you ever filtered or searched for just \u201cFiscal revenue\u201d [no space at the end] - you would actually be omitting the latter case - possibly leading to incorrect conclusions. You can remove the nasty white space quite easily.</p> <div class="section" id="normalizing-data"> <h2>Normalizing data</h2> <p>Data that comes from the government is often generated across multiple departments by hand. This can result in inconsistencies in what kinds of values or formats are used to describe the same meaning. Normalizing values to be consistent across a dataset is therefore a common activity.</p> <div class="section" id="step-1-find-all-distinct-values"> <h3>Step 1: Find all distinct values</h3> <p>First, you want to start by finding all of the distinct ranges of values for the different columns in your dataset. You can accomplish this by using a database query language (such as SQL\u2019s DISTINCT), or by simply using the \u2018filter\u2019 property on a spreadsheet program.</p> <p>For example, if you have a spreadsheet with contracting data, and one column is \u2018Competed?\u2019, you would expect the values to be \u2018yes\u2019 or \u2018no\u2019. But if this spreadsheet is an amalgam of spreadsheet data from multiple users and departments, your values could vary among the following: \u2018Y\u2019, \u2018YES\u2019, \u2018yes\u2019, 1, \u2018True\u2019, \u2018T\u2019, \u2018t\u2019, \u2018N\u2019, \u2018NO\u2019, \u2018no\u2019, 0, \u2018False\u2019, \u2018F\u2019, \u2018f\u2019, etc. Limiting all of these potential values to two clear options will make it easier to analyse the data, and also easier for those who follow in your footsteps.</p> </div> <div class="section" id="step-2-sanity-check"> <h3>Step 2: Sanity Check</h3> <p>Especially with financial data, numbers can be formatted several different ways. For example, are your negative values represented with a \u2018-\u2018 or placed inside \u2018( )\u2019 or possibly even highlighted in red? Not all of these values will be easily read by a computer program (especially the color), so you\u2019ll want to pick something clear and consistent to convert all your negative values to (probably the negative sign).</p> <p>Is all your numerical data measured out in ones or is abbreviated in thousands? Especially with budget data, order of magnitude errors are not uncommon when one department thinks they\u2019re reporting in thousands or millions by default but others expand their data all the way to the ones place. Are some values in scientific notation (e.g. 10e3938)? Make sure all your values are consistent, otherwise your analysis could contain serious errors.</p> </div> <div class="section" id="a-column-of-data-requiring-name-normalization"> <h3>A column of data requiring name normalization:</h3> <img alt="http://content.openspending.org/resources/handbook/static/Screen%20Shot%202012-11-15%20at%2011.34.49%20AM.png" src="http://content.openspending.org/resources/handbook/static/Screen%20Shot%202012-11-15%20at%2011.34.49%20AM.png"> </div> </div> <div class="section" id="challenge-wrangle-the-data"> <h2>Challenge: Wrangle the data</h2> <div class="well"><p><strong>Task:</strong></p> <p>Read the <a class="reference internal" href="#recipe">recipe</a> from the handbook walking you through cleaning up a spending dataset.</p> <p id="recipe">Take the sample dataset and replicate the steps there.</p> <p>Remember - once you\u2019ve cleaned your data, share it and save someone else the job! Why not upload to <a class="reference external" href="http://datahub.io/dataset?groups=openspending&amp;q=openspending">the OpenSpending group on the datahub</a> and drop the <a class="reference external" href="http://lists.okfn.org/mailman/listinfo/openspending">OpenSpending Mailing List</a> a line to say you have done so, people are always looking for raw data to visualise and explain.</p> <p><strong>Extra Credit:</strong></p> <p>Take a dataset from your own country and clean it up ready to go into a database.</p> <blockquote> <div></div></blockquote> </div><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3770
sS'dateCreated'
p3771
(ixmlrpclib
DateTime
p3772
(dp3773
g32
S'20130423T11:38:18'
p3774
sbsS'wp_author_display_name'
p3775
S'Michael Bauer'
p3776
sS'link'
p3777
S'http://schoolofdata.org/handbook/courses/cleaning-spending-data/'
p3778
sS'page_status'
p3779
S'publish'
p3780
sS'categories'
p3781
(lp3782
sS'wp_page_template'
p3783
S'default'
p3784
sS'mt_allow_pings'
p3785
I0
sS'date_created_gmt'
p3786
(ixmlrpclib
DateTime
p3787
(dp3788
g32
S'20130423T09:38:18'
p3789
sbssS'2874'
p3790
(dp3791
S'wp_author'
p3792
S'Michael Bauer'
p3793
sS'userid'
p3794
S'2191'
p3795
sS'excerpt'
p3796
g8
sS'wp_page_parent_id'
p3797
I2873
sS'mt_allow_comments'
p3798
I1
sS'text_more'
p3799
g8
sS'custom_fields'
p3800
(lp3801
(dp3802
S'value'
p3803
S'956031985'
p3804
sS'id'
p3805
S'7785'
p3806
sS'key'
p3807
S'dsq_thread_id'
p3808
sasS'wp_author_id'
p3809
S'2191'
p3810
sS'title'
p3811
V\u2018But what does it mean?\u2019: Analyzing data (spreadsheets continued)
p3812
sS'wp_password'
p3813
g8
sS'wp_page_parent_title'
p3814
S'Courses'
p3815
sS'page_id'
p3816
I2874
sS'wp_slug'
p3817
S'analyzing-data'
p3818
sS'wp_page_order'
p3819
I0
sS'permaLink'
p3820
S'http://schoolofdata.org/handbook/courses/analyzing-data/'
p3821
sS'description'
p3822
V<div class="content">  <div class="section" id="but-what-does-it-mean-analyzing-data-spreadsheets-continued">   <div class="section" id="introduction"> <h2>Introduction</h2> <p>Once you have cleaned and filtered your dataset - it\u2019s time for analysis. . Analysing data helps us to learn what our data might mean and helps us to extract answers to our questions from the dataset.</p> <p>Look at the data we imported. (In case you didn\u2019t finish the previous tutorial, don\u2019t worry. You can copy a sample spreadsheet <a class="reference external" href="https://docs.google.com/spreadsheet/ccc?key=0AlgwwPNEvkP7dHZxU3h2YkczdFdMYnJmTVQzcE54a2c#gid=2">here</a>).</p> <p>This is World Bank data containing GDP, population, health expenditure and life expectancy for the years 2000-2011. Take a moment to have a look at the data. It\u2019s pretty interesting - what could it tell us?</p> <div class="well"><dl class="docutils"> <dt><strong>Task:</strong></dt> <dd>Brainstorm ideas. What could you investigate using this data?</dd> </dl> </div><p>Here are some ideas we came up with:</p> <ol class="arabic simple"> <li>How much (in USD) is spent on healthcare in total in each country?</li> <li>How much (in USD) is spent per capita in each country?</li> <li>In which country is the most spent per person? In which country is the least spent? What is the average for each continent? For the world?</li> <li>What is the relationship between public and private health expenditure in each country? Where do citizens spend more (private expenditure)? Where does the state spend more (public expenditure)?</li> <li>Is there a relationship between expenditure on healthcare and average life expectancy?</li> <li>Does it make any difference if the expenditure is public or private?</li> </ol> <dl class="docutils"> <dt><strong>NOTE:</strong></dt> <dd>With these last two questions, you have to be really careful. Even if you find a connection, it doesn\u2019t necessarily mean that one caused the other! For example: imagine there was a sudden outbreak of the plague; it\u2019s not always fatal, but many people who contract it will die. Public healthcare expenditure might go up. Life expectancy drops right down. That doesn\u2019t mean that your healthcare system has suddenly become less efficient! You always have to be <em>REALLY</em> careful about the conclusions you draw from this kind of data... but it can still be interesting to calculate the figures.</dd> </dl> <p>There are many more questions that could be answered using this data. Many of them relate closely to current policy debates. For example, if my country were debating its healthcare spending right now, I could use this data to explore how spending in my country has changed over time, and begin to understand how my country compares to others.</p> </div> <div class="section" id="formulas"> <h2>Formulas</h2> <p>So let\u2019s dive in. The data we have is not entirely complete. At the moment, healthcare expenditure is only shown as a percentage of <a class="reference internal" href="../appendix/glossary/#term-gdp"><em class="xref std std-term">GDP</em></a>. In order to compare total expenditure in different countries, we need to have this figure in US Dollars (USD).</p> <p>To calculate this, let\u2019s introduce you to spreadsheet formulas.</p> <p>Formulas are what helped spreadsheets become an important tool. But how do they work? Let\u2019s find out by playing with them...</p> <dl class="docutils"> <dt><strong>Tip:</strong></dt> <dd>Whenever you download a dataset, the very first thing you should do is to make a copy of it. Any changes you should make should be done in this copy - the original data should remain pure and untouched! This means that you can go back and check it at any time. It\u2019s also good practice to note where you got your data from, when and how it was retrieved.</dd> </dl> <p>Once you have your own copy of the data (try adding \u2018working copy\u2019 or similar after the original name), create a new sheet within your spreadsheet. This is for you to mess around with whilst you learn about formulae.</p> <p>Now move across to the \u201cTotal fruits sold\u201d column. Start in the first row. It\u2019s time to write a formula...</p> <div class="section" id="walkthrough-using-spreadsheets-to-add-values"> <h3>Walkthrough: Using spreadsheets to add values.</h3> <p>Using this <a class="reference external" href="https://docs.google.com/spreadsheet/ccc?key=0AlgwwPNEvkP7dFBxSFp1c096V19zNnI2TF9yLWVUMkE#gid=0">example data</a>. Let\u2019s calculate the total of fruits sold.</p> <blockquote> <div><ol class="arabic"> <li><p class="first">Get the data and create a working copy.</p> </li> <li><p class="first">To start, move to the first row.</p> </li> <li><p class="first">Each formula in a spreadsheet starts with <tt class="docutils literal"><span class="pre">=</span></tt></p> </li> <li><p class="first">Enter <tt class="docutils literal"><span class="pre">=</span></tt> and select the first cell you want to add. Notice how the cell reference appears in the formula?</p> <img alt="http://farm9.staticflickr.com/8179/8073780056_05b170a958_o_d.png" src="http://farm9.staticflickr.com/8179/8073780056_05b170a958_o_d.png"> </li> <li><p class="first">now type <tt class="docutils literal"><span class="pre">+</span></tt> and select the second cell you want to add</p> <img alt="http://farm9.staticflickr.com/8173/8073780166_59fb9bcaa0_o_d.png" src="http://farm9.staticflickr.com/8173/8073780166_59fb9bcaa0_o_d.png"> </li> <li><p class="first">Press <tt class="docutils literal"><span class="pre">Enter</span></tt> or <tt class="docutils literal"><span class="pre">tab</span></tt> .</p> </li> <li><p class="first">The formula disappears and is replaced by the value.</p> <img alt="http://farm9.staticflickr.com/8176/8073780244_836ef3f299_o_d.png" src="http://farm9.staticflickr.com/8176/8073780244_836ef3f299_o_d.png"> </li> <li><p class="first">Try changing the number in one of the original cells (apples or plums) you should see the value in total update automatically.</p> </li> <li><p class="first">You can type each formula individually, but it also possible to cut and paste or drag formulas across a range of cells.</p> </li> <li><p class="first">Copy the formula you have just written (using <tt class="docutils literal"><span class="pre">ctrl</span></tt> + <tt class="docutils literal"><span class="pre">c</span></tt> ) and paste it into the cell below (using <tt class="docutils literal"><span class="pre">ctrl</span></tt> + <tt class="docutils literal"><span class="pre">v</span></tt> ), you will get the sum of the two numbers on the row below.</p> </li> <li><p class="first">Alternatively click on the lower right corner of the cell (the blue square), and drag the formula down to the bottom of the column. Watch the <tt class="docutils literal"><span class="pre">\u2018total\u2019</span></tt> column update. Feels like magic!</p> </li> </ol> </div></blockquote> <div class="well"><p><strong>Task:</strong> Create a formula to calculate the total amount of apples and plums sold during the week.</p> <p><strong>Did you add all of the cells up manually?:</strong> That\u2019s a lot of clicking - for big spreadsheets, adding each cell manually could take a long time. Take a look at the \u201c<a class="reference external" href="http://schoolofdata.org/handbook/recipes/formulae-with-spreadsheets/">spreadsheet formulae</a>\u201d section in the Handbook - can you see a way add a range of cells or entire columns simply?</p> </div></div> </div> <div class="section" id="where-next"> <h2>Where Next?</h2> <p>Once you\u2019ve got the hang of building a basic formula - the sky is your limit! The <a class="reference external" href="http://schoolofdata.org/handbook/recipes/formulae-with-spreadsheets/">School of Data Handbook</a> will additionally walk you through:</p> <ul class="simple"> <li>Multiplication using spreadsheets</li> <li>Division using spreadsheets</li> <li>Copying formulae sideways</li> <li>Calculating minimum and maximum values</li> <li>Dealing with empty cells in your data (complex formulae). This stage uses <a class="reference internal" href="../appendix/glossary/#term-boolean-logic"><em class="xref std std-term">Boolean logic</em></a> .</li> </ul> <p>You may need to refer to these chapters to complete the following challenges.</p> <div class="section" id="multiplication-and-division-challenge"> <h3>Multiplication and division challenge</h3> <div class="well"><p><strong>Task:</strong> Using the data from the World Bank (if you don\u2019t have it already, download it <a class="reference external" href="http://dump.tentacleriot.eu/wb-gdp-health-life.csv">here</a>.). In the data we have figures for healthcare only as a % of GDP. Calculate the full amount of private health expenditure in Afghanistan in 2001 in USD. If your percentages are rusty - check out the formulae section in the Handbook.</p> </div><div class="well"><p><strong>Task:</strong> Still using the World Bank Data. Find out how much money (USD) is spent on healthcare per person in Albania in 2000.</p> </div><div class="well"><p><strong>Task:</strong> Calculate the <a class="reference internal" href="../appendix/glossary/#term-mean"><em class="xref std std-term">mean</em></a> and <a class="reference internal" href="../appendix/glossary/#term-median"><em class="xref std std-term">median</em></a> values for all the columns.</p> </div><div class="well"><p><strong>Task:</strong> What is the formula for healthcare expenditure per capita? Can you modify it so it\u2019s only calculated when both values are present (i.e. neither cell is blank)?</p> </div></div> </div> <div class="section" id="summary-further-reading"> <h2>Summary &amp; Further Reading</h2> <p>In this module we had an in depth view on analysis. We explored our dataset looking at the range of data. We further took a leap into conditional formulas to handle missing values and developed a quite complex formula step by step. Finally we touched on the subject of normalizing data to compare entities.</p> <ol class="arabic simple"> <li><a class="reference external" href="https://support.google.com/docs/bin/static.py?hl=en&amp;topic=25273&amp;page=table.cs">Google Spreadsheets Function List</a></li> <li><a class="reference external" href="http://en.wikiversity.org/wiki/Introduction_to_boolean_logic">Introduction to Boolean Logic at the Wikiversity</a></li> </ol> <p>Take the following quiz to check your analysis skills.</p> <iframe src="http://okfnlabs.org/scodaquiz/index.html#data/analyzing-data.json" width="100%" height="850" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe><br><br><a href="../data-to-diagrams/" class="btn btn-primary btn-large">Next Course<span class="icon-arrow-right"></span></a><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p3823
sS'dateCreated'
p3824
(ixmlrpclib
DateTime
p3825
(dp3826
g32
S'20130202T23:10:05'
p3827
sbsS'wp_author_display_name'
p3828
S'Michael Bauer'
p3829
sS'link'
p3830
S'http://schoolofdata.org/handbook/courses/analyzing-data/'
p3831
sS'page_status'
p3832
S'publish'
p3833
sS'categories'
p3834
(lp3835
sS'wp_page_template'
p3836
S'default'
p3837
sS'mt_allow_pings'
p3838
I0
sS'date_created_gmt'
p3839
(ixmlrpclib
DateTime
p3840
(dp3841
g32
S'20130202T21:10:05'
p3842
sbssS'3910'
p3843
(dp3844
S'wp_author'
p3845
S'Michael Bauer'
p3846
sS'userid'
p3847
S'2191'
p3848
sS'excerpt'
p3849
g8
sS'wp_page_parent_id'
p3850
I2873
sS'mt_allow_comments'
p3851
I1
sS'text_more'
p3852
g8
sS'custom_fields'
p3853
(lp3854
(dp3855
S'value'
p3856
S'1186518566'
p3857
sS'id'
p3858
S'13728'
p3859
sS'key'
p3860
S'dsq_thread_id'
p3861
sasS'wp_author_id'
p3862
S'2191'
p3863
sS'title'
p3864
S'Making Data Pretty'
p3865
sS'wp_password'
p3866
g8
sS'wp_page_parent_title'
p3867
S'Courses'
p3868
sS'page_id'
p3869
I3910
sS'wp_slug'
p3870
S'making-data-pretty'
p3871
sS'wp_page_order'
p3872
I0
sS'permaLink'
p3873
S'http://schoolofdata.org/handbook/courses/making-data-pretty/'
p3874
sS'description'
p3875
S'<div class="content">  <div class="section" id="making-data-pretty">   <p>Excel, Google Charts API, Raphael, Google Fusion Tables and DataWrapper - a whistlestop tour of some of the best off-the-shelf tools out there for visualising data...</p> <iframe id="ijf" src="http://webtv.journalismfestival.com/v/1303" width="400" height="280" frameborder="0" scrolling="no" allowtransparency="true"></iframe><div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p3876
sS'dateCreated'
p3877
(ixmlrpclib
DateTime
p3878
(dp3879
g32
S'20130404T12:03:11'
p3880
sbsS'wp_author_display_name'
p3881
S'Michael Bauer'
p3882
sS'link'
p3883
S'http://schoolofdata.org/handbook/courses/making-data-pretty/'
p3884
sS'page_status'
p3885
S'publish'
p3886
sS'categories'
p3887
(lp3888
sS'wp_page_template'
p3889
S'default'
p3890
sS'mt_allow_pings'
p3891
I0
sS'date_created_gmt'
p3892
(ixmlrpclib
DateTime
p3893
(dp3894
g32
S'20130404T10:03:11'
p3895
sbssS'4133'
p3896
(dp3897
S'wp_author'
p3898
S'Lucy Chambers'
p3899
sS'userid'
p3900
S'239'
p3901
sS'excerpt'
p3902
g8
sS'wp_page_parent_id'
p3903
I0
sS'mt_allow_comments'
p3904
I1
sS'text_more'
p3905
g8
sS'custom_fields'
p3906
(lp3907
(dp3908
S'value'
p3909
S'1215827008'
p3910
sS'id'
p3911
S'16870'
p3912
sS'key'
p3913
S'dsq_thread_id'
p3914
sasS'wp_author_id'
p3915
S'239'
p3916
sS'title'
p3917
S'Data Explorer Mission 1 '
p3918
sS'wp_password'
p3919
g8
sS'wp_page_parent_title'
p3920
g8
sS'page_id'
p3921
I4133
sS'wp_slug'
p3922
S'syllabus-for-data-explorer-mission-1'
p3923
sS'wp_page_order'
p3924
I0
sS'permaLink'
p3925
S'http://schoolofdata.org/syllabus-for-data-explorer-mission-1/'
p3926
sS'description'
p3927
V<h2>Week 1: Your Data Explorer Mission: Here's the Brief</h2>\u000a<img title="Image: http://bavatuesdays.com/files/2012/05/mother3-01.gif" src="http://bavatuesdays.com/files/2012/05/mother3-01.gif" alt="" />\u000a<h2>Good day, Agent.</h2>\u000aWe\u2019ve detected something in the atmosphere. We think it might be...data.\u000a\u000aYour Mission, if you choose to accept it, is to spend some quality time with your data before your first meeting with your fellow Data Agents.\u000a\u000aHere is the dataset you\u2019ll be starting with--it\u2019s a tally of global Carbon Dioxide emissions. As the Mission progresses, you may find yourself combining different data with it or hunting for more up to date data for your country, the possibilities are endless:<a href="http://bit.ly/CO2_data" rel="nofollow" target="_blank">http://bit.ly/CO2_data</a>\u000a\u000aFor a bit more background, this data set came from the following source:<a href="http://www.eia.gov/cfapps/ipdbproject/IEDIndex3.cfm" rel="nofollow" target="_blank">http://www.eia.gov/cfapps/ipdbproject/IEDIndex3.cfm</a>. For further briefing, you may want to examine The Guardian article in which this data set first appeared:<a href=" http://www.guardian.co.uk/news/datablog/2011/jan/31/world-carbon-dioxide-emissions-country-data-co2#_" rel="nofollow" target="_blank">Guardian Article</a>\u000a\u000aDon\u2019t be overwhelmed--this is not Mission: Difficult. But your are instructed to make a copy and familiarize yourself with the data.\u000a<h2><strong>Action Items:</strong></h2>\u000a<ul>\u000a	<li><strong>Look for trends and make notes to yourself</strong>.What piques your interest about this dataset? What potential stories are there?</li>\u000a	<li><strong>Find a question</strong>. Come to your first meeting with a potential question you\u2019d want to answer with the dataset you\u2019ve been given.</li>\u000a	<li><strong>Acquaint yourself with your toolset</strong>:</li>\u000a</ul>\u000a<ul>\u000a<ul>\u000a	<li>Doodle to schedule the regular weekly meeting:<a href="http://www.doodle.com/" rel="nofollow" target="_blank">http://www.doodle.com/</a></li>\u000a	<li>Google+ for meetings:<a href="http://www.google.com/+/learnmore/hangouts/" rel="nofollow" target="_blank">http://www.google.com/+/learnmore/hangouts/</a></li>\u000a	<li>Etherpad for notes:<a href="http://pad.p2pu.org/" rel="nofollow" target="_blank">http://pad.p2pu.org/</a></li>\u000a	<li>Badges.p2pu.org: create an account and read<a href="http://badges.p2pu.org/en/about" rel="nofollow" target="_blank">http://badges.p2pu.org/en/about</a></li>\u000a</ul>\u000a</ul>\u000aIf you are the first person to receive this,<strong>please create a Doodle poll for your team of Data Agents</strong>, fill in your availability on a regular<strong>weekly basis for a 30-minute meeting</strong>, and<strong>share that poll with your team</strong>.\u000a\u000aIt is also requested that you introduce yourself to your fellow Agents by sharing a piece of data about yourself that is available on the internet.\u000a\u000aYour next message will hold activities for your Google Hangout rendezvous.<strong>Please solidify your weekly meeting time in the next 72 hours, and decide who will begin the Hangout</strong>. Might be a good idea for this person to be the Facilitator for the first meeting.\u000a\u000aThis message will not self-destruct. In fact, it will be up on<a href="http://schoolofdata.org/datamooc/" rel="nofollow" target="_blank">http://schoolofdata.org/datamooc/</a>for your reference.\u000a\u000aEmergency reinforcement is available via <a href="mailto:missioncontrol@p2pu.org">missioncontrol@p2pu.org</a>.\u000a\u000a-Mission Control
p3928
sS'dateCreated'
p3929
(ixmlrpclib
DateTime
p3930
(dp3931
g32
S'20130416T18:17:27'
p3932
sbsS'wp_author_display_name'
p3933
S'Lucy Chambers'
p3934
sS'link'
p3935
S'http://schoolofdata.org/syllabus-for-data-explorer-mission-1/'
p3936
sS'page_status'
p3937
S'publish'
p3938
sS'categories'
p3939
(lp3940
sS'wp_page_template'
p3941
S'default'
p3942
sS'mt_allow_pings'
p3943
I1
sS'date_created_gmt'
p3944
(ixmlrpclib
DateTime
p3945
(dp3946
g32
S'20130416T18:17:27'
p3947
sbssS'4291'
p3948
(dp3949
S'wp_author'
p3950
S'Michael Bauer'
p3951
sS'userid'
p3952
S'2191'
p3953
sS'excerpt'
p3954
g8
sS'wp_page_parent_id'
p3955
I2873
sS'mt_allow_comments'
p3956
I1
sS'text_more'
p3957
g8
sS'custom_fields'
p3958
(lp3959
(dp3960
S'value'
p3961
S'1230789942'
p3962
sS'id'
p3963
S'18739'
p3964
sS'key'
p3965
S'dsq_thread_id'
p3966
sasS'wp_author_id'
p3967
S'2191'
p3968
sS'title'
p3969
S'Data provenance'
p3970
sS'wp_password'
p3971
g8
sS'wp_page_parent_title'
p3972
S'Courses'
p3973
sS'page_id'
p3974
I4291
sS'wp_slug'
p3975
S'data-provenance'
p3976
sS'wp_page_order'
p3977
I0
sS'permaLink'
p3978
S'http://schoolofdata.org/handbook/courses/data-provenance/'
p3979
sS'description'
p3980
S'<div class="content">  <div class="section" id="data-provenance">   <p>Good documentation on data provenance (the origin and history of a dataset) can be compared to the chain of custody which is maintained for criminal investigations: each previous owner of a dataset must be identified, and they are held accountable for the processing and cleaning operations they have performed on the data. For Excel spreadsheets this would include writing down the steps taken in transforming the data, while advanced data tools (such as Open Refine, formerly Google Refine), often provide methods of exporting machine-readable data containing processing history. Any programs that have been written to process the data should be available when users access your end result and shared as open-source code on a public code sharing site such as GitHub.</p> <div class="section" id="tools-for-documenting-your-data-work"> <h2>Tools for documenting your data work</h2> <p>Documenting the transformations you perform on your data can be as simple as a detailed prose explanation and a series of spreadsheets that represent key, intermediate steps. But there are also a few products out there that are specifically geared towards helping you do this. Socrata is one platform that helps you perform transforms on spreadsheet-like data and share them with others easily. You can also use the <a class="reference external" href="http://datahub.io/">Data Hub</a> (pictured below), an open source platform that allows for several versions of a spreadsheet to be collected together into one dataset, and also auto-generates an API to boot.</p> <p>If you want to get really smart, you may like to try using version control for your data work. Using version control will track every change made to the data, and allow you to easily roll back if there are any mistakes. Software Carpentry offer a good <a class="reference external" href="http://software-carpentry.org/4_0/vc/">introduction</a> to the topic.</p> <img alt="http://content.openspending.org/resources/handbook/static/Screen%20Shot%202012-11-15%20at%2015.35.38.png" src="http://content.openspending.org/resources/handbook/static/Screen%20Shot%202012-11-15%20at%2015.35.38.png"> </div> <div class="section" id="tips-for-documenting-your-work"> <h2>Tips for documenting your work</h2> <ol class="arabic simple"> <li>Link to the original data and mention where you got it from. This is important to show exactly where the original source was.</li> <li>Show and describe everything that you change in the data along the way. This is equally important, both for you and for others to be able to check your work. (See how in the screenshot above - we have adjusted units for currency and explained what we have done at every step).</li> </ol> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p3981
sS'dateCreated'
p3982
(ixmlrpclib
DateTime
p3983
(dp3984
g32
S'20130423T11:45:31'
p3985
sbsS'wp_author_display_name'
p3986
S'Michael Bauer'
p3987
sS'link'
p3988
S'http://schoolofdata.org/handbook/courses/data-provenance/'
p3989
sS'page_status'
p3990
S'publish'
p3991
sS'categories'
p3992
(lp3993
sS'wp_page_template'
p3994
S'default'
p3995
sS'mt_allow_pings'
p3996
I0
sS'date_created_gmt'
p3997
(ixmlrpclib
DateTime
p3998
(dp3999
g32
S'20130423T09:45:31'
p4000
sbssS'2890'
p4001
(dp4002
S'wp_author'
p4003
S'Michael Bauer'
p4004
sS'userid'
p4005
S'2191'
p4006
sS'excerpt'
p4007
g8
sS'wp_page_parent_id'
p4008
I2889
sS'mt_allow_comments'
p4009
I1
sS'text_more'
p4010
g8
sS'custom_fields'
p4011
(lp4012
(dp4013
S'value'
p4014
S'1121103949'
p4015
sS'id'
p4016
S'7786'
p4017
sS'key'
p4018
S'dsq_thread_id'
p4019
sasS'wp_author_id'
p4020
S'2191'
p4021
sS'title'
p4022
S'Using a spreadsheet to clean up a dataset'
p4023
sS'wp_password'
p4024
g8
sS'wp_page_parent_title'
p4025
S'Recipes'
p4026
sS'page_id'
p4027
I2890
sS'wp_slug'
p4028
S'cleaning-data-with-spreadsheets'
p4029
sS'wp_page_order'
p4030
I0
sS'permaLink'
p4031
S'http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/'
p4032
sS'description'
p4033
V<div class="content">  <div class="section" id="using-a-spreadsheet-to-clean-up-a-dataset">   <p>This recipe was created for the School of Data by <a class="reference external" href="https://www.tacticaltech.org/">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology.</p> <div class="section" id="introduction"> <h2>Introduction</h2> <div class="figure"> <img alt="http://farm9.staticflickr.com/8502/8388490769_c3ac0b24f0_o_d.jpg" src="http://farm9.staticflickr.com/8502/8388490769_c3ac0b24f0_o_d.jpg"> <p class="caption">Cleaning. Sometimes challenging. Even with the right tools. Image:  <a class="reference external" href="https://secure.flickr.com/photos/22490717@N02/5005068617/">Bath Time</a> by archer10. Some rights reserved CC-A-SA 2.0.</p> </div> <div class="section" id="what-is-this-recipe-and-what-do-you-get-out-of-it"> <h3>What is this recipe and what do you get out of it?</h3> <p>Cleaning data is an essential step in increasing the quality of data. This Data Wrangling Handbook recipe looks at six common ways that a dataset is \u2018dirty\u2019 and walks through time-saving ways you can use a spreadsheet to fix them and \u2018clean\u2019 the dataset.</p> <p>The recipe is very detailed, because data cleaning is all about attention to detail. Some of it is easy - and you\u2019ll wonder why we included it! But some of it is hard -  particularly the later sections on structural problems and inconsistencies. But by the end of it you will have used a set of spreadsheet features and functions in <strong>combination with each other</strong> to do something useful.</p> <p>It will help data cleaning become <strong>less tedious</strong> by showing you how to use the software to do thing you\u2019d otherwise do \u2018manually\u2019, with the accompanying risks of missing some errors, and introducing new ones. The techniques we introduce also <strong>scale</strong> to a certain point. The sample dataset we use has 400 or so rows of data, which is just big enough to be a headache to clean up by going row by row, fixing problems by hand. These techniques will work where you have a lot more data.</p> <p>It is aimed at people who are familiar with spreadsheets, and requires no knowledge of programming. It uses a  range of features and functions of the spreadsheet. The spreadsheet features we will use include:</p> <ol class="arabic simple"> <li>Autofilter - quickly find out what\u2019s in a column of data, and show which bits you want</li> <li>Conditional formatting - highlight cells of data based on criteria you specify</li> <li>Data Validation - choose what values are allowed in a cell</li> <li>Defined data ranges - create lists of data that can be used to make comparisons</li> <li>Find and Replace - look for one thing, and replace it with another</li> <li>Paste Special - remove unwanted formatting</li> <li>Pivot tables - summarise your data and see it in completely new ways</li> <li>Regular Expressions - clever way of searching for data</li> <li>Text-to-Columns - split up cells of data that have more than one entry in them</li> </ol> <p>The recipe also makes use of forumulae that use some different spreadsheet functions, including CLEAN, CONCATENATE, COUNTA, IFBLANK, LEFT, SEARCH, SUBSTITUTE, and TRIM. You may not have known these existed, but they can speed up a lot of the most difficult and time-consuming parts of removing errors from a dataset.</p> <p>The recipe is a complete process, showing every step. It can be a useful learning aid, guide or reference point for you in managing your own datasets. Finally, this recipe is the \u2018textbook\u2019 for a School of Data Course called <a class="reference external" href="/handbook/courses/gentle-introduction-data-cleaning/">A Gentle Introduction to Data Cleaning</a> which is a more accessible and engaging way into this quite dry topic.</p> </div> <div class="section" id="get-set-up-data-and-tools-you-will-need-to-follow-this-recipe"> <h3>Get set up: data and tools you will need to follow this recipe</h3> <div class="section" id="software-tools-used-in-the-recipe"> <h4>Software tools used in the recipe</h4> <p>The spreadsheet software we have used throughout this recipe is part of Libre Office 3, which is free, open source software that works on Windows, Mac and Linux operating systems. Libre Office 3 can be <a class="reference external" href="http://www.libreoffice.org/download">downloaded and installed</a> from the Document Foundation website. For help getting set up have a read of the <a class="reference external" href="https://wiki.documentfoundation.org/Documentation/Publications#Installation_Guides">free installation guides</a> (they\u2019re quite good).</p> <p>Most of this recipe can be also be used in recent versions of <a class="reference external" href="http://office.microsoft.com/en-us/excel/">Microsoft Excel</a> and <a class="reference external" href="https://drive.google.com">Google Spreadsheet</a>.  The screenshots will look different and the steps may not be quite the same though. To help complete some tasks, we will also occasionally dip into a word processor and text editor like Notepad. These will probably already be installed on your computer.</p> </div> <div class="section" id="the-dirty-data-what-were-starting-with"> <h4>The \u2018dirty\u2019 data - what we\u2019re starting with</h4> <p>We will be working with a spreadsheet of data about sales of vast amounts of agricultural land in less developed countries. The data was researched by a non-governmental organisation called <a class="reference external" href="http://www.grain.org/">GRAIN</a>, which works to support small farmers and social movements in their struggles for community-controlled and biodiversity-based food systems.</p> <p>We have placed a spreadsheet with the original dataset on the Data Hub, an online library for data. To follow this recipe, you will need to <a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data/resource/af57b7b2-f4e7-4942-88d3-83912865d116">download a copy</a> of this onto your computer.</p> </div> <div class="section" id="the-clean-data-the-end-result"> <h4>The \u2018clean\u2019 data - the end result</h4> <p>By the end of this recipe, the data will be substantially cleaned up. We\u2019ve put a copy of the original data along with the final, cleaned GRAIN data <a class="reference external" href="http://datahub.io/dataset/grain-landgrab-data/resource/ac38cb11-2d00-4da5-b9ce-cf2f47ca5469">online</a> too.</p> </div> </div> </div> <div class="section" id="problem-1-showing-the-data-plainly"> <h2>Problem 1: Showing the data plainly</h2> <div class="section" id="whats-the-problem"> <h3>What\u2019s the problem?</h3> <p>Spreadsheets are visual tools that give you control over the way text and numbers are displayed: this is called formatting. It can be helpful, and help display the data in ways that make it easier to use and understand. It can also be unhelpful make data more difficult to see.</p> <p>Before moving forward, look at how the GRAIN data is currently displayed:</p> <ul class="simple"> <li>The text is very small. This is maybe to try and fit all the data on the screen so you don\u2019t have to scroll right to see it.</li> <li>There is some colouring in there. Why? What does it mean? Does it signify something important about the data?</li> <li>Can you find any hidden rows or columns? Look for discontinuities in the column lettering and row numbering.</li> </ul> </div> <div class="section" id="whats-the-solution"> <h3>What\u2019s the solution?</h3> <div class="section" id="use-the-cell-formatting-features"> <h4>Use the cell formatting features</h4> <p>To display the data in a plain and compact way, removing any choices that the original publisher of the spreadsheet made, you can do the following:</p> <ol class="arabic"> <li><p class="first">Select the complete dataset (Linux/Windows shortcut: Ctrl+A).</p> </li> <li><p class="first">With the data now selected, right click on top of any row label (eg. 1, 2, 3 etc) to bring up the secondary menu. Choose \u201cShow\u201d. This will make sure any rows that are hidden are revealed. Repeat the same steps for the columns.</p> </li> <li><p class="first">With all the data selected, right click anywhere to show the secondary menu. Select \u201cClear Direct Formatting\u201d to remove cell colouring and make the text size uniform.</p> </li> <li><p class="first">Right click again, and go to \u201cFormat Cells\u201d. Select the \u2018Alignment\u2019 tab  and choose the following options to place the text sensibly in the cells:</p> <img alt="http://farm9.staticflickr.com/8466/8389578254_57ab86b5cd_o_d.png" src="http://farm9.staticflickr.com/8466/8389578254_57ab86b5cd_o_d.png"> </li> <li><p class="first">With all the data still selected, right click on any row label again and choose \u201cOptimal Row Height\u201d, and select \u2018Okay\u2019. This will resize the rows to remove extra vertical space, which results in more data being displayed in-screen.</p> </li> <li><p class="first">To resize the columns, place the mouse cursor in the line between columns. Left click and hold, and drag the line until you\u2019re happy with the column width.</p> </li> </ol> </div> </div> </div> <div class="section" id="problem-2-whitespace-and-new-lines-data-that-shouldnt-be-there"> <h2>Problem 2: Whitespace and new lines - data that shouldn\u2019t be there</h2> <div class="section" id="id1"> <h3>What\u2019s the problem?</h3> <p><a class="reference external" href="https://help.libreoffice.org/Calc/AutoFilter">Apply autofilter</a> to the GRAIN data in the worksheet (Data \u2192Filter \u2192 Auto-Filter).  Bring up the select list for \u201cStatus of Deal\u201d by choosing the downwards-pointing triangle that has appeared in the column label, as below:</p> <img alt="http://farm9.staticflickr.com/8093/8389578304_33f9898e24_o_d.png" src="http://farm9.staticflickr.com/8093/8389578304_33f9898e24_o_d.png"> <p>Why are there three entries for \u201cDone\u201d? Look at the selection list for other columns? Can you see where there are other duplicate entries?</p> <p>The reason for the duplicate entries is that there are extra characters alongside the data that are not displayed - so you can\u2019t easily see them. These are likely to be either <strong>whitespace</strong> at the ends of lines (also called \u2018trailing spaces\u2019 or <strong>new lines</strong> that were added accidentally during the data entry.  These are very common errors, and their presence can affect eventual analysis of the data, as the spradsheet treats them as different entries. For example, if we are counting deals that are categorised as <tt class="docutils literal"><span class="pre">Done</span></tt>, the spreadsheet will exclude those that are categorised as <a href="#id2"><span class="problematic" id="id3">``</span></a>Done `` (note the extra space at the end).</p> <p>Similarly, cells can also have <strong>new lines</strong> in them, the presence of which is obscured by the layout. For example, find the cell containing the text \u2018Libyan Investors\u2019. On a first glance it looks fine, but double click to edit it. There is an extra line beneath the word \u2018investor\u2019, as illustrated by the presence of the cursor beneath the text:</p> <img alt="http://farm9.staticflickr.com/8216/8389578284_31e6726ea3_o_d.png" src="http://farm9.staticflickr.com/8216/8389578284_31e6726ea3_o_d.png"> <p>Entries for \u2018Libyan investors\u2019 with and without a new line afterwards are treated by the spreadsheet as different data. In turn, this will affect the accuracy of data analysis.</p> </div> <div class="section" id="id4"> <h3>What\u2019s the solution?</h3> <p>There are two easy ways to remove <strong>whitespace</strong> and <strong>new lines</strong> from a worksheet. Both are equally as effective.</p> <div class="section" id="use-the-find-and-replace-feature"> <h4>Use the Find and Replace feature</h4> <p>Both whitespace and new lines can be \u201cseen\u201d by the spreadsheet.</p> <ol class="arabic"> <li><p class="first">Open the find/replace tool (Shortcut: Ctrl-H).</p> </li> <li><p class="first">Select \u201cMore Options\u201d and check \u201cRegular expressions\u201d. This feature enables the spreadsheet to search for patterns, and not just specific characters.</p> </li> <li><p class="first">In the input area for Find type <strong>[:space:]$</strong> and click \u201cFind\u201d. This is a regular expression that searches only for spaces that are at the end of the text in a cell (which is what the $ denotes). It should look like this:</p> <img alt="http://farm9.staticflickr.com/8467/8389578332_5df964754c_o_d.png" src="http://farm9.staticflickr.com/8467/8389578332_5df964754c_o_d.png"> </li> <li><p class="first">Running this search will show you the cells in this worksheet that have one or more trailing whitespaces.</p> </li> <li><p class="first">To remove the trailing whitespace that have been found, click \u201cFind All\u201d. Make sure the input area for \u2018Replace with\u2019 is empty. Then click on \u201cReplace All\u201d. Perform this operation until the spreadsheet tells you, \u201cThe search key was not found\u201d.</p> </li> <li><p class="first">To remove the new lines, repeat steps (a) to (e) with n in the Findbox. Remember to keep regular expressions enabled, or this won\u2019t work.</p> </li> <li><p class="first">Run the auto-filter again to see how the data has changed.</p> </li> </ol> </div> </div> <div class="section" id="use-the-trim-and-clean-functions"> <h3>Use the TRIM and CLEAN functions</h3> <p>Trailing whitespace and new lines are common enough problems in spreadsheets that there are two specialised functions - clean and trim -  that can be used to remove them. This is a little more detailed, so follow the steps carefully:</p> <ol class="arabic"> <li><p class="first">In your spreadsheet, the GRAIN dataset should be in \u2018Sheet1\u2019. Create a new worksheet for your spreadsheet, called Sheet2.</p> </li> <li><p class="first">In cell A1 of the new worksheet you have just created enter the following formula: <strong>=CLEAN(TRIM(Sheet1.A1))</strong> and press enter. This will take the content of cell A1 from Sheet1, which is your original data, and reproduce it in Sheet2 without any invisible character, new lines or trailing whitespace.</p> </li> <li><p class="first">Find out the full data range of Sheet1: It will be A1 to I417. In Sheet2, select cell A1 and then copy it (Shortcut: Ctrl+C). In the same sheet select the range A1 to I417 and paste the formula into it (Shortcut: Ctrl+V). The complete dataset from Sheet1 will be reproduced in Sheet2, without any the problematic invisible characters.</p> </li> <li><p class="first">To work further on this data, you will have to now remove the formulas you used to clean it. This can be done with the <strong>Paste Special</strong> operation. In Sheet2, select the complete dataset and copy it. Put the cursor in Cell A1, and then go to <strong>Edit \u2192 Paste Special</strong>. This enables you to choose what attributes of the cell you want to paste: we want to paste everything except the formulas, which is done by checking the appropriate boxes, as below, and then clicking Okay:</p> <img alt="http://farm9.staticflickr.com/8223/8388490883_8d9e1bf4af_o_d.png" src="http://farm9.staticflickr.com/8223/8388490883_8d9e1bf4af_o_d.png"> </li> <li><p class="first">Double click on any cell, and you will see that it just contains data, not a formula. If you like, run through the steps outlined in Problem 1 to make the text \u2018wrap\u2019 in cells, and adjust the column widths.</p> </li> </ol> </div> </div> <div class="section" id="problem-3-blank-cells-missing-data-that-should-be-there"> <h2>Problem 3: Blank cells - missing data that should be there</h2> <div class="section" id="id5"> <h3>What\u2019s the problem?</h3> <img alt="http://farm9.staticflickr.com/8238/8389578362_cfe6ed9f67_b_d.jpg" src="http://farm9.staticflickr.com/8238/8389578362_cfe6ed9f67_b_d.jpg"> <p>In many spreadsheets you come across there will be empty (\u201cblank\u201d) cells. They may have been left blank intentionally, or in error. Either way, they are missing data, and it\u2019s useful to be able to find, quantify, display and correct them if needed.</p> </div> <div class="section" id="id6"> <h3>What\u2019s the solution?</h3> <div class="section" id="use-the-countblank-function"> <h4>Use the <a class="reference external" href="http://www.myonlinetraininghub.com/excel-count-counta-and-countblank-functions">COUNTBLANK</a> function</h4> <p>This will enable you to show the number of blank cells, which helps you figure out the size of the potential problem:</p> <ol class="arabic simple"> <li>Scroll to the end of the dataset. In a row beneath the data, enter the following formula: =COUNTBLANK(A1:A417) and press enter. This will count the number of blank cells in column A so far as row 417, the last entry in the GRAIN dataset.</li> <li>In the same row copy the formula you just created across rows B to I. This will show you a count of the blank entries in the other columns.</li> <li>You can see that by far the most blank cells are in column G, \u2018Projected Investment\u2019.</li> </ol> </div> <div class="section" id="use-the-isblank-function-with-the-conditional-formatting-feature"> <h4>Use the <a class="reference external" href="http://wiki.openoffice.org/wiki/Documentation/How_Tos/Calc:_ISBLANK_function">ISBLANK</a> function with the Conditional Formatting feature</h4> <p>Blank cells can also be highlighted using conditional formatting and the ISBLANK function, changing the background colour of blank cells, so you can see where they are:</p> <ol class="arabic"> <li><p class="first">Select the dataset (cells A1 to I417), and open the \u2018Conditional Formatting\u2019 menu (<strong>Format \u2192 Conditional Formatting \u2192 Conditional Formatting</strong>). This spreadsheet feature allows you to automatically change the formatting (eg. font size, cell style, background colours etc) depending on the criteria you specify.</p> </li> <li><p class="first">In the conditional formatting window, make the conditions look like the image below. To make the blank cells stand out more clearly, use an existing style or set up a new one by clicking the \u2018New Style\u2019 option, which takes you to a window where you can choose font type, size, background colour and so on.</p> <img alt="http://farm9.staticflickr.com/8357/8388490923_957a22dbab_b_d.jpg" src="http://farm9.staticflickr.com/8357/8388490923_957a22dbab_b_d.jpg"> </li> <li><p class="first">Check what has happened. When the conditional formatting is applied the blank cells will be highlighted in red. Here\u2019s how it looks when zoomed out a bit (View \u2192 Zoom, then enter 75% into the \u2018Variable\u2019 option):</p> <img alt="http://farm9.staticflickr.com/8335/8388490961_f7e1b6c3ba_o_d.png" src="http://farm9.staticflickr.com/8335/8388490961_f7e1b6c3ba_o_d.png"> </li> <li><p class="first">To remove the conditional formatting: repeat steps (a) to (b) above, but define a clear style (or use the \u2018default\u2019) instead. Otherwise select the cell or range of cells and select \u201cClear Direct Formatting\u201d.</p> </li> </ol> </div> <div class="section" id="fill-in-empty-values-with-the-find-and-replace-feature"> <h4>Fill in empty values with the Find and Replace feature</h4> <p>In the GRAIN dataset we do not know whether blank cells signify data that has been deliberately or accidentally left out. You may want to actively specify that the data is missing, rather than leaving a blank cell.</p> <ol class="arabic simple"> <li>Select the complete data range (A1 to I417).</li> <li>Open the find/replace dialogue (Shortcut: Ctrl-H). If you have already used this earlier, you will need to disable searching with regular expressions, because this causes the search to work differently. Do this by clicking \u2018More Options\u2019 and uncheck regular expressions.</li> <li>Leave the \u201cSearch for\u201d input box empty. Type \u201cMissing\u201d into the replace box (without quote marks). Click on \u2018replace all\u2019.</li> <li>Every blank cell will now have the value \u201cMissing\u201d recorded in it. You can verify this using the COUNTBLANK function we outlined above.</li> </ol> <p>Filling blank cells isn\u2019t always useful and it\u2019s important to choose the right term to denote a missing value. For example, in the context of \u2018Proposed investment\u2019 using the term \u2018none\u2019 to signify missing data is confusing. Readers may think this means you know there is no investment, rather than that there is no data.</p> </div> </div> </div> <div class="section" id="problem-4-fixing-numbers-that-arent-numbers"> <h2>Problem 4: Fixing numbers that aren\u2019t numbers</h2> <div class="section" id="id7"> <h3>What\u2019s the problem?</h3> <p>The GRAIN dataset has a column called Proposed Investment. This records the amount of cash paid for land in US Dollars. However they are recorded as text, not as numbers. This means the spreadsheet can\u2019t use these values to do the mathematical operations required to make totals, averages, or sort the numbers from highest to lowest. Further, the data have not been entered in a consistent form. Here are some examples from the dataset:</p> <ul class="simple"> <li>US$77 million</li> <li>US$30-35 million</li> <li>US$1,500 million</li> <li>US$ 2 billion</li> <li>US$57,600 (US$0.80/ha)</li> </ul> <p>So the problem is twofold: there is no consistent unit, and there are data other than the currency in the cell. Ideally, what we would have are data like this:</p> <table border="1" class="docutils"> <colgroup> <col width="100%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">Projected investment (US$ millions)</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>77</td> </tr> <tr class="row-odd"><td>32.5</td> </tr> <tr class="row-even"><td>1500</td> </tr> <tr class="row-odd"><td>2000</td> </tr> <tr class="row-even"><td>0.057600</td> </tr> </tbody> </table> </div> <div class="section" id="id8"> <h3>What\u2019s the solution?</h3> <p>We can solve this with a combination of automation and old-fashioned hand correction of data. A part solution using a combination of formulas</p> <ol class="arabic"> <li><p class="first">Choose a consistent unit: US$ millions.</p> </li> <li><p class="first">Create a new column H called \u201cProjected Investment (US$ millions) to the immediate right of the current column G, Projected Investment. We will use column H as a working column to display the outcomes of our calculations.</p> </li> <li><p class="first">Go to Cell H2, and enter the following formula: <strong>=LEFT(SUBSTITUTE(G2,\u201dUS$\u201d,\u201d\u201d), SEARCH(\u201d \u201d,SUBSTITUTE(G2,\u201dUS$\u201d,\u201d\u201d)))</strong> Then copy it (Shortcut: Ctrl-C).</p> </li> <li><p class="first">Select the range H1 to H417 using the mouse, and paste the formula into that range. You will see that if there is any data in Column G, a new value will be displayed in column H, as below:</p> <img alt="http://farm9.staticflickr.com/8056/8388490953_caffb8a1f6_o_d.png" src="http://farm9.staticflickr.com/8056/8388490953_caffb8a1f6_o_d.png"> <p>Where there is no data, a warning sign like #VALUE! will be shown.</p> </li> <li><p class="first">This formula works using three functions joined together: LEFT, SUBSTITUTE and SEARCH.</p> </li> </ol> </div> <div class="section" id="thats-some-crazy-stuff-dude-explain-yourself"> <h3>That\u2019s some crazy stuff, dude! Explain yourself.</h3> <p>It\u2019s complex but a good exercise in thinking about what data is, and how spreadsheets can process text quite effectively by combining different functions into formulas.</p> <p>Let\u2019s start with the simplest and most common sort of case from the GRAIN database:</p> <p>US$77 million</p> <p>We want to turn this into a number that the spreadsheet can work with:</p> <p>US$77,000,000</p> <p>There are two things that we can immediately do: specify the currency as an attribute of all numbers in the column \u201cProjected investment\u201d so we know that all numbers in this column are US$. This removes the need to put the text \u201cUS$\u201d in each cell:</p> <p>77,000,000</p> <p>As nearly all the entries are over 1 million in size, it\u2019s sensible to specify that all numbers in the column \u201cProjected investment\u201d are in millions. This removes the need to include the trailing zeros - the 000,000 - in the cells. This leaves us with:</p> <p>77</p> <p>So, the actual task the formula needs to do is to change \u201cUS$77 million\u201d to \u201c77\u201d. We want to remove everything but the number 77, with as little potential for error as possible and in a way that can be applied to as many of the other data in the \u2018Projected Investment\u2019 column as possible.</p> <p>This is where the LEFT function comes in. Look at the value we want to change: US$77 million. Count the characters, including the spaces: there are 13 in total. The LEFT function reads the value, and displays only characters <strong>to the left</strong> of and including the character number you give it. Here\u2019s how it works on the value \u201cUS$77 Million\u201d:</p> <table border="1" class="docutils"> <colgroup> <col width="44%"> <col width="16%"> <col width="40%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">Formula</th> <th class="head">You see</th> <th class="head">Which is...</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>=LEFT(\u201cUS$77 million\u201d,2)</td> <td>US</td> <td>The first 2 characters</td> </tr> <tr class="row-odd"><td>=LEFT(\u201cUS$77 million\u201d,3)</td> <td>US$</td> <td>The first 3 characters</td> </tr> <tr class="row-even"><td>=LEFT(\u201cUS$77 million\u201d,5)</td> <td>US$77</td> <td>The first 5 characters</td> </tr> </tbody> </table> <p>In the above examples we included in the formula the actual text that we wanted to analyse using LEFT. We can specify which cell we want  to analyse (this is called cell referencing). For example, in the spreadsheet we might have:</p> <table border="1" class="docutils"> <colgroup> <col width="5%"> <col width="25%"> <col width="34%"> <col width="36%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$77 million</td> <td>=LEFT(G22,5)</td> <td>US$77</td> </tr> <tr class="row-odd"><td>23</td> <td>US$56 million</td> <td>=LEFT(G23,5)</td> <td>US$56</td> </tr> <tr class="row-even"><td>24</td> <td>US$45 million</td> <td>=LEFT(G24,5)</td> <td>US$45</td> </tr> </tbody> </table> <p>Building the formula this way enables it to be copied down a column, as the cell numbers will update automatically as the position of the formula changes. We can further improve the formula and remove some of the text that we ask LEFT to analyse. This is where the <a class="reference external" href="http://wiki.openoffice.org/wiki/Documentation/How_Tos/Calc:_SUBSTITUTE_function">SUBSTITUTE</a> function is useful. Here\u2019s how it works, then we\u2019ll apply it in combination with the LEFT function:</p> <table border="1" class="docutils"> <colgroup> <col width="5%"> <col width="23%"> <col width="38%"> <col width="34%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$77 million</td> <td>=SUBSTITUTE(G22,\u201dUS$\u201d,\u201d\u201d)</td> <td>77 million</td> </tr> <tr class="row-odd"><td>23</td> <td>US$56 million</td> <td>=SUBSTITUTE(G23,\u201dUS$\u201d,\u201d\u201d)</td> <td>56 million</td> </tr> <tr class="row-even"><td>24</td> <td>US$45 million</td> <td>=SUBSTITUTE(G24,\u201dUS$\u201d,\u201d\u201d)</td> <td>45 million</td> </tr> </tbody> </table> <p>The SUBSTITUTE function takes the content of a cell (eg. G22, which has the text US$77 million), looks in it for the specific text you tell it to (in this case \u201cUS$\u201d), then substitutes it with what you tell it to (in this case, for \u201c\u201d, which is nothing at all) and prints the result (77 million).</p> <p>We can combine SUBSTITUTE with LEFT. So, in the below, LEFT does its work on text that has already had characters removed through the SUBSTITUTE function:</p> <table border="1" class="docutils"> <colgroup> <col width="4%"> <col width="20%"> <col width="46%"> <col width="30%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$77 million</td> <td>=LEFT(SUBSTITUTE(G22,\u201dUS$\u201d,\u201d\u201d),2))</td> <td>77</td> </tr> <tr class="row-odd"><td>23</td> <td>US$56 million</td> <td>=LEFT(SUBSTITUTE(G23,\u201dUS$\u201d,\u201d\u201d),2))</td> <td>56</td> </tr> <tr class="row-even"><td>24</td> <td>US$45 million</td> <td>=LEFT(SUBSTITUTE(G24,\u201dUS$\u201d,\u201d\u201d),2))</td> <td>45</td> </tr> </tbody> </table> <p>So, we have the numbers we need now but there is a problem. Not all the original numbers recorded in \u2018Projected Investment\u2019 are 2 digits long. Here\u2019s what happens if we run this formula on a more varied set of data in the G column:</p> <table border="1" class="docutils"> <colgroup> <col width="4%"> <col width="20%"> <col width="46%"> <col width="30%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$7710 million</td> <td>=LEFT(SUBSTITUTE(G22,\u201dUS$\u201d,\u201d\u201d),2))</td> <td>77</td> </tr> <tr class="row-odd"><td>23</td> <td>US$5.34 million</td> <td>=LEFT(SUBSTITUTE(G23,\u201dUS$\u201d,\u201d\u201d),2))</td> <td><ol class="first last arabic simple" start="5"> <li> </li></ol> </td> </tr> <tr class="row-even"><td>24</td> <td>US$450 million</td> <td>=LEFT(SUBSTITUTE(G24,\u201dUS$\u201d,\u201d\u201d),2))</td> <td>45</td> </tr> </tbody> </table> <p>Uh oh! You can clearly see there are mistakes in the outcome column. This is because we have told LEFT to show only 2 characters each time (remember we have removed the \u201cUS$\u201d using SUBSTITUTE, so LEFT doesn\u2019t count those). However, to show the correct figure for \u201cUS$7710 million\u201d in row 22, LEFT would have to count 4 characters. So how can we give LEFT the correct number of characters?</p> <p>Look at the values again. They have something else in common: yes, they have <strong>a space separating the number from the text \u201cmillions\u201d</strong>. Its position will vary each time but we can find it tell the LEFT function to show it where the number ends in each case.  The <a class="reference external" href="http://wiki.openoffice.org/wiki/Documentation/How_Tos/Calc:_SEARCH_function">SEARCH</a> function can be used to do this.  It works by looking through data you give it for a character you specify, and then tells you the position of that character:</p> <table border="1" class="docutils"> <colgroup> <col width="4%"> <col width="20%"> <col width="46%"> <col width="30%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$7710 million</td> <td>=SEARCH(\u201d \u201c,G22)</td> <td>8</td> </tr> <tr class="row-odd"><td>23</td> <td>US$5.34 million</td> <td>=SEARCH(\u201c \u201c,G23)</td> <td>8</td> </tr> <tr class="row-even"><td>24</td> <td>US$450 million</td> <td>=SEARCH(\u201c \u201c, G24)</td> <td>7</td> </tr> </tbody> </table> <p>So, in row 22, we are looking for a space (\u201c \u201c) in the text in cell G22 (US$7710 million). Count from the left, that space is in position number 8. We can give this number 8 to the LEFT function:</p> <table border="1" class="docutils"> <colgroup> <col width="4%"> <col width="20%"> <col width="46%"> <col width="30%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$7710 million</td> <td>=LEFT(G22,(SEARCH(\u201c \u201c,G22)))</td> <td>US$7710</td> </tr> <tr class="row-odd"><td>23</td> <td>US$5.34 million</td> <td>=LEFT(G23,(SEARCH(\u201c \u201c,G23)))</td> <td>US$5.34</td> </tr> <tr class="row-even"><td>24</td> <td>US$450 million</td> <td>=LEFT(G24,(SEARCH(\u201c \u201c,G24)))</td> <td>US$450</td> </tr> </tbody> </table> <p>Note that these outcomes also include the space after the number. Let\u2019s add the SUBSTITUTE function back into the formula: Wherever there is a cell reference (eg. G22) we can put a SUBSTITUTE function removing the text US$:</p> <table border="1" class="docutils"> <colgroup> <col width="4%"> <col width="19%"> <col width="49%"> <col width="28%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">G</th> <th class="head">Formula in column I</th> <th class="head">Outcome in column I</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>US$7710 million</td> <td>=LEFT(SUBSTITUTE(G22,\u201dUS$\u201d,\u201d\u201d), (SEARCH(\u201c \u201c,SUBSTITUTE(G22,\u201dUS$\u201d,\u201d\u201d))))</td> <td>7710</td> </tr> <tr class="row-odd"><td>23</td> <td>US$5.34 million</td> <td>=LEFT(SUBSTITUTE(G23,\u201dUS$\u201d,\u201d\u201d), (SEARCH(\u201c \u201c,SUBSTITUTE(G23,\u201dUS$\u201d,\u201d\u201d))))</td> <td>5.34</td> </tr> <tr class="row-even"><td>24</td> <td>US$450 million</td> <td>=LEFT(SUBSTITUTE(G24,\u201dUS$\u201d,\u201d\u201d), (SEARCH(\u201c \u201c,SUBSTITUTE(G24,\u201dUS$\u201d,\u201d\u201d))))</td> <td>450</td> </tr> </tbody> </table> <p>That explanation help?</p> </div> <div class="section" id="refine-the-solution-to-remove-the-errors"> <h3>Refine the solution to remove the errors</h3> <p>Throughout this example, you can see how a useful formula can be built up to help solve the problems we outlined at the beginning. However, taking this approach leaves us with loose ends, for example:</p> <ul class="simple"> <li>Where there is no data in column G, this formula will not know what to do, and will return a #VALUE! error, which makes it more difficult to use the new data in other calculations.</li> <li>If the value is US$22 <strong>billion</strong> rather than $22 million the formula will still return 22. The correct value in a column of data in US$ millions should be 2200.</li> <li>If the value is US$30-35 million, the formula will return the range 30-35, rather than a single value.</li> <li>Where a value is <strong>below</strong> a million, and has some additional explanation, such as in \u201cUS$57,600 (US$0.80/ha)\u201d, the formula will return 57,600. In a column demoting US$ millions this would be a huge amount.</li> </ul> <p>We use formulas to automate the process of cleaning data to the greatest extent possible but there will always be exceptions. The key is to know where the exceptions are and decide whether it is worth continuing to try and accommodate them with a formula, or whether to just correct them by hand. How do we do this? We can use a feature of the spreadsheet called a Pivot Table. This will help us find the troublemakers, how many of them there are, and whether we should continue to fix with formulas by hand.</p> <div class="section" id="use-a-pivot-table-to-find-errors-and-autofilter-to-help-fix-them"> <h4>Use a Pivot Table to find errors and Autofilter to help fix them</h4> <ol class="arabic"> <li><p class="first">At this point your, dataset should have the original Projected Investment data in column G, and the cleaned data in column H, which we named Projected Investment (US$ MIllions).</p> </li> <li><p class="first">Select column G. Go to <strong>Data \u2192 Pivot Table \u2192 Create New</strong>. In the window that appears, checked \u201cCurrent Selection\u201d and click on <strong>OK</strong>. A strange new window called <strong>Pivot Table</strong> will appear, which looks like the image below:</p> <img alt="http://farm9.staticflickr.com/8191/8389578420_7c314bf2e6_b_d.jpg" src="http://farm9.staticflickr.com/8191/8389578420_7c314bf2e6_b_d.jpg"> </li> <li><p class="first">We can use this to find a list of the <strong>unique values</strong> in column G (Projected Investment), which will help us identify trouble-causing entries. Select the little grey rectangle near the top centre labelled \u201cProjected...\u201d and drag it to the white area called <strong>Row Fields</strong>. Select it again and drag it to <strong>Data fields</strong> too. You should see this:</p> <img alt="http://farm9.staticflickr.com/8220/8388490989_c161a28ce3_b_d.jpg" src="http://farm9.staticflickr.com/8220/8388490989_c161a28ce3_b_d.jpg"> <p>Notice that in the Data Fields, the little grey rectangle is now labelled \u201cSum - Projected Investments...\u201d. We want to change this to \u201cCount - Projected Investment  \u2026 \u201d, so it shows us how many times each of the different values occurs in the dataset. To do this, double click on it. This window will appear:</p> <img alt="http://farm9.staticflickr.com/8324/8388491003_8ed9e5762a_o_d.png" src="http://farm9.staticflickr.com/8324/8388491003_8ed9e5762a_o_d.png"> <p><strong>Select Count.</strong> Then click <strong>Okay</strong> in the pivot table window. A new worksheet will appear, containing a list of unique values from column G, along with the number of times each occurs.</p> </li> <li><p class="first">This view of the data enables us to quickly scan down the list and see the problems. The count lets us know how much work it is likely to be to fix them. So, with a quick bit of analysis of this pivot table, we can see that of a total 416 rows of data in the GRAIN dataset only 106 values (that is 416 minus the 310 where data are not present) are recorded in the column for Projected investment. Of these 106, only 14 are NOT uniform like \u201cUS$34 million\u201d or \u201cUS$1,876 million\u201d.  Here are the offending entries, which we\u2019ve pulled out into a table:</p> </li> </ol> <table border="1" class="docutils"> <colgroup> <col width="97%"> <col width="3%"> </colgroup> <tbody valign="top"> <tr class="row-odd"><td>Value</td> <td></td> </tr> <tr class="row-even"><td>US$1.2/ha/yr (after first 7 years) in Gambela and US$8/ha/yr (after first 6 years) in Bako</td> <td>1</td> </tr> <tr class="row-odd"><td>US$1.3 billion</td> <td>1</td> </tr> <tr class="row-even"><td>US$1.6 billion</td> <td>1</td> </tr> <tr class="row-odd"><td>US$125,000/yr(land lease)</td> <td>1</td> </tr> <tr class="row-even"><td>US$2 billion</td> <td>2</td> </tr> <tr class="row-odd"><td>US$205 million (half of fund)</td> <td>2</td> </tr> <tr class="row-even"><td>US$3.1 billion</td> <td>1</td> </tr> <tr class="row-odd"><td>US$4 million (lease cost for 25,000 ha)</td> <td>1</td> </tr> <tr class="row-even"><td>US$4/ha/yr (lease)</td> <td>2</td> </tr> <tr class="row-odd"><td>US$57,600 (US$0.80/ha)</td> <td>1</td> </tr> <tr class="row-even"><td>US$8/ha/yr (lease)</td> <td>1</td> </tr> <tr class="row-odd"><td>Total</td> <td>14</td> </tr> </tbody> </table> <ol class="arabic"> <li><p class="first">We can fix these in about 5 minutes simply by identifying them in the original data, and changing them by hand so our formula can then process it. Head back to the worksheet you have your clean data in. A quick way to highlight these entries is to use the autofilter selection list that we used above.</p> <img alt="http://farm9.staticflickr.com/8328/8388491033_9b95ffc0a8_o_d.png" src="http://farm9.staticflickr.com/8328/8388491033_9b95ffc0a8_o_d.png"> </li> <li><p class="first">Go through the list and make sure that only the exceptions we have identified are selected. Then click <strong>OK</strong>. This will change what the spreadsheet shows: only those rows that have in column G the data you\u2019ve selected will be shown. You can now go through them one-by-one, changing the data in column G so the formula we made can work on it. You will see the results in Column H, which will update automatically. For example:</p> <p>US$30-35 mil \u2192 hand correct into  an average: US$32.5 million \u2192 Formula returns 32.5</p> <p>US$2 billion \u2192 hand correct in US$2,000 million \u2192 Formula returns 2,000</p> <p>...and so on.</p> <p><strong>Tip:</strong> as you are updating original data, you may wish to keep a note of what you changed. Either create a column called \u201cNotes\u201d, and record the data there. Or, duplicate column G and name this new column \u201cProjected Investment (un-altered)\u201d. Or, where appropriate update the column called \u201cSummary\u201d with the data, which is the approach we have taken.</p> </li> <li><p class="first">There are a few final steps to take to make the numbers in column H usable. Currently, our data in column G is a <strong>calculated value</strong>, not a number: in spreadsheet language, this means we can\u2019t add them up yet! We need to <strong>replace the formula with its result</strong>. This is easily done with the Paste Special feature we noted above.</p> <ul> <li><p class="first">Select the whole of column H (or just H1 to H417 if you prefer).</p> </li> <li><p class="first">Copy it (Shortcut: Ctrl-C). Put the cursor at the top of column H, selecting Cell H1. Go to Edit \u2192 Paste Special. A window will appear, like this:</p> <img alt="http://farm9.staticflickr.com/8223/8388491067_493294ac44_b_d.jpg" src="http://farm9.staticflickr.com/8223/8388491067_493294ac44_b_d.jpg"> </li> <li><p class="first">We can choose what aspects of the selected data are pasted by checking and unchecking them. Make it so it looks like this, then select OK:</p> <img alt="http://farm9.staticflickr.com/8223/8388491067_493294ac44_b_d.jpg" src="http://farm9.staticflickr.com/8223/8388491067_493294ac44_b_d.jpg"> </li> <li><p class="first">Edit one of the cells in column H. You should see that the formula is gone, and there is only a number. Sometimes, after a Paste Special operation, when you edit a cell you may also see an apostrophe has been inserted into the number. This is an infamous bug. You can remove the apostrophes by selecting the column, going to Data \u2192 Text to Columns. Just select OK, and the problem will be fixed.</p> </li> <li><p class="first">Finally, format your column of numbers correctly. Select the column (or range H1:H417), right click on the selected area to bring up the secondary menu. Choose \u201c<strong>Format Cells</strong>\u201d. In Numbers, select the category \u2018Numbers\u2019, and choose -1234, and then change the value for Decimal places to read \u201c1\u201d. Then click OK.</p> <img alt="http://farm9.staticflickr.com/8358/8389578588_d47863e0f8_b_d.jpg" src="http://farm9.staticflickr.com/8358/8389578588_d47863e0f8_b_d.jpg"> </li> <li><p class="first">Now your numbers are ready to use.</p> </li> </ul> </li> </ol> </div> </div> </div> <div class="section" id="problem-5-structural-problems-data-in-inconvenient-places"> <h2>Problem 5: Structural problems - data in inconvenient places</h2> <div class="section" id="id9"> <h3>What\u2019s the problem?</h3> <p>Look closely at column F of your increasingly clean GRAIN dataset. This contains details about the intended use to which sold land will be put. Here are the first 10 entries (if your sheet is sorted alphabetically by \u2018Landgrabbed\u2019):</p> <ul class="simple"> <li>Milk, olive oil, potatoes</li> <li>Rice</li> <li>Oil palm</li> <li>Oil palm</li> <li>Sugar cane</li> <li>Oilseed</li> <li>Rice</li> <li>Soybeans</li> <li>Maize, soybeans, wheat</li> <li>Barley, maize, soybeans, sunflower, wheat</li> </ul> <p>In some cells there are single values, like just Oil palm. In others, the picture of how land is used is more complicated and there are more values. At a simple level, this data means we can do some basic analysis. Try this:</p> <ol class="arabic"> <li><p class="first">Let\u2019s try and find all the land deals where Alfalfa was to be produced. Select the complete dataset. Go to <strong>Data \u2192 Filter \u2192 Autofilter</strong>. You\u2019ll see the little triangles appear on the column headings, like so:</p> </li> <li><p class="first">Select the little triangle, and a selection list will appear, which contains a list of all the values column F, listed alphabetically and without duplicates. Choosing from this list will change what data is shown in the spreadsheet:</p> <img alt="http://farm9.staticflickr.com/8355/8388491119_570cc1027e_o_d.png" src="http://farm9.staticflickr.com/8355/8388491119_570cc1027e_o_d.png"> </li> <li><p class="first">In this list, untick <strong>Alfalfa</strong>. If you clicked \u201c<strong>OK</strong>\u201d now, the spreadsheet would show all rows of data that have <strong>everything but</strong> Alfalfa in column F.  We can reverse this by unchecking Alfalfa and selecting the reverse button (at the bottom right of the window above you see two pictoral buttons, choose the left one). This reverses things, and shows only the unselected values. Click \u201cOK\u201d, and you will see only rows of data where the single word Alfalfa is present in column F. There are only two.</p> </li> <li><p class="first">There are clearly other records where Alfalfa is recorded in Production. Repeat the above steps but include the items on the list that say \u201cAlfalfa,crops,livestock\u201d and \u201cAlfalfa,maize,sunflower\u201d. With this filter there are 2 more rows of data, showing us 4 deals where Alfalfa was grown.</p> </li> <li><p class="first">To remove the filter and again show all your data, go to <strong>Data \u2192 Filter \u2192 Remove Filter</strong>.</p> </li> </ol> <p>So we can do some useful basic stuff. But there are problems that will affect the analysis:</p> <ul class="simple"> <li>We can\u2019t see the complete range of options very easily.</li> <li>We have to rely on the people creating the data to have arranged things alphabetically too; what if someone had recorded Alfalfa at the end of the list? We couldn\u2019t see it.</li> <li>Further, we assume they\u2019ve spelled things the same each time, or used the same word for example: \u201cAlfalfa crop\u201d or perhaps another word for it.</li> <li>It\u2019s difficult to get a full list of the land uses that you can look for.</li> </ul> </div> <div class="section" id="id10"> <h3>What\u2019s the solution?</h3> <p>In a spreadsheet this can be partially overcome using the standard filter, which is more flexible than an autofilter.</p> <div class="section" id="use-standard-filters-for-a-more-flexible-search"> <h4>Use standard filters for a more flexible search</h4> <ol class="arabic"> <li><p class="first">Go to <strong>Data \u2192 Filter \u2192 Standard Filter</strong>. This opens up a window like the one below. It has a lot more options. Let\u2019s look for deals involving Alfalfa again. Make your standard filter look like this, and select OK:</p> <img alt="http://farm9.staticflickr.com/8044/8388491131_965eb1eaa8_b_d.jpg" src="http://farm9.staticflickr.com/8044/8388491131_965eb1eaa8_b_d.jpg"> </li> <li><p class="first">So, this searches down Column F, where our data about production is stored, for  cells where the word \u201calfalfa\u201d is written anywhere. It doesn\u2019t matter whether other words are there. The spreadsheet will again be filtered to show four rows.</p> </li> <li><p class="first">We can build up more complicated queries. For example, try this one, which will filter the data for deals where the land use was thought to be for rice AND bananas, amongst others:</p> <img alt="http://farm9.staticflickr.com/8500/8388491143_d7c5eb7ffc_b_d.jpg" src="http://farm9.staticflickr.com/8500/8388491143_d7c5eb7ffc_b_d.jpg"> </li> <li><p class="first">This returns only two results.</p> </li> <li><p class="first">To remove the filter, go to <strong>Data \u2192 Filter \u2192 Remove</strong>.</p> </li> </ol> </div> <div class="section" id="why-this-is-only-a-part-solution"> <h4>Why this is only a part solution</h4> <p>Again, it\u2019s sort-of-useful but quite limited for the same reasons as autofilter: mis-spellings, alternative wording, not having a complete list to choose from.  At root this is a very difficult problem to solve with a spreadsheet: data on Production is what we call a <strong>repeatable field</strong>, in that buyers of land can have many equally important uses for the land. This is a different dimension of data: it\u2019s called  a one-to-many relationship. There is no easy way to structure data for a spreadsheet to make this data easy to use with any accuracy.</p> <p>A common mis-step at this point is to start adding columns to allow multiple data to be recorded. This isn\u2019t any better than recording it all in one cell, because of the way spreadsheet filters work. For example:</p> <table border="1" class="docutils"> <colgroup> <col width="10%"> <col width="30%"> <col width="30%"> <col width="30%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">Row</th> <th class="head">Production 1</th> <th class="head">Production 2</th> <th class="head">Production 3</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>1</td> <td>Rice</td> <td>Bananas</td> <td>Grains</td> </tr> <tr class="row-odd"><td>2</td> <td>Grain</td> <td>Rice</td> <td>Bananas</td> </tr> <tr class="row-even"><td>3</td> <td>Bananas</td> <td>Grains</td> <td>Rice</td> </tr> </tbody> </table> <p>In the example above, all three rows have entries for \u201cRice\u201d. A spreadsheet filter looks only up and down a column, not left and right to other columns. So to build a filter that accurately returned all three rows, you would need to search all three columns for the term \u201cRice\u201d. This quickly becomes impractical as you begin wanting to find rows with different combinations of production types.</p> <p>At this point, altering the structure of the GRAIN data for use in a spreadsheet probably isn\u2019t worth it as there would be little gain. However, in this dataset, around 30% of entries in this column have more than a single entry, and there are nearly a 100 types of production. Having the data is important, as it may allow us to ask and answers questions we wouldn\u2019t otherwise be able to. For example, are there certain land uses that go together? Is there a relationship between the land use, the size of the land transacted, or the amount of investment. Exploiting the data effectively requires a <strong>database</strong>, not a spreadsheet.</p> <p>However, there are things we can do to improve our ability to analyse the data, which we will go into in the next section.</p> </div> </div> </div> <div class="section" id="problem-6-from-banabas-to-bananas-dealing-with-inconsistencies-in-data"> <h2>Problem 6: from \u201cbanabas\u201d to \u201cbananas\u201d - dealing with inconsistencies in data</h2> <div class="section" id="id11"> <h3>What\u2019s the problem?</h3> <p>In the GRAIN dataset look again at column F, called \u2018Production\u2019. This column contains data about what buyers of land intend to grow on their new acquisitions, such as growing \u2018cereal\u2019, \u2018soyabeans\u2019 or \u2018sugarcane\u2019 and many other types of agricultural activity. As mentioned above, we can use this data to sort and filter the dataset, which helps us see the extent of different kinds of production. However, there are some uncertainties that make the data in the \u2018Production\u2019 column far less useful than it could be:</p> <ul class="simple"> <li>We don\u2019t know everything we could be looking for in the dataset. This is because there isn\u2019t a single list of categories of production (called a \u2018controlled vocabulary\u2019\u2019). There are in fact well over 100 distinct categories. How do we get them into a single big list?</li> <li>We can\u2019t be confident that the people creating the data have been consistent in how they entered the data. So if we look for \u201coil seed\u201d, you\u2019ll also find \u201coilseed\u201d and \u201coil seeds\u201d. This difference is important because a spreadsheet treats these these as completely different things.</li> </ul> <p>We can address these obstacles to our understanding of the data. What we are going to do is create a new, more accurate and consistent <strong>controlled vocabulary</strong> for this dataset and apply it to the data. Here\u2019s how.</p> </div> <div class="section" id="id12"> <h3>What\u2019s the solution?</h3> <p>The process of solving this problem has four steps, which we\u2019ll cover in detail:</p> <ol class="arabic simple"> <li>Get all the categories that appear in the data</li> <li>Make one big list from the almighty mess</li> <li>Remove duplicates and correct categories that are nearly the same</li> <li>Edit the data to fit the more accurate list of categories</li> </ol> <div class="section" id="get-all-the-categories-that-appear-in-the-data"> <h4>Get all the categories that appear in the data</h4> <p>As we discussed above in the section on structural problems, different pieces of data about production are held in a single cell. Each item is separated by commas. We can use a feature called \u201cText to Columns\u201d to separate out each of the items into individual cells.</p> <ol class="arabic"> <li><p class="first">Create a new empty worksheet and name it \u201cText-to-columns\u201d (or something memorable so you know what\u2019s in it). We will use this worksheet as a \u2018scratch pad\u2019 to work on this particular problem.</p> </li> <li><p class="first">In the GRAIN dataset that you have been working on, select Column F containing the data about production. Copy it (Shortcut: Ctrl-C) and then go to your new \u201cText-to-Columns\u201d worksheet and paste it into column A. (You can use Paste Special if you like, to remove all the formatting). Rename the column as \u201cProduction (original)\u201d</p> </li> <li><p class="first">If you haven\u2019t already, then you will now have to remove non-printing characters from this data. You can use the combination of CLEAN and TRIM and then Paste-Special that we described above. So, in cell B1 enter =CLEAN(TRIM(A1)). This will print out a version of the data in cell A1 that has no non-printing characters. Copy the formula down the column B to create a completely clean version of column A. Then select column B, copy it, and use <strong>Edit \u2192  Paste Special</strong>, unchecking \u201cformulas\u201d.</p> </li> <li><p class="first">Now you have clean, usable data in column B. Rename it \u201cProduction (cleaned)\u201d.</p> </li> <li><p class="first">Now the cool bit: Select column B that has your cleaned data, and select <strong>Data \u2192 Text to Columns</strong>. A new window like this will appear:</p> <img alt="http://farm9.staticflickr.com/8078/8388491187_4808c60b41_b_d.jpg" src="http://farm9.staticflickr.com/8078/8388491187_4808c60b41_b_d.jpg"> <p>In \u201cSeparator options\u201d area uncheck \u201ctab\u201d and check \u201ccomma\u201d, as the items in our cells are separated by commas, and not tabs. In the \u201cFields\u201d area you can see that for each comma the spreadsheet finds, it will move the data after that comma into a new column:</p> <img alt="http://farm9.staticflickr.com/8213/8389578712_0e279456e4_b_d.jpg" src="http://farm9.staticflickr.com/8213/8389578712_0e279456e4_b_d.jpg"> <p>Select <strong>Okay</strong>, and watch what happens. Here\u2019s how your data now looks:</p> <img alt="http://farm9.staticflickr.com/8495/8389578760_7de4ab8c8a_b_d.jpg" src="http://farm9.staticflickr.com/8495/8389578760_7de4ab8c8a_b_d.jpg"> </li> </ol> <p>Do a few quick checks to see that nothing strange has happened. For example, check that the number of rows remains the same: there are 417 rows in the original data - this should not change. Also run your eye across a few of the rows to see things match.</p> </div> <div class="section" id="make-one-big-list-from-the-almighty-mess"> <h4>Make one big list from the almighty mess</h4> <p>Why? This helps us find the unique items. There are over 700 individual items and many duplicates (to count them put =COUNTA(B2:P418) into a cell somewhere) and we can\u2019t drill them down easily as they are currently structured. It\u2019s easier if they are in a single column. To do this, we can use a little hack that occurs when you change file formats:</p> <ol class="arabic"> <li><p class="first">Save your spreadsheet. Now delete column A and save it again with a new filename. Now save it again (yawn!), this time as a Text CSV.</p> </li> <li><p class="first">Start up  your favourite text editor (like Notepad on Windows, Gedit on Linux, or TextEdit on Mac) and open the Text CSV you just created. It\u2019ll look something like this when it\u2019s opened:</p> <img alt="http://farm9.staticflickr.com/8230/8389872360_5db2f0437b_o_d.png" src="http://farm9.staticflickr.com/8230/8389872360_5db2f0437b_o_d.png"> </li> <li><p class="first">Now copy and paste this text into a new document in <strong>Libre Office Writer</strong>. We will use Writer to process this data as text, before we return it to a spreadsheet for analysis. So, in Writer we will use the <strong>Find and Replace</strong> tool - it\u2019s the same as in the spreadsheet - to create a single list:</p> </li> <li><p class="first">Replace all the commas with new lines: open the Find and Replace feature. Make sure \u201cRegular Expressions\u201d are enabled (look in \u201cMore Options\u201d). In Find enter a single comma. In Replace enter n. This will replace every comma with a new line. There will now be lots of blank lines - don\u2019t fret, this doesn\u2019t matter.</p> </li> <li><p class="first">Select all the text (Ctrl-A) and copy it into the clipboard (Ctrl-C). Go back to your spreadsheet in <strong>Libre Office Calc</strong>. In a new worksheet select cell A1 and paste the text (Ctrl-V). The data will appear, but with lots of blank rows.</p> </li> <li><p class="first">Select column A and go to <strong>Data \u2192 Pivot Table</strong>. Choose the options like this the below image.</p> <img alt="http://farm9.staticflickr.com/8093/8389578784_e35ae92692_b_d.jpg" src="http://farm9.staticflickr.com/8093/8389578784_e35ae92692_b_d.jpg"> </li> <li><p class="first">In a new worksheet a list of unique terms used to describe Production, arranged alphabetically, along with a count of how many times they occur, will appear:</p> <img alt="http://farm9.staticflickr.com/8092/8388491283_55ca3c490d_o_d.png" src="http://farm9.staticflickr.com/8092/8388491283_55ca3c490d_o_d.png"> </li> </ol> </div> <div class="section" id="remove-duplicates-and-correct-categories-that-are-nearly-the-same"> <h4>Remove duplicates and correct categories that are nearly the same</h4> <p>You can see immediately from the data above that there are many problems:</p> <ul class="simple"> <li>\u201ccofee\u201d is mis-spelt, so is \u201cforstry\u201d (which should be \u2018forestry\u2019, which could be the same as \u2018forest\u2019)</li> <li>there are entries for \u201cfruit\u201d and \u201cfruits\u201d: which one is best?</li> </ul> <p>This work is called \u2018reconciliation\u2019 and is a process designed to bring clarity to data. It involves looking through a list of terms and:</p> <ul class="simple"> <li>identifying terms that mean the same thing and creating a new list</li> <li>applying the new list to the dataset.</li> </ul> <p>We\u2019ll go through these one by one.</p> <p><strong>Bring the data into a form in which it\u2019s easy to do this task</strong></p> <ul class="simple"> <li>Copy the list of items from the Pivot Table you made above and add it into a new worksheet. Use CLEAN and TRIM on it, and then sort it alphabetically in ascending order.</li> <li>Insert a row at the top. Label column A \u201cCategory\u201d, Column B \u201cIssue\u201d, Column C \u201cNew Term\u201d.</li> </ul> <p><strong>Identifying terms that mean the same thing</strong></p> <ol class="arabic simple"> <li>Go down the list and look for terms that mean the same thing. Here are some things that should alert your suspicion about a term:</li> </ol> <blockquote> <div><ul class="simple"> <li>Spelling mistakes e.g. \u201cbananas\u201d vs \u201cbanabas\u201d</li> <li>Differences in case: \u201cfruit\u201d vs \u201cFruit\u201d. Choose your case and stick to it.</li> <li>Multiples: \u201cfruits\u201d vs \u201cfruit\u201d. Choose which one you want to use. Adjectives: \u201csweet sorghum\u201d, \u201cwinter barley\u201d. If there\u2019s a similar category, like just \u201cbarley\u201d, it may make sense to remove this more specific category.</li> <li>Additional terms: \u201cand\u201d in the text eg. \u201cDairy and Grain farms\u201d; \u201cCitrus and Olives\u201d; \u201cCrops (sorghum)\u201d. The rule is to have only one category in each cell. So delete one of the terms and add it to the list on its own if it doesn\u2019t exist.</li> <li>Qualifying terms eg \u201cbeef cattle\u201d vs \u201cbeef\u201d. \u201cCrops\u201d vs \u201cfood crops\u201d. Choose which one.</li> </ul> </div></blockquote> <ol class="arabic simple"> <li>In column B record what you think is the problem e.g. Near match, none, Spelling error. This will just help you keep track of the changes you make.</li> <li>When you\u2019ve gone down the list and identified the problems, then make the changes in column C. Here\u2019s what we did (we also ringed the suspected duplicates as we went along):</li> </ol> <blockquote> <div><img alt="http://farm9.staticflickr.com/8087/8389578800_12eb291429_o_d.png" src="http://farm9.staticflickr.com/8087/8389578800_12eb291429_o_d.png"> </div></blockquote> <ol class="arabic simple"> <li>Once you\u2019ve done this, run <strong>Data \u2192 Pivot Table</strong> on your list of new terms (in Column C). You\u2019ll see a huge difference.</li> <li>By removing duplicates, spelling and grammar differences and so on we have cut down the categories from 149 to 88, which is still quite an extensive list! Anyhow, we have a more useful controlled vocabulary. The next step is to apply this to the data, so it can help us with our analysis.</li> </ol> <p><strong>Edit the data to fit the more accurate list of categories</strong></p> <p>So in order to create a more accurate analysis of the GRAIN dataset we have narrowed down the categories used to describe the sorts of land use to which transacted land is put. The last step is to bring the data into compliance with these new terms. We can do this using a combination of three useful features of the spreadsheet:</p> <ul class="simple"> <li><strong>Conditional formatting:</strong> we mentioned this <a href="#id14"><span class="problematic" id="id15">`above`_</span></a>. It changes the formatting of a cell based on a rule that you give it eg. turn any cell in a given range red if it has the word \u201cSheep\u201d in it. We can use this to highlight production categories that are not in our new improved list of categories.</li> </ul> <ul class="simple"> <li><strong>Data validation:</strong> this enables you to restrict what data is entered into a cell. So you specify a list of allowed values, and rather than type what you like into a cell you choose from a list. We can use this to make the changes to the data to bring it in line with the new categories, whilst reducing the risk of introducing more errors.</li> <li><strong>Concatenation:</strong> this merges the contents of cells together. We will use it to put the improved data about production back together</li> </ul> <p>The two things you will need are:</p> <ul class="simple"> <li>the spreadsheet in which you used Text to Columns to separate out the terms used to describe land use</li> <li>your new, cleaned up list of terms taken from the previous pivot table.</li> </ul> </div> <div class="section" id="step-1-find-the-items-that-need-correcting"> <h4>Step 1: Find the items that need correcting</h4> <p>We can use the spreadsheet to find the items that need correcting by comparing the data we have to the new list of categories. Here\u2019s how:</p> <ol class="arabic"> <li><p class="first">In the worksheet where you have the data about production, make sure you have cleaned the data (using CLEAN and TRIM and paste special to remove the formulas).</p> </li> <li><p class="first">Have the split items in a worksheet called \u201cSplit\u201d. Place your new list of categories in a worksheet called \u201cCategories\u201d. Select your list of categories. Go to Data \u2192 Define Range. This window will appear, which will enable us to make the list of categories into a \u201crange\u201d against which we can make comparisons:</p> <img alt="http://farm9.staticflickr.com/8075/8388491329_6b3748ece6_o_d.png" src="http://farm9.staticflickr.com/8075/8388491329_6b3748ece6_o_d.png"> </li> <li><p class="first">You\u2019ve already selected the list of categories, which you can see displayed in the Range area. Type <strong>ProductionCategories</strong> into the Name area and then select Add. We can now use this range.</p> </li> <li><p class="first">Select all the data (Shortcut: Ctrl-A) in the worksheet called \u201cSplit\u201d, where the data about production use is split across different columns. Go to <strong>Format \u2192 Conditional Formatting</strong> and make it look like the image below.</p> <img alt="http://farm9.staticflickr.com/8078/8389578860_39d7fafce2_b_d.jpg" src="http://farm9.staticflickr.com/8078/8389578860_39d7fafce2_b_d.jpg"> </li> </ol> <p>The formula to use is <strong>COUNTIF(ProductionCategories,A1)=0</strong>. Also, select \u201cNew Style\u201d. A new window called \u201cCell Style\u201d will pop up. In the \u201cFont Effects\u201d tab choose a colour and then select okay. We chose red, which is shown below:</p> <blockquote> <div><img alt="http://farm9.staticflickr.com/8195/8389578898_688b1d2a79_b_d.jpg" src="http://farm9.staticflickr.com/8195/8389578898_688b1d2a79_b_d.jpg"> </div></blockquote> <p>Select <strong>OK</strong>. This highlights in red the text in cells that are not found in the data range we have called \u201cProductionCategories\u201d. The effect this has is to highlight the entries that we have to now correct. You spreadsheet will look like this:</p> <blockquote> <div><img alt="http://farm9.staticflickr.com/8512/8388491409_4c1a55b745_o_d.png" src="http://farm9.staticflickr.com/8512/8388491409_4c1a55b745_o_d.png"> </div></blockquote> </div> <div class="section" id="step-2-correct-these-entries"> <h4>Step 2: Correct these entries</h4> <p>Now we know where to look, we can make corrections to the data. The way to do this is to introduce <strong>data validation</strong> to the spreadsheet. This restricts the data that can be entered into a cell.</p> <ol class="arabic"> <li><p class="first">Select the complete dataset in the worksheet called \u2018Split\u201d, where you\u2019ve just highlighted the values that don\u2019t appear on the improved list of categories. Go to <strong>Data \u2192 Validity</strong>.</p> </li> <li><p class="first">In the window that opens, make the fields look like those in the image below:</p> <img alt="http://farm9.staticflickr.com/8497/8388491429_da4c5f4870_b_d.jpg" src="http://farm9.staticflickr.com/8497/8388491429_da4c5f4870_b_d.jpg"> <p>What this does is tell the spreadsheet that the only values that it should allow you to enter come from the list to be found in Cells A2:A88 of the worksheet called \u201cCategories\u201d. In others words: your list of categories. We also need to decide what to do when a value that isn\u2019t on the list is entered. Select \u201cError Alert\u201d and make it look like this to stop any non-list values being entered:</p> <img alt="http://farm9.staticflickr.com/8355/8389578926_0b0b8a93fc_b_d.jpg" src="http://farm9.staticflickr.com/8355/8389578926_0b0b8a93fc_b_d.jpg"> <p>Click <strong>OK</strong>, and go to a cell with red text in it and click on it. You\u2019ll see that a little drop down selector on the right hand side of the cell.</p> <img alt="http://farm9.staticflickr.com/8496/8389578938_39ff64b4c3_o_d.png" src="http://farm9.staticflickr.com/8496/8389578938_39ff64b4c3_o_d.png"> <p>Click on it to display the list of \u2018approved\u2019 terms:</p> <img alt="http://farm9.staticflickr.com/8377/8388491469_c58926e217_o_d.png" src="http://farm9.staticflickr.com/8377/8388491469_c58926e217_o_d.png"> </li> </ol> <p>You can now go through the data, correcting it to remove the errors and make it more useful for analysis. There are a few things to watch out for:</p> <ul class="simple"> <li>As you go through, increasingly you can use keyboard shortcuts and auto-complete and rely on the validation to tell you when you\u2019ve typed a wrong entry.</li> <li>When you have changed a value, notice that the text changes to colour to show that it is now a recognised term. When there\u2019s no more red, you\u2019re done.</li> <li>With values like \u201cSoyabean and other crops\u201d, you should change it to \u201cSoybean\u201d and then add a new entry for \u201cCrops\u201d. Don\u2019t forget!</li> </ul> </div> <div class="section" id="step-3-put-it-all-back-together-again"> <h4>Step 3: put it all back together again</h4> <p>We will take the improved data about land use and re-incorporate it into the full dataset.</p> <ul class="simple"> <li>In you first  worksheet, where you have been progressively cleaning the data, insert 15 columns to the right of Column F. Take the data from the worksheet that you validated the production category data in and copy it across into the new columns. If you didn\u2019t put column heading, remember to paste starting in Row 2. You\u2019ll be able to see the original data in Column F, and the separated about and cleaned data in Columns G to S.</li> <li>What we need to do now is put the clean data back into a single cell. We can do this with the CONCATENATE function. This allows you to take data from different cells and blend it into one. For example:</li> </ul> <table border="1" class="docutils"> <colgroup> <col width="4%"> <col width="8%"> <col width="11%"> <col width="46%"> <col width="31%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">row</th> <th class="head">F</th> <th class="head">G</th> <th class="head">Formula</th> <th class="head">Output</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>22</td> <td>Cereal</td> <td>Palm Oil</td> <td>=CONCATENATE(F22,F22)</td> <td>CerealPalm OIl</td> </tr> <tr class="row-odd"><td>23</td> <td>Cereal</td> <td>Palm OIl</td> <td>=CONCATENATE(F22,\u201d \u201c,G22)</td> <td>Cereal Palm Oil</td> </tr> <tr class="row-even"><td>24</td> <td>Cereal</td> <td>Palm Oil</td> <td>=CONCATENATE(F22,\u201d, \u201c,G22)</td> <td>Cereal, Palm Oil</td> </tr> <tr class="row-odd"><td>25</td> <td>Cereal</td> <td>Palm Oil</td> <td>=CONCATENATE(F22,\u201d and \u201c,G22)</td> <td>Cereal and Palm Oil</td> </tr> </tbody> </table> <ul class="simple"> <li>We can blend data from other cells (which we called \u2018referencing\u2019), with other text to make it more readable. The examples above show how this works.</li> <li>Now let\u2019s apply it to the data in our spreadsheet. In cell T2 insert the following formula:</li> </ul> <table border="1" class="docutils"> <colgroup> <col width="74%"> <col width="26%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">T2 (formula)</th> <th class="head">T2  (output)</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>=CONCATENATE(G2,\u201d, \u201d,H2,\u201d , \u201d,I2,\u201d, \u201d,J2,\u201d, \u201d,K2,\u201d , \u201d,L2,\u201d, \u201d,M2,\u201d, \u201d,N2,\u201d , \u201d,O2,\u201d, \u201d,P2,\u201d, \u201d,Q2,\u201d , \u201d,R2,\u201d, \u201d,S2)</td> <td>Milk, Olives, potatoes, , , , , , , , , ,</td> </tr> </tbody> </table> <ul class="simple"> <li>It looks messy, but follow the logic. It looks across row 2 in columns G to S for data, and then prints it with a comma in between. We don\u2019t know which cells have data in them precisely, so there is a list of trailing commas which print where a cell is empty. We can get rid of these easily with the LEFT and SEARCH formulas we used <a href="#id16"><span class="problematic" id="id17">`above`_</span></a>. In cell U2:</li> </ul> <table border="1" class="docutils"> <colgroup> <col width="43%"> <col width="29%"> <col width="27%"> </colgroup> <thead valign="bottom"> <tr class="row-odd"><th class="head">T2 (output)</th> <th class="head">U2  (formula)</th> <th class="head">U2 (Output)</th> </tr> </thead> <tbody valign="top"> <tr class="row-even"><td>Milk, Olives, potatoes, , , , , , , , , ,</td> <td>=LEFT(T2,SEARCH(\u201d, ,\u201d,T2)-1)</td> <td>Milk, Olives, potatoes</td> </tr> </tbody> </table> <ul class="simple"> <li>So, with these two formulas in place, they can be copied down the spreadsheet to complete the operation. The only row that this doesn\u2019t work for is row 94, Temasek\u2019s purchase of land in China. You can correct it by hand :)</li> <li>The final step is to make the new data usable. If you\u2019re confident the work is done, insert column to the left of the original column F called Production. Call this new Column G \u201cProduction (cleaned)\u201d. Select all the data in Column T (rows 2 to 417), move the cursor and use Paste Special to insert it into Column G.</li> <li>You can now either delete or hide columns H to W in which you\u2019ve been working.</li> </ul> </div> <div class="section" id="step-4-using-the-cleaned-data-about-types-of-production-land-use"> <h4>Step 4: using the cleaned data about types of production land use</h4> <p>You can repeat the steps that we outlined in Problem 4 above, using the standard filters to build queries on the cleaned data in column G. This time you will not have problems with inconsistencies, mis-spellings and so on.</p> </div> </div> </div> <div class="section" id="finishing-touches"> <h2>Finishing touches</h2> <ul class="simple"> <li>Columns A and C of the GRAIN data both record names of states. To check for errors here we copied the data from both columns into a single column, and created a pivot table that showed the list of unique values recorded in both columns. The only errors were a mis-spelling of Germany (\u201cGemany\u201d) and the use of \u201cWest Africa\u201d, which is a region not a state. We corrected both, including a note in the \u201cSummary\u201d cell if further clarity was needed.</li> <li>To complete this, apply the cleaning process outlined in Problem 5 above to Column D of the original GRAIN dataset, which records data about the sector. But for some issues with lower and upper case it does not share the same problem as the data about Production in column F. There are not obviously overlapping categories. To be certain, we ran CLEAN and TRIM again, and converted everything to sentence case (the formula is =PROPER(CLEAN(TRIM(cell reference))).</li> <li>In Column H (Status of Deal), we altered three entries that had additional text not in the categories Done, In Process, Proposed, Suspended, MOU signed. The information carried by this text was already continued in the Summary (column I).</li> </ul> <div class="alert alert-info">Any questions? Got stuck? <a class="btn btn-large btn-info" href="http://ask.schoolofdata.org">Ask School of Data! </a></div></div> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p4034
sS'dateCreated'
p4035
(ixmlrpclib
DateTime
p4036
(dp4037
g32
S'20130202T23:10:47'
p4038
sbsS'wp_author_display_name'
p4039
S'Michael Bauer'
p4040
sS'link'
p4041
S'http://schoolofdata.org/handbook/recipes/cleaning-data-with-spreadsheets/'
p4042
sS'page_status'
p4043
S'publish'
p4044
sS'categories'
p4045
(lp4046
sS'wp_page_template'
p4047
S'default'
p4048
sS'mt_allow_pings'
p4049
I0
sS'date_created_gmt'
p4050
(ixmlrpclib
DateTime
p4051
(dp4052
g32
S'20130202T21:10:47'
p4053
sbssS'2892'
p4054
(dp4055
S'wp_author'
p4056
S'Michael Bauer'
p4057
sS'userid'
p4058
S'2191'
p4059
sS'excerpt'
p4060
g8
sS'wp_page_parent_id'
p4061
I2870
sS'mt_allow_comments'
p4062
I1
sS'text_more'
p4063
g8
sS'custom_fields'
p4064
(lp4065
(dp4066
S'value'
p4067
S'1159976011'
p4068
sS'id'
p4069
S'11488'
p4070
sS'key'
p4071
S'dsq_thread_id'
p4072
sasS'wp_author_id'
p4073
S'2191'
p4074
sS'title'
p4075
g8
sS'wp_password'
p4076
g8
sS'wp_page_parent_title'
p4077
S'Welcome to the School of Data Handbook'
p4078
sS'page_id'
p4079
I2892
sS'wp_slug'
p4080
S'search'
p4081
sS'wp_page_order'
p4082
I0
sS'permaLink'
p4083
S'http://schoolofdata.org/handbook/search/'
p4084
sS'description'
p4085
S'<div class="content">  <h1 id="search-documentation">Search</h1> <div id="fallback" class="admonition warning"> <script type="text/javascript">$(\'#fallback\').hide();</script> <p> Please activate JavaScript to enable the search functionality. </p> </div> <p> From here you can search these documents. Enter your search words into the box below and click "search". Note that the search function will automatically search for all of the words. Pages containing fewer words won\'t appear in the result list. </p> <form action="" method="get"> <input type="text" name="q" value=""> <input type="submit" value="search"> <span id="search-progress" style="padding-left: 10px"></span> </form>  <div id="search-results">  </div>  <p><small>Last updated on Jul 18, 2013.</small></p></div>'
p4086
sS'dateCreated'
p4087
(ixmlrpclib
DateTime
p4088
(dp4089
g32
S'20130202T23:10:52'
p4090
sbsS'wp_author_display_name'
p4091
S'Michael Bauer'
p4092
sS'link'
p4093
S'http://schoolofdata.org/handbook/search/'
p4094
sS'page_status'
p4095
S'publish'
p4096
sS'categories'
p4097
(lp4098
sS'wp_page_template'
p4099
S'default'
p4100
sS'mt_allow_pings'
p4101
I0
sS'date_created_gmt'
p4102
(ixmlrpclib
DateTime
p4103
(dp4104
g32
S'20130202T21:10:52'
p4105
sbssS'2872'
p4106
(dp4107
S'wp_author'
p4108
S'Michael Bauer'
p4109
sS'userid'
p4110
S'2191'
p4111
sS'excerpt'
p4112
g8
sS'wp_page_parent_id'
p4113
I2871
sS'mt_allow_comments'
p4114
I1
sS'text_more'
p4115
g8
sS'custom_fields'
p4116
(lp4117
(dp4118
S'value'
p4119
S'1121465060'
p4120
sS'id'
p4121
S'7831'
p4122
sS'key'
p4123
S'dsq_thread_id'
p4124
sasS'wp_author_id'
p4125
S'2191'
p4126
sS'title'
p4127
S'Glossary'
p4128
sS'wp_password'
p4129
g8
sS'wp_page_parent_title'
p4130
S'Appendix'
p4131
sS'page_id'
p4132
I2872
sS'wp_slug'
p4133
S'glossary'
p4134
sS'wp_page_order'
p4135
I0
sS'permaLink'
p4136
S'http://schoolofdata.org/handbook/appendix/glossary/'
p4137
sS'description'
p4138
V<div class="content">  <div class="section" id="glossary">   <dl class="glossary docutils"> <dt id="term-anonymisation">Anonymisation</dt> <dd>The process of treating data such that it cannot be used for the identification of individuals.</dd> <dt id="term-api">API</dt> <dd>See <a class="reference internal" href="#term-application-programming-interface"><em class="xref std std-term">Application Programming Interface</em></a>.</dd> <dt id="term-application-programming-interface">Application Programming Interface</dt> <dd>A way computer programmes talk to one another. Can be understood in terms of how a programmer sends instructions between programmes.</dd> <dt id="term-attribution-licence">Attribution Licence</dt> <dd>A licence that requires attributing the original source of the licensed material.</dd> <dt id="term-bittorrent">BitTorrent</dt> <dd>BitTorrent is a protocol for distributing the bandwith for transferring very large files between the computers which are participating in the transfer. Rather than downloading a file from a specific source, BitTorrent allows peers to download from each other.</dd> <dt id="term-boolean-logic">Boolean logic</dt> <dd>A form of algebra in which all values are reduced to either TRUE or FALSE.</dd> <dt id="term-categorical-data">Categorical Data</dt> <dd>Data that helps put things into categories. E.g.: Country names, Groups, Conditions, Tags</dd> <dt id="term-choropleth-map">Choropleth Map</dt> <dd>A choropleth map is a map where value are encoded onto regions using colormapping. The whole region is colored using the underlying value.</dd> <dt id="term-comma-separated-values">Comma-separated Values</dt> <dd>See <a class="reference internal" href="#term-csv"><em class="xref std std-term">CSV</em></a></dd> <dt id="term-continuous-data">Continuous Data</dt> <dd>Numerical data that, if you plot all possible values, has no gaps. E.g. Sizes (you can be 155.55 or 155.56cm tall etc.) Compare to <a class="reference internal" href="#term-discrete-data"><em class="xref std std-term">Discrete Data</em></a></dd> <dt id="term-crowdsourcing">Crowdsourcing</dt> <dd>Mashup of crowd and outsourcing: Having a lot of people do simple tasks to complete the whole work.</dd> <dt id="term-csv">CSV</dt> <dd>Comma Separated Values. A very simple, open format for tabular data which can be exported and imported by all spreadsheet applications and is easily manipulable with command line tools.</dd> <dt id="term-curl">curl</dt> <dd><a class="reference external" href="http://curl.haxx.se/">http://curl.haxx.se/</a> - a command line tool for transferring data to and from online systems over standard internet protocols including FTP and HTTP. Very powerful and great for working with <a class="reference internal" href="#term-web-api"><em class="xref std std-term">Web API</em></a> s from the command line.</dd> <dt id="term-dap">DAP</dt> <dd>See <a class="reference internal" href="#term-data-access-protocol"><em class="xref std std-term">Data Access Protocol</em></a>.</dd> <dt id="term-data-access-protocol">Data Access Protocol</dt> <dd>A system that allows outsiders to be granted access to databases without overloading either system.</dd> <dt id="term-discrete-data">Discrete Data</dt> <dd>Numerical Data that, if you plot all possible values, has gaps in it. E.g. the count of things (there are no 1.5 children). Compare to <a class="reference internal" href="#term-continuous-data"><em class="xref std std-term">Continuous Data</em></a></dd> <dt id="term-etherpad">etherpad</dt> <dd>A piece of software for collaborative real-time editing of text. See <a class="reference external" href="http://etherpad.org/">http://etherpad.org/</a>.</dd> <dt id="term-gdp">GDP</dt> <dd>Gross domestic product (GDP) is the market value of all officially recognized goods and services produced within a country in a given period of time. GDP per capita is often considered an indicator of a country\u2019s standard of living. (Source: Wikipedia.)</dd> <dt id="term-geocode">Geocode</dt> <dd>see <a class="reference internal" href="#term-geocoding"><em class="xref std std-term">Geocoding</em></a></dd> <dt id="term-geocoding">Geocoding</dt> <dd>From Geographical Coding. Describes the practice of attaching geographical coordinates to items.</dd> <dt id="term-geojson">GeoJSON</dt> <dd>GeoJSON is a format for encoding a variety of geographic data structures. It is based on the <a class="reference internal" href="#term-json"><em class="xref std std-term">JSON</em></a> specification. More documentation can be found on <a class="reference external" href="http://www.geojson.org">http://www.geojson.org</a></dd> <dt id="term-intellectual-property-rights">Intellectual property rights</dt> <dd>Monopolies granted to individuals for intellectual creations.</dd> <dt id="term-ip-rights">IP rights</dt> <dd>See <a class="reference internal" href="#term-intellectual-property-rights"><em class="xref std std-term">Intellectual property rights</em></a>.</dd> <dt id="term-json">JSON</dt> <dd>JavaScript Object Notation. A common format to exchange data. Although it is derived from Javascript, libraries to parse JSON data exist for many programming languages. Its compact style and ease of use has made it widespread. To make viewing JSON in a browser easier you can install a plugin such as <a class="reference external" href="https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc">JSONView in Chrome</a> and <a class="reference external" href="https://addons.mozilla.org/en-us/firefox/addon/jsonview/">JSONView in Firefox</a>.</dd> <dt id="term-machine-readable">Machine-readable</dt> <dd>Formats that are machine readable are ones which are able to have their data extracted by computer programs easily. PDF documents are not machine readable. Computers can display the text nicely, but have great difficulty understanding the context that surrounds the text. Common machine-readable file formats are <a class="reference internal" href="#term-csv"><em class="xref std std-term">CSV</em></a> and Excel Files.</dd> <dt id="term-mean">Mean</dt> <dd>The arithmetic mean of a set of values. Calculated by summing up all values and then dividing by the number of values.</dd> <dt id="term-median">Median</dt> <dd>The median is defined as the value where 50% of values in a range will be below, 50% of values above the value.</dd> <dt id="term-normal-distribution">Normal Distribution</dt> <dd>The normal (or Gaussian) distribution is a continuous probability distribution with a bell shaped curve.</dd> <dt id="term-open-data">Open Data</dt> <dd>Open data is data that can be used, reused and redistributed freely by anyone for any purpose. More details can be found at at <a class="reference external" href="http://www.opendefinition.org/">opendefinition.org</a>.</dd> <dt id="term-open-standards">Open standards</dt> <dd>Generally understood as technical standards which are free from licencing restrictions. Can also be interpreted to mean standards which are developed in a vendor-neutral manner.</dd> <dt id="term-percentiles">Percentiles</dt> <dd>Percentiles are a value where n% of values are below in a given range. e.g. the 5th percentile: 5 percent of values are lower than this value.</dd> <dt id="term-public-domain">Public domain</dt> <dd>No copyright exists over the work. Does not exist in all jurisdictions.</dd> <dt id="term-qualitative-data">Qualitative Data</dt> <dd>Qualitative data is data telling you something about qualities: e.g. description, colors etc. Interviews count as qualitative data</dd> <dt id="term-quantitative-data">Quantitative Data</dt> <dd>Quantitative data tells you something about a measure or quantification. Such as the quantity of things you have, the size (if measured) etc.</dd> <dt id="term-quartiles">Quartiles</dt> <dd>Quartiles are the values where 25, 50 and 75% of values in a range are below the given value.</dd> <dt id="term-readme">Readme</dt> <dd>A file (usually named <tt class="docutils literal"><span class="pre">README</span></tt> or <tt class="docutils literal"><span class="pre">README.txt</span></tt>) that explains new users what the current directory or set of files is about. This is very commonly found in open source software projects and is considered good practice to be included with various publications (including datasets). The file usually contains a short description of what to expect.</dd> <dt id="term-scraping">Scraping</dt> <dd>The process of extracting data in <a class="reference internal" href="#term-machine-readable"><em class="xref std std-term">machine-readable</em></a> formats of non-pure data sources e.g.: webpages or PDF documents. Often prefixed with the source (web-scraping PDF-scraping).</dd> <dt id="term-share-alike-licence">Share-alike Licence</dt> <dd>A licence that requires users of a work to provide the content under the same or similar conditions as the original.</dd> <dt id="term-tab-separated-values">Tab-separated values</dt> <dd>Tab-separated values (TSV) are a very common form of text file format for sharing tabular data. The format is extremely simple and highly <a class="reference internal" href="#term-machine-readable"><em class="xref std std-term">machine-readable</em></a>.</dd> <dt id="term-taxonomy">Taxonomy</dt> <dd>Classification. Taxonomy refers to hierarchical classification of things. One of the best known is the Linnean classification of species - still used today to classify all living beings.</dd> <dt id="term-web-api">Web API</dt> <dd>An <a class="reference internal" href="#term-api"><em class="xref std std-term">API</em></a> that is designed to work over the Internet.</dd> </dl> </div>   <p><small>Last updated on Jul 18, 2013.</small></p></div>
p4139
sS'dateCreated'
p4140
(ixmlrpclib
DateTime
p4141
(dp4142
g32
S'20130202T23:09:59'
p4143
sbsS'wp_author_display_name'
p4144
S'Michael Bauer'
p4145
sS'link'
p4146
S'http://schoolofdata.org/handbook/appendix/glossary/'
p4147
sS'page_status'
p4148
S'publish'
p4149
sS'categories'
p4150
(lp4151
sS'wp_page_template'
p4152
S'default'
p4153
sS'mt_allow_pings'
p4154
I0
sS'date_created_gmt'
p4155
(ixmlrpclib
DateTime
p4156
(dp4157
g32
S'20130202T21:09:59'
p4158
sbssS'3960'
p4159
(dp4160
S'wp_author'
p4161
S'Vanessa Gennarelli'
p4162
sS'userid'
p4163
S'16887'
p4164
sS'excerpt'
p4165
g8
sS'wp_page_parent_id'
p4166
I0
sS'mt_allow_comments'
p4167
I1
sS'text_more'
p4168
g8
sS'custom_fields'
p4169
(lp4170
(dp4171
S'value'
p4172
S'1191376166'
p4173
sS'id'
p4174
S'14312'
p4175
sS'key'
p4176
S'dsq_thread_id'
p4177
sasS'wp_author_id'
p4178
S'16887'
p4179
sS'title'
p4180
S'FAQs about the Mission'
p4181
sS'wp_password'
p4182
g8
sS'wp_page_parent_title'
p4183
g8
sS'page_id'
p4184
I3960
sS'wp_slug'
p4185
S'faqs-about-the-mission'
p4186
sS'wp_page_order'
p4187
I0
sS'permaLink'
p4188
S'http://schoolofdata.org/faqs-about-the-mission/'
p4189
sS'description'
p4190
g8
sS'dateCreated'
p4191
(ixmlrpclib
DateTime
p4192
(dp4193
g32
S'20130406T14:38:46'
p4194
sbsS'wp_author_display_name'
p4195
S'Vanessa Gennarelli'
p4196
sS'link'
p4197
S'http://schoolofdata.org/faqs-about-the-mission/'
p4198
sS'page_status'
p4199
S'publish'
p4200
sS'categories'
p4201
(lp4202
sS'wp_page_template'
p4203
S'default'
p4204
sS'mt_allow_pings'
p4205
I0
sS'date_created_gmt'
p4206
(ixmlrpclib
DateTime
p4207
(dp4208
g32
S'20130406T14:38:46'
p4209
sbssS'4091'
p4210
(dp4211
S'wp_author'
p4212
S'Michael Bauer'
p4213
sS'userid'
p4214
S'2191'
p4215
sS'excerpt'
p4216
g8
sS'wp_page_parent_id'
p4217
I2873
sS'mt_allow_comments'
p4218
I1
sS'text_more'
p4219
g8
sS'custom_fields'
p4220
(lp4221
(dp4222
S'value'
p4223
S'1212309914'
p4224
sS'id'
p4225
S'16551'
p4226
sS'key'
p4227
S'dsq_thread_id'
p4228
sasS'wp_author_id'
p4229
S'2191'
p4230
sS'title'
p4231
S'A gentle introduction to exploring and understanding your data'
p4232
sS'wp_password'
p4233
g8
sS'wp_page_parent_title'
p4234
S'Courses'
p4235
sS'page_id'
p4236
I4091
sS'wp_slug'
p4237
S'gentle-introduction-descriptive-data-analysis'
p4238
sS'wp_page_order'
p4239
I0
sS'permaLink'
p4240
S'http://schoolofdata.org/handbook/courses/gentle-introduction-descriptive-data-analysis/'
p4241
sS'description'
p4242
V<div class="content">  <div class="section" id="a-gentle-introduction-to-exploring-and-understanding-your-data">   <div class="well"><p>This course was created for the School of Data by <a class="reference external" href="http://tacticaltech.org">Tactical Technology Collective</a>. Tactical Tech is an international NGO working at the point where rights advocacy meets information and technology. This course builds on Tactical Tech\u2019s earlier course for the School of Data, <a class="reference external" href="/handbook/courses/data-cleaning/">A Gentle Introduction to Cleaning Data</a>.</p> </div><div class="section" id="introduction"> <h2>Introduction</h2> <div style="font-size: 300%; margin-left: 150px; margin-bottom: 20px;"> 2 + 2 = ___ </div><p>Your resistance to answering this question is futile: you\u2019ve probably just answered it without even thinking.</p> <p>We doubt it\u2019s controversial to say that many of you taking this course have the instinct and itch to know what a column of numbers adds up to, or how the numbers are spread across the different categories in the dataset in front of you. Spreadsheets make this sort of descriptive analysis easy by giving you a kit of mathematical functions to add, subtract, multiply, divide and create averages and percentages from numbers. We think that you know how to use some of these, but if you want to brush up your skills, run through our <a class="reference external" href="/handbook/courses/analyzing-data">data fundamentals course on analysing data</a>.</p> <p>However, the spreadsheet also has another powerful descriptive analysis tool called <strong>pivot tables</strong>.  In a nutshell, this is what they do:</p> <div class="figure"> <img alt="http://farm9.staticflickr.com/8114/8651881402_8622b4d4a1_o_d.png" src="http://farm9.staticflickr.com/8114/8651881402_8622b4d4a1_o_d.png"><p class="caption">Image: \u201cMore Kittens\u201d, courtesy Hitchster. Some rights reserved: CC-BY 2.0. Adapted by Tactical Tech.</p> </div> <p>Pivot tables summarise complete datasets without you having to write formulae, create new columns, or arrange your data in any particular way. They enable you to combine data in ways that reveal the relationships that exist in the data, and show it to you in a new light. They don\u2019t change your data, they have a stack of useful functions built in and using them effectively can cut down on a lot of repetitive tasks, saving you time.</p> <p>A combination of a number of spreadsheet functions - like sort and filter, and some formulae - work in a similar way to pivot tables in that they enable you to rearrange and pull out small bits of data more easily. Pivot tables do these things for the complete dataset, and present it to you so you can see it all.</p> <p>Upon completion of this course, you will:</p> <ul class="simple"><li>understand the basics of pivot tables and how they work;</li> <li>have created around 20 different examples of pivot tables;</li> <li>be able to build and adapt the layout of pivot tables; and,</li> <li>be able to use pivot tables to examine and explore a dataset.</li> </ul><div class="section" id="course-requirements"> <h3>Course requirements</h3> <p>A gentle Introduction to descriptive analysis builds on two earlier School of Data courses:</p> <ol class="arabic simple"><li><a class="reference external" href="/handbook/courses/#data-fundamentals">Data Fundamentals</a>, which covers the basics of data, and how to work with a spreadsheet.</li> <li>A <a class="reference external" href="/handbook/courses/cleaning-data">Gentle Introduction to Cleaning Data</a>, which looks at the four most common ways that data gets messy and dirty, and outlines practical solutions to them using a spreadsheet.</li> </ol><p>To do this course you will require the following:</p> <ol class="arabic simple"><li>An up-to-date version of the free and open source software <a class="reference external" href="http://libreoffice.org">Libre Office</a> installed on your computer. We assume you know how to do this. We have chosen to use LibreOffice because it doesn\u2019t cost anything (unlike Microsoft Excel), doesn\u2019t systematically invade your privacy or require a continual broadband internet connection (like Google Spreadsheet).</li> <li>a <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2013-03-09T023150/pivot_building_sample20130309.xls">copy of the sample dataset</a> for this course, which is a small set of data about the contents of the author\u2019s kitchen shelves. In the course, we\u2019ll use it to demonstrate the basics of making pivot tables.</li> <li>a copy of GRAIN\u2019s data on \u201c<a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2012-10-31T183207/Original+clean_GRAIN_dataset_20121003.xls">land grabbing</a>\u201d. This dataset is typical of the sorts of data that Non-Governmental Organisations (NGOs) create and work with. We have used it as the example dataset in our earlier course on data cleaning. In this download there are two worksheets: the original \u2018dirty\u2019 data, and the \u2018cleaned\u2019 version. Throughout, we will work with the cleaned version.</li> </ol></div> <div class="section" id="course-contents"> <h3>Course contents</h3> <p>There are four sections in this course.</p> <ul class="simple"><li><strong>Section 1</strong> covers the first steps in building a pivot table, showing what happens to your data when it is added as a Row Field in a pivot table.</li> <li>In <strong>Section 2</strong> we look at how to make a pivot table even more useful by adding \u2018data fields\u2019.</li> <li>Adding Column Fields is covered in <strong>Section 3</strong>.</li> <li>To complete the course, <strong>Section 4</strong> looks at how to create charts from data in pivot tables, adding a visual aspect to your understanding of the data.</li> </ul><p>There are three parts in each section:</p> <ul class="simple"><li>A <strong>quick task</strong> which uses a dataset about the contents of a kitchen shelf to illustrate the concept of pivot tables.</li> <li>A <strong>longer task</strong> using a dataset about the massive sell-off of agricultural land in the developing world. This will go deeper into creating pivot tables, along with some problems that will help you put your new skills into practice.</li> <li>A <strong>bonus feature</strong>, which explains how pivot tables relate to the other useful features in a spreadsheet.</li> </ul></div> <div class="section" id="how-to-do-this-course"> <h3>How to do this course</h3> <p>This course is quite short. We suggest you work sections 1 to 4 in sequence, as later sections probably won\u2019t make much sense on their own.</p> </div> </div> <div class="section" id="section-1-getting-started"> <h2>Section 1: Getting started</h2> <p>Make sure you\u2019ve got copies of <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2013-03-09T023150/pivot_building_sample20130309.xls">the sample dataset</a> and the GRAIN dataset on <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2012-10-31T183207/Original+clean_GRAIN_dataset_20121003.xls">landgrabbing</a> open in your copy of LibreOffice.</p> <div class="section" id="a-quick-task"> <h3>A quick task</h3> <p>Take a look at the sample dataset about the selection of snacks on the author\u2019s kitchen shelves. It has data about their main ingredient, quantity, and the risk they pose to the author\u2019s health:</p> <img alt="http://farm9.staticflickr.com/8528/8650783189_8c39e83f5a_o_d.png" src="http://farm9.staticflickr.com/8528/8650783189_8c39e83f5a_o_d.png"><p>Start by building a pivot table using the data from the sample sheets:</p> <ol class="arabic"><li><p class="first">Select all the data. You can do this by selecting cell A1 and dragging the mouse to cell D9, or holding down Ctrl-A (Cmd-A on Apple Mac computers).</p> </li> <li><p class="first">With the data now selected choose <strong>Data \u2192 Pivot Table \u2192 Create</strong> from the spreadsheet\u2019s top menu. A pop-up window will appear asking if you want to use the \u2018current selection\u2019. Choose <strong>OK</strong>.</p> </li> <li><p class="first">As illustrated below, you\u2019ll see some grey tiles that correspond with the column headings from your raw data.</p> </li> <li><p class="first">Let\u2019s pivot them, that is, turn a column into a row. Select and hold the tile labelled <strong>Snack</strong> and drag it into the white areas called <strong>Row Field</strong>, as illustrated below:</p> <img alt="http://farm9.staticflickr.com/8259/8650783239_013f6acaf3_b_d.jpg" src="http://farm9.staticflickr.com/8259/8650783239_013f6acaf3_b_d.jpg"></li> <li><p class="first">Click OK. A new worksheet will be created, which you\u2019ll see in the tabs at the bottom of the spreadsheet. Below is the data it will contain:</p> <img alt="http://farm9.staticflickr.com/8404/8651881512_d5de55d642_o_d.png" src="http://farm9.staticflickr.com/8404/8651881512_d5de55d642_o_d.png"></li> </ol><p>So, what has happened to the data?</p> <p>In the original data, \u201cBiscuit\u201d is mentioned 3 times: the Pivot table shows it only once. \u201cSandwich\u201d is mentioned 2 times: the Pivot table shows it only once. And so on. The Pivot table has <strong>grouped and summarised</strong> the data in the <strong>Snack</strong> column of your raw dataset. It answers the question of what different types of snack are included in the data.</p> <p>Pivot tables can be created with more than one <strong>Row Field</strong>. Using the sample dataset, let\u2019s choose another row of data to add:</p> <ol class="arabic"><li><p class="first">In the pivot table you have created, there is a secondary menu. This is activated with a right click of your mouse (or a two-fingered tap on the keypad on Apple Mac computers) anywhere on the pivot table. It will look like this:</p> <img alt="http://farm9.staticflickr.com/8254/8651881506_4358fa812e_o_d.png" src="http://farm9.staticflickr.com/8254/8651881506_4358fa812e_o_d.png"></li> <li><p class="first">Select <strong>Edit Layout</strong>. This will open the Pivot Table editor again.  This time, drag <strong>Ingredient</strong> into the <strong>Row Fields</strong> area, then click on <strong>OK</strong>. The data produced by the pivot table will now look different:</p> <img alt="http://farm9.staticflickr.com/8405/8651881524_aca9fa03a0_o_d.png" src="http://farm9.staticflickr.com/8405/8651881524_aca9fa03a0_o_d.png"></li> </ol><p>What\u2019s happened this time? In the same way as before, the pivot table has also grouped and  summarised the data about \u2018Ingredients\u2019. The great thing about this is that it has grouped the data about ingredients to show them for each type of snack.  We can turn this around to give another view, from the perspective of the ingredient, not the treat.</p> <p>To do this, edit the pivot table layout again (right click on the pivot table), re-order the tiles that appear as <strong>Row Fields</strong> (as shown below) to place \u2018<strong>Ingredient</strong>\u2019 on top.</p> <img alt="http://farm9.staticflickr.com/8546/8650783267_cda9dc955d_o_d.png" src="http://farm9.staticflickr.com/8546/8650783267_cda9dc955d_o_d.png"><p>Select <strong>OK</strong> to re-create the pivot table with the new layout. This is how the data in it will look:</p> <img alt="http://farm9.staticflickr.com/8249/8650783409_2779f16f42_o_d.png" src="http://farm9.staticflickr.com/8249/8650783409_2779f16f42_o_d.png"><p>In this pivot table the groups of values are arranged in a different way. Rather than showing the ingredients that go into each snack, this shows the types of snack that contain a particular ingredient.</p> <p>Got it? Let\u2019s try it out on a larger dataset where we can see the value of a pivot table more dramatically.</p> </div> <div class="section" id="a-longer-task"> <h3>A longer task</h3> <p>Let\u2019s try the same technique on the larger GRAIN dataset on commercial landgrabbing, a cleaned version of which you can <a class="reference external" href="https://ckannet-storage.commondatastorage.googleapis.com/2012-10-31T183207/Original+clean_GRAIN_dataset_20121003.xls">download from the Datahub</a>.</p> <p>Spend a bit of time familiarising yourself with this dataset. A good (but more time consuming) way of doing this is to work through the School of Data course called <a class="reference external" href="/handbook/courses/data-cleaning/">A Gentle Introduction to Cleaning Data</a>, which also uses the GRAIN dataset as the basis of lessons.</p> <p>If you don\u2019t have time right now, the basics of this dataset are as below:</p> <ul class="simple"><li>the dataset has been made by <a class="reference external" href="http://www.grain.org/">GRAIN</a>, a research and advocacy organisation which works to support biodiversity and sustainable, community-controlled food systems.</li> <li>each row of the dataset contains details about the sale of a huge amount of agricultural land in a country, often in the global south.</li> <li>the columns contain data about the names of investors and the countries where they are based, the country where the land deal has been carried out, the size of the land deal, and the amount of money invested to purchase the land, and whether the deal went ahead.</li> </ul><p>To create a pivot table in the GRAIN dataset the steps are the same:</p> <ol class="arabic simple"><li>Select the complete dataset (from cell A1 to I417). Remember that if you don\u2019t select data, it won\u2019t be included in the pivot table.</li> <li>From the top menu, select <strong>Data \u2192 Pivot Table \u2192 Create</strong>.</li> <li>In the window that appears, choose \u201cCurrent selection\u201d and then click \u201cOK\u201d.</li> <li>Choose the layout of your pivot table by dragging the \u2018tiles\u2019 representing the different columns of data into different parts of the pivot table layout.</li> <li>When you\u2019re happy, select \u2018OK\u2019 to create the pivot table.</li> <li>If you want to change the layout of a pivot table, right click on the pivot table to bring up a secondary menu, and select \u201cEdit Layout\u201d.</li> </ol><p>The GRAIN dataset has nine columns of data. In this lesson, we\u2019ll just add different combinations of fields into the <strong>Row Fields</strong> part of the pivot table to answer specific questions.</p> <p>We\u2019ll walk through one of the questions to get you started: <strong>\u201cIn which countries has land been acquired?\u201d</strong></p> <ol class="arabic"><li><p class="first">The data you need to answer this is in column A, labelled \u201cLandgrabbed\u201d.</p> </li> <li><p class="first">Select the complete dataset. Go to Data \u2192 Pivot Table \u2192 Create.</p> </li> <li><p class="first">Choose \u201cCurrent selection\u201d and the empty layout window will appear, as below:</p> <img alt="http://farm9.staticflickr.com/8264/8651881598_507370689f_b_d.jpg" src="http://farm9.staticflickr.com/8264/8651881598_507370689f_b_d.jpg"></li> <li><p class="first">Uh oh! As you can see, there are two tiles that are labelled the same. This is because there are two columns that are very similar - \u2018LandgrabbeD\u2019 and \u2018LandgrabbeR\u2019 - and the pivot table layout unhelpfully trims the label side. Hover your mouse over the tile to reveal the full name of the column of data you want to add, as below:</p> <img alt="http://farm9.staticflickr.com/8262/8650783349_4a70be6197_o_d.png" src="http://farm9.staticflickr.com/8262/8650783349_4a70be6197_o_d.png"></li> <li><p class="first">Now you know which tile contains the right data, drag \u2018Landgrabbed\u2019 into the Row Fields area, and click on OK to make the pivot table:</p> <img alt="http://farm9.staticflickr.com/8528/8650783423_9e1dc2f9a0_b_d.jpg" src="http://farm9.staticflickr.com/8528/8650783423_9e1dc2f9a0_b_d.jpg"></li> <li><p class="first">The data in this pivot table will be as below, a list of countries:</p> <img alt="http://farm9.staticflickr.com/8264/8651881642_5b064291ed_o_d.png" src="http://farm9.staticflickr.com/8264/8651881642_5b064291ed_o_d.png"></li> </ol><p>We can now build on this list to increase our understanding of what is in the dataset. For example, by editing the layout and dragging the tile called \u2018Landgrabber\u2019 into the Row Fields area, we can answer this question: <strong>\u201cWhich companies have acquired land in which countries?\u201d</strong></p> <ol class="arabic"><li><p class="first">Here\u2019s how the pivot table layout should look:</p> <img alt="http://farm9.staticflickr.com/8252/8651881694_ab1b3b1853_b_d.jpg" src="http://farm9.staticflickr.com/8252/8651881694_ab1b3b1853_b_d.jpg"></li> <li><p class="first">After clicking \u201cOK\u201d, here\u2019s the first few rows of data that you\u2019ll get in the pivot table:</p> <img alt="http://farm9.staticflickr.com/8109/8651881792_32af36febd_o_d.png" src="http://farm9.staticflickr.com/8109/8651881792_32af36febd_o_d.png"></li> <li><p class="first">For extra points, try reversing the order of the tiles and creating a pivot table from that layout. It will show you the same data but arranged around the investor (the \u2018Landgrabber\u2019) rather than the country where land has been acquired. Here\u2019s a bit of the data you\u2019ll get from that layout:</p> <img alt="http://farm9.staticflickr.com/8543/8650783527_d90b0bb1e6_o_d.png" src="http://farm9.staticflickr.com/8543/8650783527_d90b0bb1e6_o_d.png"></li> </ol><p>Now you\u2019re pretty much an expert, here are a few more questions that you can answer by adding in data to the Row Fields of a pivot table. Have a go at these:</p> <ol class="arabic simple"><li>In which countries are investors based (their base)?</li> <li>In which countries are investors based, and where did they acquire land?</li> <li>Which investors are working in which sectors?</li> <li>Which investors are working in which sectors, and how did they use the land they had purchased? Tip: data on how acquired land was used is in the column called \u2018Production\u2019.</li> <li>Which companies work in which sectors, broken down by base country?</li> <li>What are the names of investors that have made similar sized land acquisitions, and in which countries did they make those acquisitions?</li> <li>What were similar sized land acquisitions used for, and in which country, and what is the status of the deal?</li> </ol></div> <div class="section" id="bonus-features-sort-and-autofilter"> <h3>Bonus features: sort and autofilter</h3> <p>Where you see a downwards-pointing triangle in the top row of a pivot table, click it to activate the <strong>sort and autofilter</strong> features of the spreadsheet. Click on them to bring up the interface and have a play around with it to see how it affects the data in the pivot table.</p> </div> </div> <div class="section" id="section-2-make-a-pivot-table-even-more-useful-by-adding-data-fields"> <h2>Section 2: Make a pivot table even more useful by adding \u2018data fields\u2019</h2> <p>In <strong>Section 1</strong> we tried out building sorted and grouped lists that can use your data to answer questions. But what else can a pivot table do? In this section we\u2019ll look at how the \u2018Data Field\u2019 part of the pivot table works.</p> <div class="section" id="id1"> <h3>A quick task</h3> <p>Build a pivot of the different types of snack again, as outlined in Section 1 above. This time however, we\u2019ll add in a \u201cData Field\u201d  that will calculate how many of each type of snack there are: #. Your pivot table layout should look like the image below:</p> <blockquote> <div><img alt="http://farm9.staticflickr.com/8522/8650783577_b64b706933_b_d.jpg" src="http://farm9.staticflickr.com/8522/8650783577_b64b706933_b_d.jpg"></div></blockquote> <ol class="arabic"><li><p class="first">After creating this pivot table, the data you get will look like this:</p> <img alt="http://farm9.staticflickr.com/8263/8650783579_7b37cd0f45_o_d.png" src="http://farm9.staticflickr.com/8263/8650783579_7b37cd0f45_o_d.png"></li> </ol><p>So, what\u2019s happened?</p> <p>The pivot table has grouped and summarised the data on the types of snacks, which you put into a <strong>Row Field</strong>. The data on the quantity of snacks - which you put in the <strong>Data Field</strong> -  has been added up to create a total for each type of snack. Neat, huh?  Let\u2019s add in another <strong>Row Field</strong>, just as we did in Section 1, and see what it tells us:</p> <ol class="arabic"><li><p class="first">Bring up the secondary menu by right clicking on the pivot table, and select \u2018edit layout\u2019.</p> </li> <li><p class="first">Change the pivot table layout so it looks like the screenshot below:</p> <img alt="http://farm9.staticflickr.com/8263/8650783605_68b4b3af7c_b_d.jpg" src="http://farm9.staticflickr.com/8263/8650783605_68b4b3af7c_b_d.jpg"></li> <li><p class="first">The data shown will change again. This time, the types of snack are sub-grouped by the sort of ingredient, along with the quantities:</p> <img alt="http://farm9.staticflickr.com/8393/8650783633_8cd805bc48_o_d.png" src="http://farm9.staticflickr.com/8393/8650783633_8cd805bc48_o_d.png"></li> </ol></div> <div class="section" id="id2"> <h3>A longer task</h3> <p>We can apply the same steps to the GRAIN dataset on landgrabbing to create more useful summary views of the data. For example, let\u2019s find out how much land was reported as being acquired in each country:</p> <ol class="arabic"><li><p class="first">We won\u2019t repeat in full the steps required to create a pivot table, but will show you the layout:</p> <img alt="http://farm9.staticflickr.com/8100/8651881912_e6857dcf86_b_d.jpg" src="http://farm9.staticflickr.com/8100/8651881912_e6857dcf86_b_d.jpg"><p>Note: in the image above, the tile in Row fields is \u2018Landgrabbed\u2019. As noted above, the layout editor shortens it in an annoying manner. Hover your mouse over it to show the full fieldname.</p> </li> <li><p class="first">The effect is the same as with the example above in the short task. The data in the <strong>Row Field</strong> is summarised and grouped to show a list of countries, without duplicates. The data in the <strong>Data Field</strong> has been added up to give a total figure for each country. Here are some sample rows of what this pivot table will produce:</p> <img alt="http://farm9.staticflickr.com/8111/8651881924_f5f2fe488a_o_d.png" src="http://farm9.staticflickr.com/8111/8651881924_f5f2fe488a_o_d.png"></li> </ol><p>As before, we can continue to ask questions of the data by adding in different Row Fields. The data above shows the amount of land acquired in each country. Add in \u2018Status of deal\u2019 as a row field to refine this picture even further and show which deals are done, in process, proposed and so on.</p> <ol class="arabic"><li><p class="first">Again, here\u2019s the layout of the pivot table:</p> <img alt="http://farm9.staticflickr.com/8537/8651882012_9688445f9f_b_d.jpg" src="http://farm9.staticflickr.com/8537/8651882012_9688445f9f_b_d.jpg"></li> <li><p class="first">After creating the pivot table from the layout above, here are a few rows of the data it will generate for you:</p> <img alt="http://farm9.staticflickr.com/8520/8651881972_0094e4665e_o_d.png" src="http://farm9.staticflickr.com/8520/8651881972_0094e4665e_o_d.png"></li> </ol><p>Using your knowledge of choosing Row Fields, and now adding Data Fields, try creating pivot tables which show the following:</p> <ol class="arabic simple"><li>a little profile for each investor, showing the countries where they have acquired land, and the size of the land area they have acquired e.g. a pivot table that shows Adecoagro reportedly made deals in Argentina for 242000 ha, Brazil for 165000 ha and Uruguay for 8600 ha.</li> <li>The total amount that that each investor has invested to acquire land e.g. this pivot table should show that Saxonian Estates reportedly made investments totalling USD 7.7 million.</li> <li>The amount of land that has been acquired, organised by investment sector e.g. this pivot table will show that 160,000 ha have been acquired by investors that work in the telecommunications sector.</li> <li>The amount of investment made, organised by the size of the land acquired, showing the country where the land was acquired e.g. the pivot table you make here should be able to quickly show us that land deals of 6000 ha were made in Australia for USD 335 million, in Russia for USD 39 million and in Nigeria where there is no record of the amount invested.</li> </ol></div> <div class="section" id="bonus-features-change-which-aspects-of-data-are-shown"> <h3>Bonus features: change which aspects of data are shown</h3> <p>The fields that you add to pivot tables have two useful features you should know about. We\u2019ll give a workthrough below, but here\u2019s an overview:</p> <ol class="arabic"><li><p class="first">The data that we have positioned in the Data Field of the pivot table is often just added up - that is, where there are multiple values they are added together to show the \u201csum\u201d. However, the pivot table can show this data differently by:</p> <ol class="arabic simple"><li>picking out the <strong>highest</strong> (the \u201cmax\u201d) or <strong>lowest</strong> (the \u201cmin\u201d) values from a list.</li> <li>giving a total of the number of values (the \u201ccount\u201d).</li> <li>calculating the data as a percentage or running total.</li> </ol><p>This feature is activated by double-clicking on any tile that you\u2019ve dragged into any area of the pivot table layout editor.</p> </li> <li><p class="first">As with the <strong>Row Fields</strong>, you can have more than one data field in a pivot table. This means you can display different aspects of the same data next to each other. To use it, just drag another fieldname into the <strong>Data Fields</strong> area.</p> </li> </ol><p>Here\u2019s an example pivot table layout that demonstrates both these features.</p> <ol class="arabic"><li><p class="first">This is the layout you\u2019re aiming for:</p> <img alt="http://farm9.staticflickr.com/8519/8650783759_25799b909b_b_d.jpg" src="http://farm9.staticflickr.com/8519/8650783759_25799b909b_b_d.jpg"></li> <li><p class="first">To get there, build your pivot table as usual. This time drag \u2018Hectares\u2019 into the Data Fields four times. You\u2019ll see this:</p> <img alt="http://farm9.staticflickr.com/8120/8650783763_950020dd67_o_d.png" src="http://farm9.staticflickr.com/8120/8650783763_950020dd67_o_d.png"></li> <li><p class="first">Next, change the way that the data are displayed. To do this, double click on one of the tiles you\u2019ve dragged into Data Fields . A pop-up window will appear, like the one below:</p> <img alt="http://farm9.staticflickr.com/8105/8651882022_4def49f6ca_o_d.png" src="http://farm9.staticflickr.com/8105/8651882022_4def49f6ca_o_d.png"></li> <li><p class="first">Choose an option from the list, then select OK.</p> </li> <li><p class="first">When you\u2019ve done all four, the tiles in the Data Fields part of the layout will look like this below:</p> <img alt="http://farm9.staticflickr.com/8105/8650783783_b21f9dea9b_o_d.png" src="http://farm9.staticflickr.com/8105/8650783783_b21f9dea9b_o_d.png"></li> <li><p class="first">After you\u2019ve completed your layout, create the pivot table.</p> </li> <li><p class="first">This pivot table will show four pieces of data for each country where land has been acquired: the number (or \u2018count\u2019) of deals where the amount of land is recorded, the largest acquisition (\u2018max\u2019), the smallest acquisition (\u2018min\u2019) and the total amount of land (\u2018sum\u2019). Here\u2019s a clipping from the pivot table which shows the entry for Argentina:</p> <img alt="http://farm9.staticflickr.com/8536/8650783799_e5f073b57f_o_d.png" src="http://farm9.staticflickr.com/8536/8650783799_e5f073b57f_o_d.png"></li> </ol></div> </div> <div class="section" id="section-3-adding-columns-to-pivot-tables"> <h2>Section 3: Adding columns to pivot tables</h2> <p>In the previous sections, we looked at how to add row fields and data fields to your pivot tables. We also looked at how to sort and filter data in pivot tables, and how to adapt the display of data to pick out the largest and smallest values in a list. In this section, we\u2019ll add the final basic component: Column Fields.</p> <div class="section" id="id3"> <h3>A quick task</h3> <p>After building nearly 30 pivot tables in this course, we\u2019re sure you\u2019re now getting the hang of this. The next step is to choose the data that can be a Column Field in your pivot table.</p> <ol class="arabic"><li><p class="first">Take as a starting point the pivot table you made about snacks in Section 2. Edit the layout. This time, drag the tile labelled \u2018Risk to Health\u2019 into the Column Fields area. It will look like this:</p> <img alt="http://farm9.staticflickr.com/8240/8650783997_2349e16a88_b_d.jpg" src="http://farm9.staticflickr.com/8240/8650783997_2349e16a88_b_d.jpg"></li> <li><p class="first">After creating the pivot table, below is how the data in it will look with the new columns added:</p> <img alt="http://farm9.staticflickr.com/8258/8651882116_19373fb432_o_d.png" src="http://farm9.staticflickr.com/8258/8651882116_19373fb432_o_d.png"></li> </ol><p>The effect of adding the Column Field is to further sub-group the data. Here\u2019s the <strong>original</strong> pivot table from Section 2, so you can see the difference:</p> <img alt="http://farm9.staticflickr.com/8249/8650783891_95e27f9b02_o_d.png" src="http://farm9.staticflickr.com/8249/8650783891_95e27f9b02_o_d.png"><p>The version that includes columns enables you to see at a glance which the high risk snacks are, what they are made of, and how many of them there are. Better avoid chocolate biscuits and cream cake!</p> </div> <div class="section" id="id4"> <h3>A longer task</h3> <p>Returning to the GRAIN dataset, we can see how adding this final dimension affects how the data is shown.</p> <ol class="arabic"><li><p class="first">Create a basic pivot table which shows how much land (\u2018Hectares\u2019) has been acquired in each country (\u2018Landgrabbed\u2019).</p> </li> <li><p class="first">This time include the \u2018Status of deal\u2019 field in the <strong>Column Fields</strong> area of the pivot table layout editor:</p> <img alt="http://farm9.staticflickr.com/8249/8650783917_025a6c59e8_b_d.jpg" src="http://farm9.staticflickr.com/8249/8650783917_025a6c59e8_b_d.jpg"></li> </ol><p>The effect should be quite predictable for you by now. The pivot table will give an overview of the total amounts of land acquired for each country, broken down by the status of the deal:</p> <img alt="http://farm9.staticflickr.com/8241/8651882184_aa92a7a4ce_b_d.jpg" src="http://farm9.staticflickr.com/8241/8651882184_aa92a7a4ce_b_d.jpg"><p>The \u2018Status of deal\u2019 field is a fairly convenient field to add to the Column Fields area. When summarised by the pivot table it has only five distinct categories. This means it fits easily into the screen area! Something like \u2018Production\u2019, which has over 100 categories, would not be as easy to view.</p> <p>Have a go at changing the layout of the pivot table whilst keeping \u2018Status of deal\u2019 as a column:</p> <ol class="arabic simple"><li>Replace the tile in the Row Fields with \u2018Landgrabber\u2019 (ie. the investor) and change the tile in Data Fields to \u2018Projected Investment\u2019 (ie. the amount paid for land). This shows how much money investors have tied up in done deals, deals that are signed, proposed and so on.</li> <li>Replace the Row Fields with \u2018Sector\u2019 and the Data Fields with a <strong>count</strong> of the number of investors.  We covered how to do this in Section 2\u2019s Bonus Feature section. This pivot table will show the number and status of deals by the sector that the investor is most associated with.</li> </ol></div> <div class="section" id="bonus-features-standard-filters"> <h3>Bonus features: standard filters</h3> <p>As we noted in <strong>Section 1</strong>, the sort and filter features of the spreadsheet work in pivot tables. Another useful feature that operates in pivot table data is the <strong>standard filter</strong>. We can use this to exercise far more control over what data is displayed in a worksheet, and in pivot tables. Let\u2019s see how it works.</p> <ol class="arabic"><li><p class="first">Create this pivot table from the GRAIN data. It has \u2018Landgrabbed\u2019 and \u2018Landgrabber\u2019 as the Row Fields, \u2018Status of deal\u2019 as a Column Field, and a sum of the total size of deals (\u2018Hectares\u2019) as the Data Fields:</p> <img alt="http://farm9.staticflickr.com/8531/8650783981_1a48a58842_b_d.jpg" src="http://farm9.staticflickr.com/8531/8650783981_1a48a58842_b_d.jpg"></li> <li><p class="first">Click <strong>OK</strong>. The data it produces will be like this:</p> <img alt="http://farm9.staticflickr.com/8246/8650784015_fd8e793109_b_d.jpg" src="http://farm9.staticflickr.com/8246/8650784015_fd8e793109_b_d.jpg"></li> <li><p class="first">In the resulting pivot table click on the tile called \u2018Filter\u2019 in cell A1. The Filter Criteria window will pop-up.</p> </li> <li><p class="first">Change the fields to make them look the same as the below.  Then click \u2018OK\u2019 to apply this filter to the pivot table:</p> <img alt="http://farm9.staticflickr.com/8117/8651882252_5eebe5a07a_b_d.jpg" src="http://farm9.staticflickr.com/8117/8651882252_5eebe5a07a_b_d.jpg"></li> <li><p class="first">This will filter the data to show only those deals that are equal to or larger than (&gt;= in mathematical notation) 100,000 ha.</p> </li> <li><p class="first">The filter can be removed by opening the Filter Criteria window and selecting \u2018none\u2019 in the field name drop-down menu.</p> </li> </ol></div> </div> <div class="section" id="section-4-adding-charts-to-pivot-tables"> <h2>Section 4: Adding charts to pivot tables</h2> <p>You can chart data that is produced from a pivot table. Having both a summary of the data, and a chart is a way of further exploring and coming to an understanding of the data you have. Using the GRAIN data, here\u2019s a simple example of how it works.</p> <p>Once again, create a basic pivot table which shows the amount of land purchased in each country: drag \u2018Landgrabbed\u2019 into the Row Fields and \u2018Hectares\u2019 into the Data Fields. Here\u2019s a sample of how the data will appear:</p> <img alt="http://farm9.staticflickr.com/8525/8650784073_49f0d4076d_o_d.png" src="http://farm9.staticflickr.com/8525/8650784073_49f0d4076d_o_d.png"><p>First, sort the data so the largest land deal is at the top of the list:</p> <ol class="arabic simple"><li>Select cells B4 to A69 (in that order).</li> <li>Click the \u201cSort Descending\u201d button in the spreadsheet toolbar (it\u2019s a little \u2018up\u2019 arrow).</li> </ol><p>Second, add a chart:</p> <ol class="arabic"><li><p class="first">The data should still be selected from when you filtered it.</p> </li> <li><p class="first">In the top menu, go to <strong>Insert \u2192 Chart</strong></p> </li> <li><p class="first">The Chart Wizard window will pop-up. The chart it will choose is a Vertical Bar Graph. Don\u2019t change a thing, just select Finish and you\u2019ll get this dense chart:</p> <img alt="http://farm9.staticflickr.com/8099/8650784079_73eab1974a_o_d.png" src="http://farm9.staticflickr.com/8099/8650784079_73eab1974a_o_d.png"></li> </ol><p>Third, refine the chart to show only the 10 countries where the most land has been acquired:</p> <ol class="arabic"><li><p class="first">By hiding rows in the pivot table, we can change what data is shown in the chart.</p> </li> <li><p class="first">Select rows 14 to 70. In the top menu, go to <strong>Format \u2192 Row \u2192 Hide</strong>. The chart will change to the below, which is far easier to grasp:</p> <img alt="http://farm9.staticflickr.com/8380/8650784069_9383c79099_o_d.png" src="http://farm9.staticflickr.com/8380/8650784069_9383c79099_o_d.png"></li> </ol><div class="section" id="id5"> <h3>A quick task</h3> <p>Try to create a pivot table with a chart showing which investors have acquired the most land.</p> </div> </div> </div>   <p><small>Last updated on Apr 15, 2013.</small></p></div>
p4243
sS'dateCreated'
p4244
(ixmlrpclib
DateTime
p4245
(dp4246
g32
S'20130415T13:15:12'
p4247
sbsS'wp_author_display_name'
p4248
S'Michael Bauer'
p4249
sS'link'
p4250
S'http://schoolofdata.org/handbook/courses/gentle-introduction-descriptive-data-analysis/'
p4251
sS'page_status'
p4252
S'publish'
p4253
sS'categories'
p4254
(lp4255
sS'wp_page_template'
p4256
S'default'
p4257
sS'mt_allow_pings'
p4258
I0
sS'date_created_gmt'
p4259
(ixmlrpclib
DateTime
p4260
(dp4261
g32
S'20130415T13:15:12'
p4262
sbssS'4331'
p4263
(dp4264
S'wp_author'
p4265
S'Vanessa Gennarelli'
p4266
sS'userid'
p4267
S'16887'
p4268
sS'excerpt'
p4269
g8
sS'wp_page_parent_id'
p4270
I0
sS'mt_allow_comments'
p4271
I1
sS'text_more'
p4272
g8
sS'custom_fields'
p4273
(lp4274
(dp4275
S'value'
p4276
S'1230937919'
p4277
sS'id'
p4278
S'18767'
p4279
sS'key'
p4280
S'dsq_thread_id'
p4281
sasS'wp_author_id'
p4282
S'16887'
p4283
sS'title'
p4284
S'Data Explorer Mission 2'
p4285
sS'wp_password'
p4286
g8
sS'wp_page_parent_title'
p4287
g8
sS'page_id'
p4288
I4331
sS'wp_slug'
p4289
S'data-explorer-mission-2'
p4290
sS'wp_page_order'
p4291
I0
sS'permaLink'
p4292
S'http://schoolofdata.org/data-explorer-mission-2/'
p4293
sS'description'
p4294
V<h2><img alt="" /><img src="http://gifs.gifbin.com/112009/reverse-1257847777_vintage_pong.gif" alt="" /></h2>\u000a<h2>Good day, Agents.</h2>\u000a&nbsp;\u000a<h2>A few priority items:</h2>\u000a<ul>\u000a	<li><em>How Badges Work</em>. Each week from here on out, at the close of your rendezvous, you'll be invited to submit your project for a Badge. At first, Mission Control will review your projects before you become Experts, or holders of the Badge. After you become an Expert, you may review the projects of your fellow agents--and Mission Control recommends that you do so. To find out more:<a href="http://badges.p2pu.org/en/about" rel="nofollow" target="_blank">http://badges.p2pu.org/en/about</a></li>\u000a	<li><em>Facilitators.</em>You may submit your notes and your reflections from your rendezvous here:<a href="http://badges.p2pu.org/en/badge/view/36/" rel="nofollow" target="_blank">http://badges.p2pu.org/en/badge/view/36/</a>. You are eligible for this stamp on your dossier:<img alt="" /><img alt="" /><img alt="" /><a rel="nofollow" target="_blank"><img alt="" /></a><a href="http://www.flickr.com/photos/mozzadrella/8672879832/" rel="nofollow" target="_blank"><img src="http://farm9.staticflickr.com/8539/8672879832_4ddbc46988_s.jpg" alt="facilitation" width="75" height="75" /></a></li>\u000a</ul>\u000a<h2>Your Next Mission:</h2>\u000aStep 1: REALLY LOOK at your data.\u000a<ul>\u000a	<li>Is it clean?</li>\u000a	<li>Are there any duplicates.</li>\u000a	<li>Is all the dataof the same type in each column?</li>\u000a	<li>Figure out how you\u2019re going to deal with missing values.</li>\u000a	<li>Does it make sense?</li>\u000a</ul>\u000aTake a look at Tactical Tech's Guide on cleaning data if you are unsure of what to look for, or not sure how tocorrect them.<a href="http://bit.ly/ttc-cleaning" rel="nofollow" target="_blank">http://bit.ly/ttc-cleaning</a>\u000a\u000aStep 2: Prep for Mission.\u000a<ul>\u000a	<li>BEFORE CLEANING: Let's get some good practice rolling. You should never edit in the original file - it's always good to maintain a copy of the original - so you can check what you have done.\u000a<ul>\u000a	<li>Record where you got your data from(basically the url and date when you downloaded the file)</li>\u000a	<li>Make a working copy of each spreadsheet and give it a new name. (I append _workingcopy to the file.)</li>\u000a	<li>Create a .txt file to act as a lab or data notebook. Take notes on EVERYTHING you do with the data.</li>\u000a</ul>\u000a</li>\u000a	<li>Questions to ask:\u000a<ul>\u000a	<li>What is in the left column? How is the list arranged? Try sorting andfiltering different columns - what do you notice? Anything interesting? Take a look at the School of Data course on sorting and filtering if you're new to spreadsheets:<a href="http://bit.ly/sort-and-filter" rel="nofollow" target="_blank">http://bit.ly/sort-and-filter</a></li>\u000a	<li>Look for missing or strange values. What do you find?</li>\u000a</ul>\u000a</li>\u000a</ul>\u000a<ul>\u000a	<li>Get cleaning:\u000a<ul>\u000a	<li>OK Now we need tomake cleaning decisions. For example:Do we want to look at countries, regions, or just the world?</li>\u000a	<li>MAKE SURE you\u2019re working on the working copy.</li>\u000a	<li>Anything that you delete or change - record it in your notebook - this is all important for tracking your steps!</li>\u000a</ul>\u000a</li>\u000a</ul>\u000aStep 3: Step back.\u000a<ul>\u000a	<li>Think back to the questions you highlighted in your group. Is it possible to answer any of them just by exploring the data?</li>\u000a	<li>If YES - congratulations, have a cup of tea and a biscuit. If NO, draw up a list of what further information or stepsyou would need in order to answer your question. Share them with your group.</li>\u000a</ul>\u000aIMPORTANT: The most helpful thing you can do is<strong>ask</strong>. Never be stuck.Other Data Agents may be able to help you if you run into trouble, Agent. Reach out to them as a resource.\u000a\u000aBe curious - has someone done something you don't know how to? Ask them how they did it!\u000a\u000aMay you emerge successful.\u000a-Mission Control
p4295
sS'dateCreated'
p4296
(ixmlrpclib
DateTime
p4297
(dp4298
g32
S'20130423T15:00:22'
p4299
sbsS'wp_author_display_name'
p4300
S'Vanessa Gennarelli'
p4301
sS'link'
p4302
S'http://schoolofdata.org/data-explorer-mission-2/'
p4303
sS'page_status'
p4304
S'publish'
p4305
sS'categories'
p4306
(lp4307
sS'wp_page_template'
p4308
S'default'
p4309
sS'mt_allow_pings'
p4310
I1
sS'date_created_gmt'
p4311
(ixmlrpclib
DateTime
p4312
(dp4313
g32
S'20130423T15:00:22'
p4314
sbssS'925'
p4315
(dp4316
S'wp_author'
p4317
S'Michael Bauer'
p4318
sS'userid'
p4319
S'2191'
p4320
sS'excerpt'
p4321
g8
sS'wp_page_parent_id'
p4322
I0
sS'mt_allow_comments'
p4323
I0
sS'text_more'
p4324
g8
sS'custom_fields'
p4325
(lp4326
(dp4327
S'value'
p4328
S'966942198'
p4329
sS'id'
p4330
S'947'
p4331
sS'key'
p4332
S'dsq_thread_id'
p4333
sasS'wp_author_id'
p4334
S'2191'
p4335
sS'title'
p4336
S'Data Expeditions'
p4337
sS'wp_password'
p4338
g8
sS'wp_page_parent_title'
p4339
g8
sS'page_id'
p4340
I925
sS'wp_slug'
p4341
S'data-expeditions'
p4342
sS'wp_page_order'
p4343
I0
sS'permaLink'
p4344
S'http://schoolofdata.org/data-expeditions/'
p4345
sS'description'
p4346
V<div class="well" 'markdown="1"'>\u000aThe best data storytellers haven\u2019t learned everything they know from a book... A lot was trial and error, picking sometimes the right path, sometimes a dead-end, sometimes needing to learn a new skill to traverse the peaks... </div>\u000a\u000a<br></br>\u000a\u000a<div class="centered">\u000a <a href="https://docs.google.com/forms/d/1p-3Bqr3MkIQZ_VoQqed7OKoAfmoYZffZaJ32HdLHNRE/viewform" class="btn btn-large blue centred" style="color:#0DB1DB" "text-align:centre">Join or lead a Data Expedition</a>\u000a</div>\u000a<br></br>\u000a\u000a<div class="centered">\u000a <a href="http://okfnlabs.org/timeliner/view/?url=https%3A%2F%2Fdocs.google.com%2Fa%2Fokfn.org%2Fspreadsheet%2Fccc%3Fkey%3D0Aq9agjil66PydGRqT3N2dl8xblg2X20zd3RQTTZhVEE%23gid%3D0" class="btn btn-large blue centred" style="color:#0DB1DB" "text-align:centre">See a timeline and map of data expeditions</a>\u000a</div>\u000a<br></br>\u000a\u000a## What exactly is a data expedition? \u000a\u000a<p>Data Expeditions are quests to map uncharted territory, discover hidden stories and solve unsolved mysteries in the Land of Data. In a team you'll tackle a problem, answer a question or work on a project. We help you to get started and it's up to you to decide where you go...</p>\u000a\u000a<strong>Intrigued? Read on... </strong> \u000a\u000a<p>At School of Data, two of our central philosophies are <em>learn by doing</em> and work with <em>real data</em>.</p> \u000a\u000a<img alt="" src="http://farm8.staticflickr.com/7087/7194522034_b5bd56b90d_z.jpg" title="Data Mountains"/>\u000a\u000a<table class="tableexp">\u000a<tr><td><small>Image source: <a href="http://www.flickr.com/photos/glenn-/7194522034/sizes/m/in/photostream/" target="_new">glenn . on Flickr</a></small></tr></td> \u000a</table>\u000a\u000a<p>Data Expeditions are the truest embodiment of these philosophies. We set you a challenge, group you into a team and you decide how to tackle the mountain ahead of you. You may even make some new friends along the way... </p>\u000a\u000a<p> We\u2019ll provide some guidance, a leg-up (if you need it) and geeky humor - everything else is up to the participants. </p> \u000a\u000a## Who are data expeditions for? \u000a\u000aEveryone. There is a role for everyone and you 'play' the role you are strongest in, while, if you like, pairing up with people who are stronger in a skill you'd like to know more about. The required roles for a data expedition can be found below: \u000a\u000a<ul>\u000a	<li><strong>Storyteller</strong> \u2013 People who are good at finding interesting angles to explore and producing outputs that really speak to the intended audience. Storytellers are particularly key in defining the question and in pulling together the final mission reports at the end.</li>\u000a	<li><strong>Scout</strong> \u2013 Scouts hunt down data from across the web. They can be non-technical or technical, depending on how difficult it is to obtain data (whether it is easily downloadable or needs to be scraped etc).</li>\u000a	<li><strong>Analyst</strong> \u2013 Analysts are the ones who crunch the data found by the scouts and test the hypotheses generated by the storytellers.</li>\u000a	<li><strong>Engineers</strong> (Optional) \u2013 Put together the final outputs with help of the group. Engineers are usually somewhere on the technical spectrum but they don\u2019t have to necessarily be coders, we\u2019ve seen loads of great outputs from people who know how to use off-the-shelf tools.</li>\u000a	<li><strong>Designers</strong> \u2013 Beautify the outputs and make sure the story really comes through the data. Note: a paper representation of how you would like to present your outputs is just as valid as a fully-fledged interactive graphic produced by a coder (sometimes it even serves as a precursor to an interactive).</li>\u000a</ul>\u000a\u000a<p>Like a real quest, your teammates will give you a leg-up when you are stuck, point out alternative routes when one proves unfruitful. No expedition will ever be the same twice, and how much you learn depends on your team\u2019s ability to work together and teach each other...</p>\u000a\u000a## What will I be expected to produce on a data expedition? \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8209/8173121578_a48a960df5.jpg" title="Timeline - HIV crisis - Botswana" class="pull-left" style="margin-right: 1em;" width="180" height="180" />\u000a\u000a<p> Unlike in a traditional course, there are no right answers. What's more, we don't specify what the outputs should be. This is deliberate, we want to encourage creativity and free thinking. This means you can produce whatever you like, from a blog post or a scanned pencil-drawn version of a visualisation you'd like to create, up to a fully-fledged, interactive application.</p>\u000a\u000a<p>The main aim is for the investigators to learn from each other and work with data to solve real-life problems, answer questions and tell stories.</p>\u000a\u000a## How long will it take?\u000a\u000aExpeditions offline can be anywhere from 3 hours to a day. \u000a\u000aOnline they typically take 2-3 weeks (expect to work around 3-4h per week). We will experiment in the near future with holding intense day-long and one week online sessions. Stay tuned. \u000a\u000a## OK, I'm feeling brave. How do I start?\u000a\u000a<div class="well" 'markdown="1"'>\u000a\u000aCongratulations, intrepid explorer, on being one of the brave who prepare to set out on a misty morning to uncover the mysteries, climb the peaks and catalogue new species.\u000a\u000a</div> \u000a\u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8313/8019246356_a7b17db0f6_n.jpg" title="Looking out into the data landscape" class="pull-right" style="margin-left: 1em;" width="180" height="180" />\u000a\u000a\u000a<p>Participation is easy - no prior knowledge or experience is needed. As long as you are willing to learn and come along, you\u2019re welcome. If you have skills in some areas but not in some others: Join in you\u2019ll greatly contribute to the experience.</p>\u000a\u000a<p><strong>To participate in a future Data Expedition - fill in your <a href="https://docs.google.com/forms/d/1p-3Bqr3MkIQZ_VoQqed7OKoAfmoYZffZaJ32HdLHNRE/viewform">details</a> and we\u2019ll let you know as soon as a expedition starts.</strong></p>\u000a\u000a<h2>Guide</h2>\u000a\u000a<p>We\u2019re not only actively looking for adventurers but also for guides. If you are daring and imaginative enough to take a group through the valleys following a quest or have your own quest you have what it takes to be a Data Expedition Guide.</p> \u000a\u000a<img alt="" src="http://farm9.staticflickr.com/8069/8173097617_5ebd4a94b2_m.jpg" title="Get cape, Get Firefox, Ready to go!" class="pull-left" style="margin-right: 2em;" />\u000a\u000a<p> As a guide you will set out the quest and monitor the adventurers\u2019 progress, guiding if needed. If necessary it is good to supplement further materials or pointers to where one can find further materials to learn skills etc. </p>\u000a\u000a<p> Check our <a href="/data-expeditions/guide-for-guides/">Guide for Guides</a> on how to guide and organize a data expedition. If you're willing to guide an expedition online: <a href="https://docs.google.com/spreadsheet/viewform?formkey=dHVRa2RHVEFoRXlwem5MMkpvSDMtekE6MQ" target="_new">let us know!</a></p>\u000a\u000a**NB - Fancy dress and silly names are not mandatory - but they do help to draw a crowd.**\u000a\u000a\u000a## Steal our model - run it yourself! \u000a\u000aWe'd be delighted for you to run one of these yourself. They make great accompaniments to hackathons or to run on their own. Need a hand? Drop us a line on schoolofdata [at] okfn.org. \u000a\u000aOf course, we're always delighted when people tell us that they're running an event, so that we can feature them on the blog and help to showcase your outputs, we also love getting feedback on how the model works - so if you have any thoughts, please do let us know!\u000a\u000aA full expedition kit can be found in the <a href="/data-expeditions/guide-for-guides/">Guide for Guides</a> section. Copy & keep!  \u000a\u000aA quick note about online and offline expeditions can be found below. \u000a\u000a\u000a### Offline Expedition \u000a\u000aWe've had some practice running these expeditions online. Our first trial run launched at MozFest in 2012 ([Read the Blog Post](http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/)). Expeditions are 3h to a day and include focussed work on a distinct quest. For our first expedition we had three different quests - loads of geeky humor and sparkly capes. \u000a\u000aRemember the aim is having fun while working and learning about data - not the outcome.\u000a\u000a### Online Expedition \u000a\u000aOnline Expeditions try to take the concept of Data Expeditions out of the physical world and depend on emails and other means for organizing. \u000a\u000aOur first online expedition is just out there in the cold at the moment. We will post calls to upcoming online expeditions on our <a target="_new" href="http://lists.okfn.org/mailman/listinfo/school-of-data-announce">mailing-list</a> and our <a href="/blog">blog</a> - so follow them closely.  \u000a\u000a## Past Expeditions \u000a\u000a* <strong><a href="http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/#quest-1-mining-the-mines">Mining the Mines</a></strong> (Offline). The discovery of oil or natural resources in a country and subsequent mining and extraction activities have enormous economic and political significance. This expedition investigated the tangled world of extractive industries... Read more on the <a href="http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/#quest-1-mining-the-mines">outcomes</a>. \u000a* <strong><a href="http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/#quest-2-a-call-to-investigate-an-african-crisis">A Call to Investigate an African Crisis</a> </strong>(Offline). Data Sherpa Michael got a call from some dwarves in Middle Earth, who had heard about a sudden drop in life expectancy in central Africa. After initial musings about a civil war, the team discovered a striking correlation between the increasing prevalence of HIV and plummeting life expectancies... Read more on the <a href="http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/#quest-2-a-call-to-investigate-an-african-crisis">outcomes</a>. \u000a* <strong><a href="http://schoolofdata.org/2012/11/14/data-expeditions-at-mozfest/#quest-3-tax-islands">Investigating Tax Havens</a></strong> (Offline).  This was an experiment in providing a chain of possible investigations and then allowing a storyteller to choose their own expedition path through the data. The group divided into two teams to explore the possible routes: the tax avoidance route and evasion route and then find possibly culprits. Read more on the <a href="This was an experiment in providing a group with a chain of possible investigations (a map for the landscape) and then allowing a storyteller to choose their own expedition path throuh the data. The group divided into two teams to explore the possible stories (routes) you might want to take through tax avoidance and evasion.">outcomes</a>. \u000a* <strong>Flatland</strong> (Online). An quest to investigate obesity from around the world... \u000a* <strong><a href="http://schoolofdata.org/2013/02/26/data-expeditions-on-open-data-day/">Open Data Day 2013</strong></a> (Offline).
p4347
sS'dateCreated'
p4348
(ixmlrpclib
DateTime
p4349
(dp4350
g32
S'20121210T09:51:15'
p4351
sbsS'wp_author_display_name'
p4352
S'Michael Bauer'
p4353
sS'link'
p4354
S'http://schoolofdata.org/data-expeditions/'
p4355
sS'page_status'
p4356
S'publish'
p4357
sS'categories'
p4358
(lp4359
sS'wp_page_template'
p4360
S'default'
p4361
sS'mt_allow_pings'
p4362
I0
sS'date_created_gmt'
p4363
(ixmlrpclib
DateTime
p4364
(dp4365
g32
S'20121210T09:51:15'
p4366
sbss.